<!doctype html>
<html lang=en-US>

<!-- Mirrored from codemirror.net/docs/changelog/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 01 Jul 2024 17:27:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<meta charset=utf8>
<meta name="viewport" content="width=device-width, initial-scale=1"><title>CodeMirror Changelog</title>
<link rel=stylesheet href=../../style/site.css>
<link rel=icon href=../../style/logo.svg>

<header>
  <nav>
    <a class=logo href="../../index.html">CodeMirror</a>
    <div class=navlinks>
      <a href="../../examples/index.html" >Examples</a>
      <a href="../index.html" class=active>Documentation</a>
      <a href="../../try/index.html" >Try</a>
      <a href="https://discuss.codemirror.net/">Discuss</a>
      <a href="https://github.com/codemirror/dev/">GitHub</a>
      <a href="../../5/index.html">Version 5</a>
    </div>
  </nav>
</header><article><h1 id="changelog" tabindex="-1">Changelog</h1>
<p>Version history and release notes of the core packages.</p>
<h2 id="%40codemirror%2Fview-6.28.3-(2024-07-01)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.28.3 (2024-07-01)</h2>
<h3 id="bug-fixes" tabindex="-1">Bug fixes</h3>
<p>Fix an issue causing the IME interface to appear in the wrong spot on Chrome Windows.</p>
<h2 id="%40codemirror%2Fview-6.28.2-(2024-06-21)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.28.2 (2024-06-21)</h2>
<h3 id="bug-fixes-1" tabindex="-1">Bug fixes</h3>
<p>Only use <code>EditContext</code> on Chrome versions that support passing it an inverted selection range.</p>
<p>Fix an issue that prevented non-inclusive block widgets from having their <code>updateDOM</code> method called when changed.</p>
<p>Re-enable <code>EditContext</code> use on Chrome 126 and up.</p>
<h2 id="%40codemirror%2Fautocomplete-6.16.3-(2024-06-19)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.16.3 (2024-06-19)</h2>
<h3 id="bug-fixes-2" tabindex="-1">Bug fixes</h3>
<p>Avoid adding an <code>aria-autocomplete</code> attribute to the editor when there are no active sources active.</p>
<h2 id="%40codemirror%2Flint-6.8.1-(2024-06-19)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.8.1 (2024-06-19)</h2>
<h3 id="bug-fixes-3" tabindex="-1">Bug fixes</h3>
<p>Make lint markers non-inclusive again, since having them that way causes more issues than it solves.</p>
<h2 id="%40codemirror%2Fview-6.28.1-(2024-06-12)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.28.1 (2024-06-12)</h2>
<h3 id="bug-fixes-4" tabindex="-1">Bug fixes</h3>
<p>Disable <code>EditContext</code> by default again, to work around a regression where Chrome's implementation doesn't support inverted selections.</p>
<p>Make sure <code>EditorView.editable</code> is respected when <code>EditContext</code> is used.</p>
<h2 id="%40codemirror%2Fview-6.28.0-(2024-06-10)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.28.0 (2024-06-10)</h2>
<h3 id="bug-fixes-5" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where long lines broken up by block widgets were sometimes only partially rendered.</p>
<h3 id="new-features" tabindex="-1">New features</h3>
<p>The editor will now, when available (which is only on Chrome for the foreseeable future) use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/EditContext"><code>EditContext</code></a> API to capture text input.</p>
<h2 id="%40codemirror%2Fview-6.27.0-(2024-06-04)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.27.0 (2024-06-04)</h2>
<h3 id="new-features-1" tabindex="-1">New features</h3>
<p>The new <code>setTabFocusMode</code> method can be used to control whether the editor disables key bindings for Tab and Shift-Tab.</p>
<h2 id="%40codemirror%2Fview-6.26.4-(2024-06-04)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.26.4 (2024-06-04)</h2>
<h3 id="bug-fixes-6" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where commands with an optional second argument would get the keyboard event in that argument when called from a keymap.</p>
<p>Fix an issue that could cause the cursor to be rendered on the wrong side of a zero-length block widget.</p>
<p>Fix an issue where <code>drawSelection</code> got confused by block widgets in line-wrapped editors in some situations.</p>
<p>Don't hide the native selection in widgets that have focus.</p>
<p>Make sure that clicking an unfocusable editor still remove focus from any other focused elements.</p>
<p>Fix a crash when loading the package in a non-browser environment.</p>
<p>Stop mouse selection when the user types.</p>
<h2 id="%40codemirror%2Fcommands-6.6.0-(2024-06-04)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.6.0 (2024-06-04)</h2>
<h3 id="new-features-2" tabindex="-1">New features</h3>
<p>The new <code>toggleTabFocusMode</code> and <code>temporarilySetTabFocusMode</code> commands provide control over the view's tab-focus mode.</p>
<p>The default keymap now binds Ctrl-m (Shift-Alt-m on macOS) to <code>toggleTabFocusMode</code>.</p>
<h2 id="%40codemirror%2Flanguage-6.10.2-(2024-06-03)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.10.2 (2024-06-03)</h2>
<h3 id="bug-fixes-7" tabindex="-1">Bug fixes</h3>
<p>Fix an infinite loop that could occur when enabling <code>bidiIsolates</code> in documents with both bidirectional text and very long lines.</p>
<h2 id="%40codemirror%2Fautocomplete-6.16.2-(2024-05-31)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.16.2 (2024-05-31)</h2>
<h3 id="bug-fixes-8" tabindex="-1">Bug fixes</h3>
<p>Allow backslash-escaped closing braces inside snippet field names/content.</p>
<h2 id="%40codemirror%2Fautocomplete-6.16.1-(2024-05-29)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.16.1 (2024-05-29)</h2>
<h3 id="bug-fixes-9" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where multiple backslashes before a brace in a snippet were all removed.</p>
<h2 id="%40codemirror%2Flint-6.8.0-(2024-05-23)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.8.0 (2024-05-23)</h2>
<h3 id="new-features-3" tabindex="-1">New features</h3>
<p>The new <code>autoPanel</code> option can be used to make the panel automatically appear when diagnostics are added and close when no diagnostics are left.</p>
<h2 id="%40codemirror%2Flint-6.7.1-(2024-05-15)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.7.1 (2024-05-15)</h2>
<h3 id="bug-fixes-10" tabindex="-1">Bug fixes</h3>
<p>Don't perform an additional superfluous timed lint run after <code>forceLinting</code> has been called.</p>
<h2 id="%40codemirror%2Flint-6.7.0-(2024-04-30)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.7.0 (2024-04-30)</h2>
<h3 id="new-features-4" tabindex="-1">New features</h3>
<p>The <code>renderMessage</code> function is now called with the editor view as first argument.</p>
<h2 id="%40codemirror%2Flint-6.6.0-(2024-04-29)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.6.0 (2024-04-29)</h2>
<h3 id="new-features-5" tabindex="-1">New features</h3>
<p>The new <code>hideOn</code> configuration option can be used to control in what circumstances lint tooltips get hidden by state changes.</p>
<h2 id="%40codemirror%2Fcommands-6.5.0-(2024-04-19)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.5.0 (2024-04-19)</h2>
<h3 id="new-features-6" tabindex="-1">New features</h3>
<p>The <code>insertNewlineKeepIndent</code> command inserts a newline along with the same indentation as the line before.</p>
<h2 id="%40codemirror%2Fcommands-6.4.0-(2024-04-17)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.4.0 (2024-04-17)</h2>
<h3 id="bug-fixes-11" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where <code>deleteLine</code> sometimes leaves the cursor on the wrong line.</p>
<h3 id="new-features-7" tabindex="-1">New features</h3>
<p>The new <code>deleteCharBackwardStrict</code> command just deletes a character, without further smart behavior around indentation.</p>
<h2 id="%40codemirror%2Flanguage-data-6.5.1-(2024-04-15)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.5.1 (2024-04-15)</h2>
<h3 id="bug-fixes-12" tabindex="-1">Bug fixes</h3>
<p>Properly specify the dependency on @codemirror/legacy-modes version 6.4.</p>
<h2 id="%40codemirror%2Fview-6.26.3-(2024-04-12)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.26.3 (2024-04-12)</h2>
<h3 id="bug-fixes-13" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where dispatching an update to an editor before it measured itself for the first time could cause the scroll position to incorrectly move.</p>
<p>Fix a crash when multiple tooltips with arrows are shown.</p>
<h2 id="%40codemirror%2Fautocomplete-6.16.0-(2024-04-12)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.16.0 (2024-04-12)</h2>
<h3 id="new-features-8" tabindex="-1">New features</h3>
<p>The new <code>activateOnCompletion</code> option allows autocompletion to be configured to chain completion activation for some types of completions.</p>
<h2 id="%40codemirror%2Fview-6.26.2-(2024-04-09)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.26.2 (2024-04-09)</h2>
<h3 id="bug-fixes-14" tabindex="-1">Bug fixes</h3>
<p>Improve behavior of <code>scrollPastEnd</code> in a scaled editor.</p>
<p>When available, use <code>Selection.getComposedRanges</code> on Safari to find the selection inside a shadow DOM.</p>
<p>Remove the workaround that avoided inappropriate styling on composed text after a decoration again, since it breaks the stock Android virtual keyboard.</p>
<h2 id="%40codemirror%2Flanguage-data-6.5.0-(2024-04-07)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.5.0 (2024-04-07)</h2>
<h3 id="bug-fixes-15" tabindex="-1">Bug fixes</h3>
<p>Use the new full Go language mode for Go code.</p>
<h3 id="new-features-9" tabindex="-1">New features</h3>
<p>Include data for legacy Pug mode.</p>
<h2 id="%40codemirror%2Fview-6.26.1-(2024-03-28)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.26.1 (2024-03-28)</h2>
<h3 id="bug-fixes-16" tabindex="-1">Bug fixes</h3>
<p>Fix the editor getting stuck in composition when Safari fails to fire a compositionend event for a dead key composition.</p>
<p>Fix an issue where, with IME systems that kept the cursor at the start of the composed text, the editor misidentified the target node and disrupted composition.</p>
<p>Fix a bug where in a line-wrapped editor, with some content, the initial scroll position would be off from the top of the document.</p>
<h2 id="%40codemirror%2Fview-6.26.0-(2024-03-14)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.26.0 (2024-03-14)</h2>
<h3 id="bug-fixes-17" tabindex="-1">Bug fixes</h3>
<p>Avoid the editor getting confused when iOS autocorrects on pressing Enter and does the correction and the break insertion in two different events.</p>
<p>Fix the pasting of copied URIs in iOS.</p>
<p>Fix a bug where a scaled editor could keep performing unnecessary updates due to tiny differences in geometry values returned by the browser.</p>
<p>Fix a bug where, on iOS with a physical keyboard, the modifiers for some keys weren't being passed to the keymaps.</p>
<p>Work around the fact that Mobile Safari makes DOM changes before firing a key event when typing ctrl-d on an external keyboard.</p>
<p>Fix an issue where some commands didn't properly scroll the cursor into view on Mobile Safari.</p>
<p>Re-measure the document when print settings are changed on Chrome.</p>
<h3 id="new-features-10" tabindex="-1">New features</h3>
<p>The <code>EditorView.scrollHandler</code> facet can be used to override or extend the behavior of the editor when things are scrolled into view.</p>
<h2 id="%40codemirror%2Fautocomplete-6.15.0-(2024-03-13)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.15.0 (2024-03-13)</h2>
<h3 id="new-features-11" tabindex="-1">New features</h3>
<p>The new <code>filterStrict</code> option can be used to turn off fuzzy matching of completions.</p>
<h2 id="%40codemirror%2Fautocomplete-6.14.0-(2024-03-10)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.14.0 (2024-03-10)</h2>
<h3 id="new-features-12" tabindex="-1">New features</h3>
<p>Completion results can now define a <code>map</code> method that can be used to adjust position-dependent information for document changes.</p>
<h2 id="%40codemirror%2Fview-6.25.1-(2024-03-06)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.25.1 (2024-03-06)</h2>
<h3 id="bug-fixes-18" tabindex="-1">Bug fixes</h3>
<p>Fix accidental non-optional field in layer config objects.</p>
<h2 id="%40codemirror%2Fview-6.25.0-(2024-03-04)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.25.0 (2024-03-04)</h2>
<h3 id="bug-fixes-19" tabindex="-1">Bug fixes</h3>
<p>Properly recognize Android GBoard enter presses that strip a space at the end of the line as enter.</p>
<p>Fix a bug that caused the gutter to have the wrong height when the editor was scaled after construction.</p>
<p>When starting a composition after a non-inclusive mark decoration, temporarily insert a widget that prevents the composed text from inheriting that mark's styles.</p>
<p>Make sure the selection is repositioned when a transaction changes decorations without changing the document.</p>
<h3 id="new-features-13" tabindex="-1">New features</h3>
<p>View plugins can now provide a <code>docViewUpdate</code> method that is called whenever the document view is updated.</p>
<p>Layers now take a <code>updateOnDocUpdate</code> option that controls whether they are automatically updated when the document view changes.</p>
<h2 id="%40codemirror%2Fautocomplete-6.13.0-(2024-02-29)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.13.0 (2024-02-29)</h2>
<h3 id="new-features-14" tabindex="-1">New features</h3>
<p>Completions may now provide 'commit characters' that, when typed, commit the completion before inserting the character.</p>
<h2 id="%40codemirror%2Fstate-6.4.1-(2024-02-19)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.4.1 (2024-02-19)</h2>
<h3 id="bug-fixes-20" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that caused widgets at the end of a mark decoration to be rendered in their own separate mark DOM element.</p>
<h2 id="%40codemirror%2Fview-6.24.1-(2024-02-19)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.24.1 (2024-02-19)</h2>
<h3 id="bug-fixes-21" tabindex="-1">Bug fixes</h3>
<p>Fix a crash that happens when hover tooltips are active during changes, introduced in 6.24.0.</p>
<h2 id="%40codemirror%2Fview-6.24.0-(2024-02-09)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.24.0 (2024-02-09)</h2>
<h3 id="bug-fixes-22" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that broke context-menu select-all on Chrome when the viewport didn't cover the whole document.</p>
<p>Make sure tooltips are ordered by extension precedence in the DOM.</p>
<h3 id="new-features-15" tabindex="-1">New features</h3>
<p>Hover tooltip sources may now return multiple tooltips.</p>
<h2 id="%40codemirror%2Flanguage-data-6.4.1-(2024-02-09)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.4.1 (2024-02-09)</h2>
<h3 id="bug-fixes-23" tabindex="-1">Bug fixes</h3>
<p>Include .mts and .cts as TypeScript file extensions.</p>
<h2 id="%40codemirror%2Fsearch-6.5.6-(2024-02-07)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.5.6 (2024-02-07)</h2>
<h3 id="bug-fixes-24" tabindex="-1">Bug fixes</h3>
<p>Make <code>highlightSelectionMatches</code> include whitespace in the selection in its matches.</p>
<p>Fix a bug that caused <code>SearchCursor</code> to return invalid ranges when matching astral chars that the the normalizer normalized to single-code-unit chars.</p>
<h2 id="%40codemirror%2Flanguage-6.10.1-(2024-02-02)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.10.1 (2024-02-02)</h2>
<h3 id="bug-fixes-25" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where, when a lot of code is visible in the initial editor, the bottom bit of code is shown without highlighting for one frame.</p>
<h2 id="%40codemirror%2Flint-6.5.0-(2024-01-30)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.5.0 (2024-01-30)</h2>
<h3 id="bug-fixes-26" tabindex="-1">Bug fixes</h3>
<p>Make lint mark decorations inclusive, so that they are applied even if the marked content is replaced by a widget decoration.</p>
<h3 id="new-features-16" tabindex="-1">New features</h3>
<p><code>linter</code> can now be called with null as source to only provide a configuration.</p>
<p><code>markerFilter</code> and <code>tooltipFilter</code> function now get passed the current editor state.</p>
<h2 id="%40codemirror%2Fview-6.23.1-(2024-01-24)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.23.1 (2024-01-24)</h2>
<h3 id="bug-fixes-27" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused <code>Tooltip.above</code> to not take effect for tooltips that were already present when the tooltip plugin is initialized.</p>
<p>Automatically reposition tooltips when their size changes.</p>
<h2 id="%40codemirror%2Flanguage-data-6.4.0-(2024-01-22)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.4.0 (2024-01-22)</h2>
<h3 id="bug-fixes-28" tabindex="-1">Bug fixes</h3>
<p>Include .kts as an extension for Kotlin.</p>
<p>Use @codemirror/lang-yaml instead of the legacy mode for YAML content.</p>
<h3 id="new-features-17" tabindex="-1">New features</h3>
<p>Add an entry for Liquid templates.</p>
<h2 id="%40codemirror%2Fautocomplete-6.12.0-(2024-01-12)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.12.0 (2024-01-12)</h2>
<h3 id="bug-fixes-29" tabindex="-1">Bug fixes</h3>
<p>Make sure snippet completions also set <code>userEvent</code> to <code>input.complete</code>.</p>
<p>Fix a crash when the editor lost focus during an update and autocompletion was active.</p>
<p>Fix a crash when using a snippet that has only one field, but multiple instances of that field.</p>
<h3 id="new-features-18" tabindex="-1">New features</h3>
<p>The new <code>activateOnTypingDelay</code> option allows control over the debounce time before the completions are queried when the user types.</p>
<h2 id="%40codemirror%2Fstate-6.4.0-(2023-12-28)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.4.0 (2023-12-28)</h2>
<h3 id="bug-fixes-30" tabindex="-1">Bug fixes</h3>
<p>When multiple ranges in a single range set overlap, put the smaller ones inside the bigger ones, so that overlapping decorations don't break up each other's elements when coming from the same source.</p>
<h3 id="new-features-19" tabindex="-1">New features</h3>
<p>Selection and selection range <code>eq</code> methods now support an optional argument that makes them also compare by cursor associativity.</p>
<p>The <code>RangeSet.join</code> function can be used to join multiple range sets together.</p>
<h2 id="%40codemirror%2Fview-6.23.0-(2023-12-28)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.23.0 (2023-12-28)</h2>
<h3 id="bug-fixes-31" tabindex="-1">Bug fixes</h3>
<p>Work around odd iOS Safari behavior when doing select all.</p>
<p>Fix a composition interruption when an widget is inserted next to the cursor.</p>
<p>Fix a crash in bidirectional cursor motion.</p>
<p>Simplify visual motion through bidirectional text, fix several corner cases where it would work badly.</p>
<p>Fix a bug that broke some bidi isolates not on the first line of the document.</p>
<h3 id="new-features-20" tabindex="-1">New features</h3>
<p><code>EditorView.bidiIsolatedRanges</code> now supports automatically determining the direction of the range if not provided by the decoration.</p>
<p><code>EditorView.visualLineSide</code> can be used to find the visual end or start of a line with bidirectional text.</p>
<p>The new <code>EditorView.outerDecorations</code> facet can be used to provide decorations that should always be at the bottom of the precedence stack.</p>
<h2 id="%40codemirror%2Flanguage-6.10.0-(2023-12-28)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.10.0 (2023-12-28)</h2>
<h3 id="new-features-21" tabindex="-1">New features</h3>
<p>The new <code>bidiIsolates</code> extension can be used to wrap syntactic elements where this is appropriate in an element that isolates their text direction, avoiding weird ordering of neutral characters on direction boundaries.</p>
<h2 id="%40codemirror%2Fcommands-6.3.3-(2023-12-28)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.3.3 (2023-12-28)</h2>
<h3 id="bug-fixes-32" tabindex="-1">Bug fixes</h3>
<p>Fix an issue causing cursor motion commands to not dispatch a transaction when the change only affects cursor associativity.</p>
<h2 id="%40codemirror%2Fview-6.22.3-(2023-12-13)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.22.3 (2023-12-13)</h2>
<h3 id="bug-fixes-33" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that could cause tooltips to be unnecessarily be positioned absolutely.</p>
<p>Make sure that, when an editor creates tooltips immediately on initialization, the editor is attached to the document when their <code>mount</code> callback is called.</p>
<h2 id="%40codemirror%2Fview-6.22.2-(2023-12-08)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.22.2 (2023-12-08)</h2>
<h3 id="bug-fixes-34" tabindex="-1">Bug fixes</h3>
<p>Fix an issue in the bidirectional motion that could cause the cursor to get stuck in a loop when a zero-width non-joiner char was placed on a direction boundary.</p>
<p>Fix a bug that corrupts the editor's internal view tree data structure on some types of edits, putting the editor in a broken state.</p>
<h2 id="%40codemirror%2Fstate-6.3.3-(2023-12-06)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.3.3 (2023-12-06)</h2>
<h3 id="bug-fixes-35" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where <code>Text.slice</code> and <code>Text.replace</code> could return objects with incorrect <code>length</code> when the given <code>from</code>/<code>to</code> values were out of range for the text.</p>
<h2 id="%40codemirror%2Fcommands-6.3.2-(2023-11-28)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.3.2 (2023-11-28)</h2>
<h3 id="bug-fixes-36" tabindex="-1">Bug fixes</h3>
<p>Fix a regression that caused <code>deleteCharBackward</code> to sometimes delete a large chunk of text.</p>
<h2 id="%40codemirror%2Fstate-6.3.2-(2023-11-27)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.3.2 (2023-11-27)</h2>
<h3 id="bug-fixes-37" tabindex="-1">Bug fixes</h3>
<p>Make sure transactions cannot add multiple selections when <code>allowMultipleSelections</code> is false.</p>
<p>Fix a bug that caused <code>Text.iterLines</code> to not return empty lines at the end of the iterated ranges.</p>
<h2 id="%40codemirror%2Fview-6.22.1-(2023-11-27)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.22.1 (2023-11-27)</h2>
<h3 id="bug-fixes-38" tabindex="-1">Bug fixes</h3>
<p>Call widget <code>destroy</code> methods when the entire editor is destroyed or reset.</p>
<p>Work around an issue on Safari on macOS Sonoma that made the native cursor visible even when <code>drawSelection</code> is enabled.</p>
<p>Fix an issue where, on some browsers, the screenreader announced text ended up in the printed document.</p>
<p>Fix a bug where a hover tooltip could stick around even though the pointer was no longer on the editor when it was moved out over the tooltip.</p>
<p>Fix an issue where hover tooltips could close when moving the mouse onto them due to mouse position rounding issues.</p>
<h2 id="%40codemirror%2Flanguage-6.9.3-(2023-11-27)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.9.3 (2023-11-27)</h2>
<h3 id="bug-fixes-39" tabindex="-1">Bug fixes</h3>
<p>Fix an issue in <code>StreamLanguage</code> where it ran out of node type ids if you repeatedly redefined a language with the same token table.</p>
<h2 id="%40codemirror%2Fcommands-6.3.1-(2023-11-27)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.3.1 (2023-11-27)</h2>
<h3 id="bug-fixes-40" tabindex="-1">Bug fixes</h3>
<p>When undoing, store the selection after the undone change with the redo event, so that redoing restores it.</p>
<p><code>deleteCharBackward</code> will no longer delete variant selector characters as separate characters.</p>
<h2 id="%40codemirror%2Fsearch-6.5.5-(2023-11-27)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.5.5 (2023-11-27)</h2>
<h3 id="bug-fixes-41" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused codes like <code>\n</code> to be unescaped in strings inserted via replace placeholders like <code>$&amp;</code>.</p>
<p>Use the keybinding Mod-Alt-g for <code>gotoLine</code> to the search keymap, to make it usable for people whose keyboard layout uses Alt/Option-g to type some character.</p>
<h2 id="%40codemirror%2Fautocomplete-6.11.1-(2023-11-27)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.11.1 (2023-11-27)</h2>
<h3 id="bug-fixes-42" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused typing over closed brackets after pressing enter to still not work in many situations.</p>
<h2 id="%40codemirror%2Fautocomplete-6.11.0-(2023-11-09)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.11.0 (2023-11-09)</h2>
<h3 id="bug-fixes-43" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that would prevent typing over closed brackets after starting a new line with enter.</p>
<h3 id="new-features-22" tabindex="-1">New features</h3>
<p>Additional elements rendered in completion options with <code>addToOptions</code> are now given access to the editor view.</p>
<h2 id="%40codemirror%2Fview-6.22.0-(2023-11-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.22.0 (2023-11-03)</h2>
<h3 id="bug-fixes-44" tabindex="-1">Bug fixes</h3>
<p>Exceptions raised by update listeners are now routed to the configured exception sink, if any.</p>
<p>Fix an issue where passing large scroll margins to <code>scrollIntoView</code> would cause the measure loop to fail to terminate.</p>
<p>Widgets that are draggable (and allow drag events through in their <code>ignoreEvent</code> implementation) can now use the editor's built-in drag/drop behavior.</p>
<h3 id="new-features-23" tabindex="-1">New features</h3>
<p>The new <code>scrollTo</code> option to <code>EditorView</code> allows an initial scroll position to be provided.</p>
<p>The new <code>EditorView.scrollSnapshot</code> method returns an effect that can be used to reset to a previous scroll position.</p>
<h2 id="%40codemirror%2Fview-6.21.4-(2023-10-24)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.21.4 (2023-10-24)</h2>
<h3 id="bug-fixes-45" tabindex="-1">Bug fixes</h3>
<p>Support the <code>offset</code>, <code>getCoords</code>, <code>overlap</code>, and <code>resize</code> properties on hover tooltips, as long as they aren't given conflicting values when there are multiple active hover tooltips.</p>
<p>Fix a bug that caused tooltips in the default configuration to be positioned incorrectly on Chrome when the editor was transformed.</p>
<h2 id="%40codemirror%2Flanguage-6.9.2-(2023-10-24)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.9.2 (2023-10-24)</h2>
<h3 id="bug-fixes-46" tabindex="-1">Bug fixes</h3>
<p>Allow <code>StreamParser</code> tokens get multiple highlighting tags.</p>
<h2 id="%40codemirror%2Fstate-6.3.1-(2023-10-18)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.3.1 (2023-10-18)</h2>
<h3 id="bug-fixes-47" tabindex="-1">Bug fixes</h3>
<p>Give the tag property on <code>FacetReader</code> the type of the output type parameter to force TypeScript to infer the proper type when converting from <code>Facet</code> to <code>FacetReader</code>.</p>
<h2 id="%40codemirror%2Fautocomplete-6.10.2-(2023-10-13)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.10.2 (2023-10-13)</h2>
<h3 id="bug-fixes-48" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused <code>updateSyncTime</code> to always delay the initial population of the tooltip.</p>
<h2 id="%40codemirror%2Fstate-6.3.0-(2023-10-12)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.3.0 (2023-10-12)</h2>
<h3 id="new-features-24" tabindex="-1">New features</h3>
<p>The new <code>FacetReader</code> type provides a way to export a read-only handle to a <code>Facet</code>.</p>
<h2 id="%40codemirror%2Fautocomplete-6.10.1-(2023-10-11)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.10.1 (2023-10-11)</h2>
<h3 id="bug-fixes-49" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where picking a selection with the mouse could use the wrong completion if the completion list was updated after being opened.</p>
<h2 id="%40codemirror%2Fautocomplete-6.10.0-(2023-10-11)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.10.0 (2023-10-11)</h2>
<h3 id="new-features-25" tabindex="-1">New features</h3>
<p>The new autocompletion configuration option <code>updateSyncTime</code> allows control over how long fast sources are held back waiting for slower completion sources.</p>
<h2 id="%40codemirror%2Fview-6.21.3-(2023-10-06)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.21.3 (2023-10-06)</h2>
<h3 id="bug-fixes-50" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that caused <code>coordsForChar</code> to return the wrong rectangle for characters after a line wrap in Safari.</p>
<p>Make the context menu work when clicking below the content in a fixed-height editor.</p>
<p>Tooltips that have been put below/above their target position because there is no room on their default side now stay there on further updates.</p>
<h2 id="%40codemirror%2Fautocomplete-6.9.2-(2023-10-06)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.9.2 (2023-10-06)</h2>
<h3 id="bug-fixes-51" tabindex="-1">Bug fixes</h3>
<p>Fix a bug in <code>completeAnyWord</code> that could cause it to generate invalid regular expressions and crash.</p>
<h2 id="%40codemirror%2Fview-6.21.2-(2023-10-02)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.21.2 (2023-10-02)</h2>
<h3 id="bug-fixes-52" tabindex="-1">Bug fixes</h3>
<p>Fix a regression that broke dragging text from inside the editor.</p>
<h2 id="%40codemirror%2Fview-6.21.1-(2023-10-02)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.21.1 (2023-10-02)</h2>
<h3 id="bug-fixes-53" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that could corrupt the DOM view for specific changes involving newlines and mark decorations.</p>
<h2 id="%40codemirror%2Fview-6.21.0-(2023-09-29)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.21.0 (2023-09-29)</h2>
<h3 id="bug-fixes-54" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that could cause zero-length widgets at the start of a line to be left in the view even after they were removed.</p>
<h3 id="new-features-26" tabindex="-1">New features</h3>
<p><code>RectangleMarker</code>'s dimension properties are now public.</p>
<h2 id="%40codemirror%2Fcommands-6.3.0-(2023-09-29)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.3.0 (2023-09-29)</h2>
<h3 id="bug-fixes-55" tabindex="-1">Bug fixes</h3>
<p>Make it possible for <code>selectParentSyntax</code> to jump out of or into a syntax tree overlay.</p>
<p>Make Cmd-Backspace and Cmd-Delete on macOS delete to the next line wrap point, not the start/end of the line.</p>
<h3 id="new-features-27" tabindex="-1">New features</h3>
<p>The new <code>deleteLineBoundaryForward</code> and <code>deleteLineBoundaryBackward</code> commands delete to the start/end of the line or the next line wrapping point.</p>
<h2 id="%40codemirror%2Fview-6.20.2-(2023-09-25)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.20.2 (2023-09-25)</h2>
<h3 id="bug-fixes-56" tabindex="-1">Bug fixes</h3>
<p>Fix an issue in the way the DOM selection is being read that could break backspacing of widgets on Android.</p>
<p>Fix a bug where the editor could incorrectly computate its transform scale when it was small.</p>
<h2 id="%40codemirror%2Fview-6.20.1-(2023-09-22)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.20.1 (2023-09-22)</h2>
<h3 id="bug-fixes-57" tabindex="-1">Bug fixes</h3>
<p>Fix a crash in plugin event handlers after dynamic reconfiguration.</p>
<p>Fix an issue where, on Chrome, tooltips would no longer use fixed positioning.</p>
<h2 id="%40codemirror%2Fview-6.20.0-(2023-09-20)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.20.0 (2023-09-20)</h2>
<h3 id="bug-fixes-58" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that caused <code>repositionTooltips</code> to crash when it was called on an editor without tooltips.</p>
<p>Fix an issue that caused the tooltip system to leave empty nodes in the DOM when an editor using the <code>parent</code> option to <code>tooltips</code> is destroyed.</p>
<p>Fix a bug that regression mouse interaction with the area of a fixed-size editor that isn't covered by the content.</p>
<p>Fix some issues with the way <code>moveVertically</code> behaved for positions on line wrap points.</p>
<p>Fix a bug that could cause the document DOM to be incorrectly updated on some types of viewport changes.</p>
<h3 id="new-features-28" tabindex="-1">New features</h3>
<p>The new <code>getDrawSelectionConfig</code> function returns the <code>drawSelection</code> configuration for a given state.</p>
<h2 id="%40codemirror%2Flanguage-6.9.1-(2023-09-20)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.9.1 (2023-09-20)</h2>
<h3 id="bug-fixes-59" tabindex="-1">Bug fixes</h3>
<p>Indentation now works a lot better in mixed-language documents that interleave the languages in a complex way.</p>
<p>Code folding is now able to pick the right foldable syntax node when the line end falls in a mixed-parsing language that doesn't match the target node.</p>
<h2 id="%40codemirror%2Fsearch-6.5.4-(2023-09-20)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.5.4 (2023-09-20)</h2>
<h3 id="bug-fixes-60" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused whole-word search to incorrectly check for word boundaries in some circumstances.</p>
<h2 id="%40codemirror%2Fview-6.19.0-(2023-09-14)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.19.0 (2023-09-14)</h2>
<h3 id="bug-fixes-61" tabindex="-1">Bug fixes</h3>
<p>Make sure the drop cursor is properly cleaned up even when another extension handles the drop event.</p>
<p>Fix a crash related to non-inclusive replacing block decorations.</p>
<h3 id="new-features-29" tabindex="-1">New features</h3>
<p>The new <code>EditorView.domEventObservers</code> (and the corresponding option to view plugins) allows you to register functions that are always called for an event, regardless of whether other handlers handled it.</p>
<h2 id="%40codemirror%2Fsearch-6.5.3-(2023-09-14)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.5.3 (2023-09-14)</h2>
<h3 id="bug-fixes-62" tabindex="-1">Bug fixes</h3>
<p>The <code>gotoLine</code> dialog is now populated with the current line number when you open it.</p>
<h2 id="%40codemirror%2Fautocomplete-6.9.1-(2023-09-14)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.9.1 (2023-09-14)</h2>
<h3 id="bug-fixes-63" tabindex="-1">Bug fixes</h3>
<p>Make sure the cursor is scrolled into view after inserting completion text.</p>
<p>Make sure scrolling completions into view doesn't get confused when the tooltip is scaled.</p>
<h2 id="%40codemirror%2Flint-6.4.2-(2023-09-14)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.4.2 (2023-09-14)</h2>
<h3 id="bug-fixes-64" tabindex="-1">Bug fixes</h3>
<p>Make sure scrolling diagnostic into view in the panel works when the editor is scaled.</p>
<h2 id="%40codemirror%2Fcollab-6.1.1-(2023-09-14)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 6.1.1 (2023-09-14)</h2>
<h3 id="bug-fixes-65" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the configuration process raised an error when multiple instances of the <code>collab</code> extensions were added.</p>
<h2 id="%40codemirror%2Fview-6.18.1-(2023-09-11)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.18.1 (2023-09-11)</h2>
<h3 id="bug-fixes-66" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the editor duplicated text when the browser moved content into the focused text node on composition.</p>
<p>Make sure <code>widgetMarker</code> is called for gutters on lines covered by a block replace decoration.</p>
<p>Fix an issue where the cursor could be shown in a position that doesn't allow a cursor when the selection is in a block widget.</p>
<h2 id="%40codemirror%2Fview-6.18.0-(2023-09-05)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.18.0 (2023-09-05)</h2>
<h3 id="new-features-30" tabindex="-1">New features</h3>
<p>The new <code>EditorView.scaleX</code> and <code>scaleY</code> properties return the CSS-transformed scale of the editor (or 1 when not scaled).</p>
<p>The editor now supports being scaled with CSS.</p>
<h2 id="%40codemirror%2Fview-6.17.1-(2023-08-31)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.17.1 (2023-08-31)</h2>
<h3 id="bug-fixes-67" tabindex="-1">Bug fixes</h3>
<p>Don't close the hover tooltip when the pointer moves over empty space caused by line breaks within the hovered range.</p>
<p>Fix a bug where on Chrome Android, if a virtual keyboard was slow to apply a change, the editor could end up dropping it.</p>
<p>Work around an issue where line-wise copy/cut didn't work in Firefox because the browser wasn't firing those events when nothing was selected.</p>
<p>Fix a crash triggered by the way some Android IME systems update the DOM.</p>
<p>Fix a bug that caused replacing a word by an emoji on Chrome Android to be treated as a backspace press.</p>
<h2 id="%40codemirror%2Fview-6.17.0-(2023-08-28)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.17.0 (2023-08-28)</h2>
<h3 id="bug-fixes-68" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that broke hover tooltips when hovering over a widget.</p>
<h3 id="new-features-31" tabindex="-1">New features</h3>
<p>The new <code>EditorView.cspNonce</code> facet can be used to provide a Content Security Policy nonce for the library's generated CSS.</p>
<p>The new <code>EditorView.bidiIsolatedRanges</code> can be used to inform the editor about ranges styled as Unicode bidirection isolates, so that it can compute the character order correctly.</p>
<p><code>EditorView.dispatch</code> now also accepts an array of transactions to be applied together in a single view update.</p>
<p>The new <code>dispatchTransactions</code> option to <code>new EditorView</code> now replaces the old (deprecated but still supported) <code>dispatch</code> option in a way that allows multiple transactions to be applied in one update.</p>
<p>Input handlers are now passed an additional argument that they can use to retrieve the default transaction that would be applied for the insertion.</p>
<h2 id="%40codemirror%2Fcommands-6.2.5-(2023-08-26)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.2.5 (2023-08-26)</h2>
<h3 id="bug-fixes-69" tabindex="-1">Bug fixes</h3>
<p>Make <code>insertNewlineAndIndent</code> properly count indentation for tabs when copying over the previous line's indentation.</p>
<p>The various sub-word motion commands will now use <code>Intl.Segmenter</code>, when available, to stop at CJK language word boundaries.</p>
<p>Fix a bug in <code>insertNewlineAndIndent</code> that would delete text between brackets if it had no corresponding AST node.</p>
<h2 id="%40codemirror%2Fsearch-6.5.2-(2023-08-26)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.5.2 (2023-08-26)</h2>
<h3 id="bug-fixes-70" tabindex="-1">Bug fixes</h3>
<p>Don't use the very lowest precedence for match highlighting decorations.</p>
<h2 id="%40codemirror%2Flint-6.4.1-(2023-08-26)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.4.1 (2023-08-26)</h2>
<h3 id="bug-fixes-71" tabindex="-1">Bug fixes</h3>
<p>Fix a crash that could occur when a view was reconfigured in a way that removed the lint extension.</p>
<h2 id="%40codemirror%2Fcollab-6.1.0-(2023-08-22)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 6.1.0 (2023-08-22)</h2>
<h3 id="new-features-32" tabindex="-1">New features</h3>
<p>The new <code>rebaseUpdates</code> function can be used by a collaborative editing server to accept updates even if they apply to an old document version.</p>
<p><code>receiveUpdates</code> is now able to handle updates that were rebased by the server.</p>
<h2 id="%40codemirror%2Flanguage-6.9.0-(2023-08-16)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.9.0 (2023-08-16)</h2>
<h3 id="bug-fixes-72" tabindex="-1">Bug fixes</h3>
<p>Make <code>getIndentation</code> return null, rather than 0, when there is no syntax tree available.</p>
<h3 id="new-features-33" tabindex="-1">New features</h3>
<p>The new <code>preparePlaceholder</code> option to <code>codeFolding</code> makes it possible to display contextual information in a folded range placeholder widget.</p>
<h2 id="%40codemirror%2Fsearch-6.5.1-(2023-08-04)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.5.1 (2023-08-04)</h2>
<h3 id="bug-fixes-73" tabindex="-1">Bug fixes</h3>
<p>Make <code>gotoLine</code> prefer to scroll the target line to the middle of the view.</p>
<p>Fix an issue in <code>SearchCursor</code> where character normalization could produce nonsensical matches.</p>
<h2 id="%40codemirror%2Fview-6.16.0-(2023-07-31)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.16.0 (2023-07-31)</h2>
<h3 id="bug-fixes-74" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that made the gutter not stick in place when the editor was in a right-to-left context.</p>
<h3 id="new-features-34" tabindex="-1">New features</h3>
<p>The new <code>EditorView.coordsForChar</code> method returns the client rectangle for a given character in the editor.</p>
<h2 id="%40codemirror%2Fview-6.15.3-(2023-07-18)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.15.3 (2023-07-18)</h2>
<h3 id="bug-fixes-75" tabindex="-1">Bug fixes</h3>
<p>Fix another crash regression for compositions before line breaks.</p>
<h2 id="%40codemirror%2Fview-6.15.2-(2023-07-18)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.15.2 (2023-07-18)</h2>
<h3 id="bug-fixes-76" tabindex="-1">Bug fixes</h3>
<p>Fix the check that made sure compositions are dropped when the selection is moved.</p>
<h2 id="%40codemirror%2Fview-6.15.1-(2023-07-18)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.15.1 (2023-07-18)</h2>
<h3 id="bug-fixes-77" tabindex="-1">Bug fixes</h3>
<p>Fix a regression that could cause the composition content to be drawn incorrectly.</p>
<h2 id="%40codemirror%2Fautocomplete-6.9.0-(2023-07-18)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.9.0 (2023-07-18)</h2>
<h3 id="new-features-35" tabindex="-1">New features</h3>
<p>Completions may now provide a <code>displayLabel</code> property that overrides the way they are displayed in the completion list.</p>
<h2 id="%40codemirror%2Fview-6.15.0-(2023-07-17)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.15.0 (2023-07-17)</h2>
<h3 id="bug-fixes-78" tabindex="-1">Bug fixes</h3>
<p>Fix dragging a selection from inside the current selection on macOS.</p>
<p>Fix an issue that could cause the scroll position to jump wildly</p>
<p>Don't try to scroll fixed-positioned elements into view by scrolling their parent elements.</p>
<p>Fix a bug that caused the cursor to be hidden when showing a placeholder that consisted of the empty string.</p>
<p>Resolve some issues where composition could incorrectly affect nearby replaced content.</p>
<h3 id="new-features-36" tabindex="-1">New features</h3>
<p>Key bindings can now set a <code>stopPropagation</code> field to cause the view to stop the key event propagation when it considers the event handled.</p>
<h2 id="%40codemirror%2Fview-6.14.1-(2023-07-06)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.14.1 (2023-07-06)</h2>
<h3 id="bug-fixes-79" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where scrolling up through line-wrapped text would sometimes cause the scroll position to pop down.</p>
<p>Fix an issue where clicking wouldn't focus the editor on Firefox when it was in an iframe and already the active element of the frame.</p>
<p>Fix a bug that could cause compositions to be disrupted because their surrounding DOM was repurposed for some other piece of content.</p>
<p>Fix a bug where adding content to the editor could inappropriately move the scroll position.</p>
<p>Extend detection of Enter presses on Android to <code>beforeInput</code> events with an <code>&quot;insertLineBreak&quot;</code> type.</p>
<h2 id="%40codemirror%2Flint-6.4.0-(2023-07-03)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.4.0 (2023-07-03)</h2>
<h3 id="new-features-37" tabindex="-1">New features</h3>
<p>Diagnostics can now use <code>&quot;hint&quot;</code> as a severity level.</p>
<p>Diagnostics can now set a <code>markClass</code> property to add an additional CSS class to the text marked by the diagnostic.</p>
<h2 id="%40codemirror%2Fview-6.14.0-(2023-06-23)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.14.0 (2023-06-23)</h2>
<h3 id="bug-fixes-80" tabindex="-1">Bug fixes</h3>
<p>When dragging text inside the editor, look at the state of Ctrl (or Alt on macOS) at the time of the drop, not the start of drag, to determine whether to move or copy the text.</p>
<p>Fix an issue where having a bunch of padding on lines could cause vertical cursor motion and <code>posAtCoords</code> to jump over lines.</p>
<h3 id="new-features-38" tabindex="-1">New features</h3>
<p>Block widget decorations can now be given an <code>inlineOrder</code> option to make them appear in the same ordering as surrounding inline widgets.</p>
<h2 id="%40codemirror%2Fautocomplete-6.8.1-(2023-06-23)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.8.1 (2023-06-23)</h2>
<h3 id="bug-fixes-81" tabindex="-1">Bug fixes</h3>
<p><code>acceptCompletion</code> now returns false (allowing other handlers to take effect) when the completion popup is open but disabled.</p>
<h2 id="%40codemirror%2Flint-6.3.0-(2023-06-23)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.3.0 (2023-06-23)</h2>
<h3 id="new-features-39" tabindex="-1">New features</h3>
<p>A new <code>previousDiagnostic</code> command can be used to move back through the active diagnostics.</p>
<h2 id="%40codemirror%2Fview-6.13.2-(2023-06-13)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.13.2 (2023-06-13)</h2>
<h3 id="bug-fixes-82" tabindex="-1">Bug fixes</h3>
<p>Fix an issue in scroll position stabilization for changes above the visible, where Chrome already does this natively and we ended up compensating twice.</p>
<h2 id="%40codemirror%2Fview-6.13.1-(2023-06-12)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.13.1 (2023-06-12)</h2>
<h3 id="bug-fixes-83" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where the cursor would in some circumstances be drawn on the wrong side of an inline widget.</p>
<p>Fix an issue where <code>scrollPastEnd</code> could cause the scroll position of editors that weren't in view to be changed unnecessarily.</p>
<h2 id="%40codemirror%2Flanguage-6.8.0-(2023-06-12)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.8.0 (2023-06-12)</h2>
<h3 id="new-features-40" tabindex="-1">New features</h3>
<p>The new <code>baseIndentFor</code> method in <code>TreeIndentContext</code> can be used to find the base indentation for an arbitrary node.</p>
<h2 id="%40codemirror%2Fautocomplete-6.8.0-(2023-06-12)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.8.0 (2023-06-12)</h2>
<h3 id="new-features-41" tabindex="-1">New features</h3>
<p>The result of <code>Completion.info</code> may now include a <code>destroy</code> method that will be called when the tooltip is removed.</p>
<h2 id="%40codemirror%2Fview-6.13.0-(2023-06-05)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.13.0 (2023-06-05)</h2>
<h3 id="bug-fixes-84" tabindex="-1">Bug fixes</h3>
<p>Forbid widget decoration side values bigger than 10000, to prevent them from breaking range ordering invariants.</p>
<p>Fix a bug where differences between widgets' estimated and actual heights could cause the editor to inappropriately move the scroll position.</p>
<p>Avoid another situation in which composition that inserts line breaks could corrupt the editor DOM.</p>
<h3 id="new-features-42" tabindex="-1">New features</h3>
<p>Inline widgets may now introduce line breaks, if they report this through the <code>WidgetType.lineBreaks</code> property.</p>
<h2 id="%40codemirror%2Fsearch-6.5.0-(2023-06-05)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.5.0 (2023-06-05)</h2>
<h3 id="new-features-43" tabindex="-1">New features</h3>
<p>The new <code>regexp</code> option to <code>search</code> can be used to control whether queries have the regexp flag on by default.</p>
<h2 id="%40codemirror%2Flint-6.2.2-(2023-06-05)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.2.2 (2023-06-05)</h2>
<h3 id="bug-fixes-85" tabindex="-1">Bug fixes</h3>
<p>Make sure lint gutter tooltips are properly closed when the content of their line changes.</p>
<h2 id="%40codemirror%2Fstate-6.2.1-(2023-05-23)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.2.1 (2023-05-23)</h2>
<h3 id="bug-fixes-86" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that could cause <code>RangeSet.compare</code> to miss changes in the set of active ranges around a point range.</p>
<h2 id="%40codemirror%2Flanguage-6.7.0-(2023-05-19)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.7.0 (2023-05-19)</h2>
<h3 id="new-features-44" tabindex="-1">New features</h3>
<p>Export <code>DocInput</code> class for feeding editor documents to a Lezer parser.</p>
<h2 id="%40codemirror%2Fview-6.12.0-(2023-05-18)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.12.0 (2023-05-18)</h2>
<h3 id="bug-fixes-87" tabindex="-1">Bug fixes</h3>
<p>Remove an accidentally included <code>console.log</code>.</p>
<h3 id="new-features-45" tabindex="-1">New features</h3>
<p><code>EditorViewConfig.dispatch</code> is now passed the view object as a second argument.</p>
<h2 id="%40codemirror%2Fview-6.11.3-(2023-05-17)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.11.3 (2023-05-17)</h2>
<h3 id="bug-fixes-88" tabindex="-1">Bug fixes</h3>
<p>Make sure pointer selection respects <code>EditorView.atomicRanges</code>.</p>
<p>Preserve DOM widgets when their decoration type changes but they otherwise stay in the same place.</p>
<p>Fix a bug in <code>drawSelection</code> that could lead to invisible or incorrect selections for a blank line below a block widget.</p>
<h2 id="%40codemirror%2Fview-6.11.2-(2023-05-13)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.11.2 (2023-05-13)</h2>
<h3 id="bug-fixes-89" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where the <code>crosshairCursor</code> extension could, when non-native key events were fired, trigger disruptive and needless view updates.</p>
<p>Fix an Android issue where backspacing at the front of a line with widget decorations could replace those decorations with their text content.</p>
<p>Respect scroll margins when scrolling the target of drag-selection into view.</p>
<p>Validate selection offsets reported by the browser, to work around Safari giving us invalid values in some cases.</p>
<h2 id="%40codemirror%2Fautocomplete-6.7.1-(2023-05-13)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.7.1 (2023-05-13)</h2>
<h3 id="bug-fixes-90" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that cause incorrect ordering of completions when some results covered input text and others didn't.</p>
<h2 id="%40codemirror%2Fautocomplete-6.7.0-(2023-05-11)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.7.0 (2023-05-11)</h2>
<h3 id="new-features-46" tabindex="-1">New features</h3>
<p>The new <code>hasNextSnippetField</code> and <code>hasPrevSnippetField</code> functions can be used to figure out if the snippet-field-motion commands apply to a given state.</p>
<h2 id="%40codemirror%2Fview-6.11.1-(2023-05-09)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.11.1 (2023-05-09)</h2>
<h3 id="bug-fixes-91" tabindex="-1">Bug fixes</h3>
<p>Don't preserve the DOM around a composition that spans multiple lines.</p>
<h2 id="%40codemirror%2Fview-6.11.0-(2023-05-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.11.0 (2023-05-03)</h2>
<h3 id="new-features-47" tabindex="-1">New features</h3>
<p>Gutters now support a <code>widgetMarker</code> option that can be used to add markers next to block widgets.</p>
<h2 id="%40codemirror%2Fcommands-6.2.4-(2023-05-03)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.2.4 (2023-05-03)</h2>
<h3 id="bug-fixes-92" tabindex="-1">Bug fixes</h3>
<p>The by-subword motion commands now properly treat dashes, underscores, and similar as subword separators.</p>
<h2 id="%40codemirror%2Fautocomplete-6.6.1-(2023-05-03)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.6.1 (2023-05-03)</h2>
<h3 id="bug-fixes-93" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that made the editor use the completion's original position, rather than its current position, when changes happened in the document while a result was active.</p>
<h2 id="%40codemirror%2Fview-6.10.1-(2023-05-01)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.10.1 (2023-05-01)</h2>
<h3 id="bug-fixes-94" tabindex="-1">Bug fixes</h3>
<p>Limit cursor height in front of custom placeholder DOM elements.</p>
<h2 id="%40codemirror%2Flanguage-data-6.3.1-(2023-05-01)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.3.1 (2023-05-01)</h2>
<h3 id="bug-fixes-95" tabindex="-1">Bug fixes</h3>
<p>Use @codemirror/lang-less for Less files.</p>
<h2 id="%40codemirror%2Fautocomplete-6.6.0-(2023-04-27)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.6.0 (2023-04-27)</h2>
<h3 id="bug-fixes-96" tabindex="-1">Bug fixes</h3>
<p>Fix a bug in <code>insertCompletionText</code> that caused it to replace the wrong range when a result set's <code>to</code> fell after the cursor.</p>
<h3 id="new-features-48" tabindex="-1">New features</h3>
<p>Functions returned by <code>snippet</code> can now be called without a completion object.</p>
<h2 id="%40codemirror%2Fview-6.10.0-(2023-04-25)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.10.0 (2023-04-25)</h2>
<h3 id="bug-fixes-97" tabindex="-1">Bug fixes</h3>
<p>Fix a crash in <code>drawSelection</code> when a measured position falls on a position that doesn't have corresponding screen coordinates.</p>
<p>Work around unhelpful interaction observer behavior that could cause the editor to not notice it was visible.</p>
<p>Give the cursor next to a line-wrapped placeholder a single-line height.</p>
<p>Make sure drop events below the editable element in a fixed-height editor get handled properly.</p>
<h3 id="new-features-49" tabindex="-1">New features</h3>
<p>Widget decorations can now define custom <code>coordsAtPos</code> methods to control the way the editor computes screen positions at or in the widget.</p>
<h2 id="%40codemirror%2Fsearch-6.4.0-(2023-04-25)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.4.0 (2023-04-25)</h2>
<h3 id="bug-fixes-98" tabindex="-1">Bug fixes</h3>
<p>The <code>findNext</code> and <code>findPrevious</code> commands now select the search field text if that field is focused.</p>
<h3 id="new-features-50" tabindex="-1">New features</h3>
<p>The <code>scrollToMatch</code> callback option now receives the editor view as a second parameter.</p>
<h2 id="%40codemirror%2Fview-6.9.6-(2023-04-21)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.9.6 (2023-04-21)</h2>
<h3 id="bug-fixes-99" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where, when escape was pressed followed by a key that the editor handled, followed by tab, the tab would still move focus.</p>
<p>Fix an issue where, in some circumstances, the editor would ignore text changes at the end of a composition.</p>
<p>Allow inline widgets to be updated to a different length via <code>updateDOM</code>.</p>
<h2 id="%40codemirror%2Flanguage-data-6.3.0-(2023-04-20)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.3.0 (2023-04-20)</h2>
<h3 id="new-features-51" tabindex="-1">New features</h3>
<p>Use the @codemirror/lang-sass package for .sass and .scss files.</p>
<h2 id="%40codemirror%2Fcommands-6.2.3-(2023-04-19)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.2.3 (2023-04-19)</h2>
<h3 id="bug-fixes-100" tabindex="-1">Bug fixes</h3>
<p>Block commenting the selection no longer includes indentation on the first line.</p>
<h2 id="%40codemirror%2Fview-6.9.5-(2023-04-17)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.9.5 (2023-04-17)</h2>
<h3 id="bug-fixes-101" tabindex="-1">Bug fixes</h3>
<p>Avoid disrupting the composition in specific cases where Safari invasively changes the DOM structure in the middle of a composition.</p>
<p>Fix a bug that prevented <code>destroy</code> being called on hover tooltips.</p>
<p>Fix a bug where the editor could take focus when content changes required it to restore the DOM selection.</p>
<p>Fix height layout corruption caused by a division by zero.</p>
<p>Make sure styles targeting the editor's focus status are specific enough to not cause them to apply to editors nested inside another focused editor. This will require themes to adjust their selection background styles to match the new specificity.</p>
<h2 id="%40codemirror%2Flanguage-data-6.2.1-(2023-04-16)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.2.1 (2023-04-16)</h2>
<h3 id="bug-fixes-102" tabindex="-1">Bug fixes</h3>
<p>Associate Gemfile and Rakefile files with Ruby.</p>
<h2 id="%40codemirror%2Fautocomplete-6.5.1-(2023-04-13)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.5.1 (2023-04-13)</h2>
<h3 id="bug-fixes-103" tabindex="-1">Bug fixes</h3>
<p>Keep completions open when interaction with an info tooltip moves focus out of the editor.</p>
<h2 id="%40codemirror%2Fautocomplete-6.5.0-(2023-04-13)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.5.0 (2023-04-13)</h2>
<h3 id="bug-fixes-104" tabindex="-1">Bug fixes</h3>
<p>When <code>closeBrackets</code> skips a bracket, it now generates a change that overwrites the bracket.</p>
<p>Replace the entire selected range when picking a completion with a non-cursor selection active.</p>
<h3 id="new-features-52" tabindex="-1">New features</h3>
<p>Completions can now provide a <code>section</code> field that is used to group them into sections.</p>
<p>The new <code>positionInfo</code> option can be used to provide custom logic for positioning the info tooltips.</p>
<h2 id="%40codemirror%2Flint-6.2.1-(2023-04-13)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.2.1 (2023-04-13)</h2>
<h3 id="bug-fixes-105" tabindex="-1">Bug fixes</h3>
<p>The <code>linter</code> function now eagerly includes all lint-related extensions, rather than appending them to the configuration as-needed, so that turning off linting by clearing the compartment that contains it works properly.</p>
<h2 id="%40codemirror%2Fview-6.9.4-(2023-04-11)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.9.4 (2023-04-11)</h2>
<h3 id="bug-fixes-106" tabindex="-1">Bug fixes</h3>
<p>Make the editor scroll while dragging a selection near its sides, even if the cursor isn't outside the scrollable element.</p>
<p>Fix a bug that interrupted composition after widgets in some circumstances on Firefox.</p>
<p>Make sure the last change in a composition has its user event set to <code>input.type.compose</code>, even if the <code>compositionend</code> event fires before the changes are applied.</p>
<p>Make it possible to remove additional selection ranges by clicking on them with ctrl/cmd held, even if they aren't cursors.</p>
<p>Keep widget buffers between widgets and compositions, since removing them confuses IME on macOS Firefox.</p>
<p>Fix a bug where, for DOM changes that put the selection in the middle of the changed range, the editor incorrectly set its selection state.</p>
<p>Fix a bug where <code>coordsAtPos</code> could return a coordinates before the line break when querying a line-wrapped position with a positive <code>side</code>.</p>
<h2 id="%40codemirror%2Flanguage-data-6.2.0-(2023-03-28)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.2.0 (2023-03-28)</h2>
<h3 id="new-features-53" tabindex="-1">New features</h3>
<p>Include support for Vue.</p>
<p>Include support for Angular templates.</p>
<h2 id="%40codemirror%2Fview-6.9.3-(2023-03-21)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.9.3 (2023-03-21)</h2>
<h3 id="bug-fixes-107" tabindex="-1">Bug fixes</h3>
<p>Work around a Firefox issue that caused <code>coordsAtPos</code> to return rectangles with the full line height on empty lines.</p>
<p>Opening a context menu by clicking below the content element but inside the editor now properly shows the browser's menu for editable elements.</p>
<p>Fix an issue that broke composition (especially of Chinese IME) after widget decorations.</p>
<p>Fix an issue that would cause the cursor to jump around during compositions inside nested mark decorations.</p>
<h2 id="%40codemirror%2Fsearch-6.3.0-(2023-03-20)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.3.0 (2023-03-20)</h2>
<h3 id="new-features-54" tabindex="-1">New features</h3>
<p>The new <code>scrollToMatch</code> search option allows you to adjust the way the editor scrolls search matches into view.</p>
<h2 id="%40codemirror%2Fcommands-6.2.2-(2023-03-10)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.2.2 (2023-03-10)</h2>
<h3 id="bug-fixes-108" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where line commenting got confused when commenting a range that crossed language boundaries.</p>
<h2 id="%40codemirror%2Fview-6.9.2-(2023-03-08)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.9.2 (2023-03-08)</h2>
<h3 id="bug-fixes-109" tabindex="-1">Bug fixes</h3>
<p>Work around a Firefox CSS bug that caused cursors to stop blinking in a scrolled editor.</p>
<p>Fix an issue in <code>drawSelection</code> where the selection extended into the editor's padding.</p>
<p>Fix pasting of links copied from iOS share sheet.</p>
<h2 id="%40codemirror%2Flint-6.2.0-(2023-02-27)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.2.0 (2023-02-27)</h2>
<h3 id="new-features-55" tabindex="-1">New features</h3>
<p>The new <code>needsRefresh</code> option to <code>linter</code> makes it possible to cause linting to be recalculated for non-document state changes.</p>
<h2 id="%40codemirror%2Fview-6.9.1-(2023-02-17)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.9.1 (2023-02-17)</h2>
<h3 id="bug-fixes-110" tabindex="-1">Bug fixes</h3>
<p>Improve the way <code>posAtCoords</code> picks the side of a widget to return by comparing the coordinates the center of the widget.</p>
<p>Fix an issue where transactions created for the <code>focusChangeEffect</code> facet were sometimes not dispatched.</p>
<h2 id="%40codemirror%2Fautocomplete-6.4.2-(2023-02-17)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.4.2 (2023-02-17)</h2>
<h3 id="bug-fixes-111" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where the apply method created by <code>snippet</code> didn't add a <code>pickedCompletion</code> annotation to the transactions it created.</p>
<h2 id="%40codemirror%2Fview-6.9.0-(2023-02-15)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.9.0 (2023-02-15)</h2>
<h3 id="bug-fixes-112" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where inaccurate estimated vertical positions could cause the viewport to not converge in line-wrapped editors.</p>
<p>Don't suppress double-space to period conversion when autocorrect is enabled.</p>
<p>Make sure the measuring code notices when the scaling of the editor is changed, and does a full measure in that case.</p>
<h3 id="new-features-56" tabindex="-1">New features</h3>
<p>The new <code>EditorView.focusChangeEffect</code> facet can be used to dispatch a state effect when the editor is focused or blurred.</p>
<h2 id="%40codemirror%2Fcommands-6.2.1-(2023-02-15)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.2.1 (2023-02-15)</h2>
<h3 id="bug-fixes-113" tabindex="-1">Bug fixes</h3>
<p>Keep cursor position stable in <code>cursorPageUp</code>/<code>cursorPageDown</code> when there are panels or other scroll margins active.</p>
<p>Make sure <code>toggleComment</code> doesn't get thrown off by local language nesting, by fetching the language data for the start of the selection line.</p>
<h2 id="%40codemirror%2Flint-6.1.1-(2023-02-15)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.1.1 (2023-02-15)</h2>
<h3 id="bug-fixes-114" tabindex="-1">Bug fixes</h3>
<p>Give lint action buttons a pointer cursor style.</p>
<p>Fix a bug that caused diagnostic action callbacks to be called twice when their button was clicked.</p>
<h2 id="%40codemirror%2Fautocomplete-6.4.1-(2023-02-14)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.4.1 (2023-02-14)</h2>
<h3 id="bug-fixes-115" tabindex="-1">Bug fixes</h3>
<p>Don't consider node names in trees that aren't the same language as the one at the completion position in <code>ifIn</code> and <code>ifNotIn</code>.</p>
<p>Make sure completions that exactly match the input get a higher score than those that don't (so that even if the latter has a score boost, it ends up lower in the list).</p>
<h2 id="%40codemirror%2Flanguage-6.6.0-(2023-02-13)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.6.0 (2023-02-13)</h2>
<h3 id="new-features-57" tabindex="-1">New features</h3>
<p>Syntax-driven language data queries now support sublanguages, which make it possible to return different data for specific parts of the tree produced by a single language.</p>
<h2 id="%40codemirror%2Fview-6.8.1-(2023-02-08)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.8.1 (2023-02-08)</h2>
<h3 id="bug-fixes-116" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where tooltips that have their height reduced have their height flicker when scrolling or otherwise interacting with the editor.</p>
<h2 id="%40codemirror%2Fview-6.8.0-(2023-02-07)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.8.0 (2023-02-07)</h2>
<h3 id="bug-fixes-117" tabindex="-1">Bug fixes</h3>
<p>Fix a regression that caused clicking on the scrollbar to move the selection.</p>
<p>Fix an issue where focus or blur event handlers that dispatched editor transactions could corrupt the mouse selection state.</p>
<p>Fix a CSS regression that prevented the drop cursor from being positioned properly.</p>
<h3 id="new-features-58" tabindex="-1">New features</h3>
<p><code>WidgetType.updateDOM</code> is now passed the editor view object.</p>
<h2 id="%40codemirror%2Flanguage-6.5.0-(2023-02-07)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.5.0 (2023-02-07)</h2>
<h3 id="bug-fixes-118" tabindex="-1">Bug fixes</h3>
<p>Make indentation for stream languages more reliable by having <code>StringStream.indentation</code> return overridden indentations from the indent context.</p>
<h3 id="new-features-59" tabindex="-1">New features</h3>
<p>The <code>toggleFold</code> command folds or unfolds depending on whether there's an existing folded range on the current line.</p>
<p><code>indentUnit</code> now accepts any (repeated) whitespace character, not just spaces and tabs.</p>
<h2 id="%40codemirror%2Fcommands-6.2.0-(2023-01-18)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.2.0 (2023-01-18)</h2>
<h3 id="new-features-60" tabindex="-1">New features</h3>
<p>The new <code>joinToEvent</code> history configuration option allows you to provide custom logic that determines whether a new transaction is added to an existing history event.</p>
<h2 id="%40codemirror%2Fview-6.7.3-(2023-01-12)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.7.3 (2023-01-12)</h2>
<h3 id="bug-fixes-119" tabindex="-1">Bug fixes</h3>
<p>Fix a bug in <code>posAtCoords</code> that could cause incorrect results for positions to the left of a wrapped line.</p>
<h2 id="%40codemirror%2Flanguage-6.4.0-(2023-01-12)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.4.0 (2023-01-12)</h2>
<h3 id="new-features-61" tabindex="-1">New features</h3>
<p>The <code>bracketMatchingHandle</code> node prop can now be used to limit bracket matching behavior for larger nodes to a single subnode (for example the tag name of an HTML tag).</p>
<h2 id="%40codemirror%2Fview-6.7.2-(2023-01-04)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.7.2 (2023-01-04)</h2>
<h3 id="bug-fixes-120" tabindex="-1">Bug fixes</h3>
<p>Fix a regression where the cursor didn't restart its blink cycle when moving it with the pointer.</p>
<p>Even without a <code>key</code> property, measure request objects that are already scheduled will not be scheduled again by <code>requestMeasure</code>.</p>
<p>Fix an issue where keymaps incorrectly interpreted key events that used Ctrl+Alt modifiers to simulate AltGr on Windows.</p>
<p>Fix a bug where line decorations with a different <code>class</code> property would be treated as equal.</p>
<p>Fix a bug that caused <code>drawSelection</code> to not notice when it was reconfigured.</p>
<p>Fix a crash in the gutter extension caused by sharing of mutable arrays.</p>
<p>Fix a regression that caused touch selection on mobile platforms to not work in an uneditable editor.</p>
<p>Fix a bug where DOM events on the boundary between lines could get assigned to the wrong line.</p>
<h2 id="%40codemirror%2Fstate-6.2.0-(2022-12-26)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.2.0 (2022-12-26)</h2>
<h3 id="new-features-62" tabindex="-1">New features</h3>
<p><code>EditorSelection.range</code> now accepts an optional 4th argument to specify the bidi level of the range's head position.</p>
<h2 id="%40codemirror%2Fcommands-6.1.3-(2022-12-26)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.1.3 (2022-12-26)</h2>
<h3 id="bug-fixes-121" tabindex="-1">Bug fixes</h3>
<p>Preserve selection bidi level when extending the selection, to prevent shift-selection from getting stuck in some kinds of bidirectional text.</p>
<h2 id="%40codemirror%2Flanguage-6.3.2-(2022-12-16)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.3.2 (2022-12-16)</h2>
<h3 id="bug-fixes-122" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused <code>ensureSyntaxTree</code> to return incomplete trees when using a viewport-aware parser like <code>StreamLanguage</code>.</p>
<h2 id="%40codemirror%2Fautocomplete-6.4.0-(2022-12-14)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.4.0 (2022-12-14)</h2>
<h3 id="bug-fixes-123" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the extension would sometimes try to draw a disabled dialog at an outdated position, leading to plugin crashes.</p>
<h3 id="new-features-63" tabindex="-1">New features</h3>
<p>A <code>tooltipClass</code> option to autocompletion can now be used to add additional CSS classes to the completion tooltip.</p>
<h2 id="%40codemirror%2Fview-6.7.1-(2022-12-12)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.7.1 (2022-12-12)</h2>
<h3 id="bug-fixes-124" tabindex="-1">Bug fixes</h3>
<p>Make the editor properly scroll when moving the pointer out of it during drag selection.</p>
<p>Fix a regression where clicking below the content element in an editor with its own height didn't focus the editor.</p>
<h2 id="%40codemirror%2Fview-6.7.0-(2022-12-07)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.7.0 (2022-12-07)</h2>
<h3 id="bug-fixes-125" tabindex="-1">Bug fixes</h3>
<p>Make the editor notice widget height changes to automatically adjust its height information.</p>
<p>Fix an issue where widget buffers could be incorrectly omitted after empty lines.</p>
<p>Fix an issue in content redrawing that could cause <code>coordsAtPos</code> to return incorrect results.</p>
<h3 id="new-features-64" tabindex="-1">New features</h3>
<p>The static <code>RectangleMarker.forRange</code> method exposes the logic used by the editor to draw rectangles covering a selection range.</p>
<p>Layers can now provide a <code>destroy</code> function to be called when the layer is removed.</p>
<p>The new <code>highlightWhitespace</code> extension makes spaces and tabs in the editor visible.</p>
<p>The <code>highlightTrailingWhitespace</code> extension can be used to make trailing whitespace stand out.</p>
<h2 id="%40codemirror%2Fview-6.6.0-(2022-11-24)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.6.0 (2022-11-24)</h2>
<h3 id="new-features-65" tabindex="-1">New features</h3>
<p>The <code>layer</code> function can now be used to define extensions that draw DOM elements over or below the document text.</p>
<p>Tooltips that are bigger than the available vertical space for them will now have their height set so that they don't stick out of the window. The new <code>resize</code> property on <code>TooltipView</code> can be used to opt out of this behavior.</p>
<h2 id="%40codemirror%2Fautocomplete-6.3.4-(2022-11-24)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.3.4 (2022-11-24)</h2>
<h3 id="bug-fixes-126" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where completion lists could end up being higher than the tooltip they were in.</p>
<h2 id="%40codemirror%2Fautocomplete-6.3.3-(2022-11-18)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.3.3 (2022-11-18)</h2>
<h3 id="bug-fixes-127" tabindex="-1">Bug fixes</h3>
<p>Set an explicit <code>box-sizing</code> style on completion icons so CSS resets don't mess them up.</p>
<p>Allow closing braces in templates to be escaped with a backslash.</p>
<h2 id="%40codemirror%2Fstate-6.1.4-(2022-11-15)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.1.4 (2022-11-15)</h2>
<h3 id="bug-fixes-128" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused the <code>openStart</code> value passed to span iterators to be incorrect around widgets in some circumstances.</p>
<h2 id="%40codemirror%2Fview-6.5.1-(2022-11-15)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.5.1 (2022-11-15)</h2>
<h3 id="bug-fixes-129" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused marked unnecessary splitting of mark decoration DOM elements in some cases.</p>
<h2 id="%40codemirror%2Fautocomplete-6.3.2-(2022-11-15)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.3.2 (2022-11-15)</h2>
<h3 id="bug-fixes-130" tabindex="-1">Bug fixes</h3>
<p>Fix a regression that could cause the completion dialog to stick around when it should be hidden.</p>
<h2 id="%40codemirror%2Flint-6.1.0-(2022-11-15)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.1.0 (2022-11-15)</h2>
<h3 id="new-features-66" tabindex="-1">New features</h3>
<p>The new <code>forEachDiagnostic</code> function can be used to iterate over the diagnostics in an editor state.</p>
<h2 id="%40codemirror%2Fview-6.5.0-(2022-11-14)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.5.0 (2022-11-14)</h2>
<h3 id="bug-fixes-131" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where key bindings were activated for the wrong key in some situations with non-US keyboards.</p>
<h3 id="new-features-67" tabindex="-1">New features</h3>
<p>A tooltip's <code>positioned</code> callback is now passed the available space for tooltips.</p>
<h2 id="%40codemirror%2Flanguage-6.3.1-(2022-11-14)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.3.1 (2022-11-14)</h2>
<h3 id="bug-fixes-132" tabindex="-1">Bug fixes</h3>
<p>Make syntax-based folding include syntax nodes that start right at the end of a line as potential fold targets.</p>
<p>Fix the <code>indentService</code> protocol to allow a distinction between declining to handle the indentation and returning null to indicate the line has no definite indentation.</p>
<h2 id="%40codemirror%2Fsearch-6.2.3-(2022-11-14)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.2.3 (2022-11-14)</h2>
<h3 id="bug-fixes-133" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that hid the search dialog's close button when the editor was read-only.</p>
<h2 id="%40codemirror%2Fautocomplete-6.3.1-(2022-11-14)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.3.1 (2022-11-14)</h2>
<h3 id="bug-fixes-134" tabindex="-1">Bug fixes</h3>
<p>Fix a regression where transactions for picking a completion (without custom <code>apply</code> method) no longer had the <code>pickedCompletion</code> annotation.</p>
<p>Reduce flickering for completion sources without <code>validFor</code> info by temporarily showing a disabled tooltip while the completion updates.</p>
<p>Make sure completion info tooltips are kept within the space provided by the <code>tooltipSpace</code> option.</p>
<h2 id="%40codemirror%2Fstate-6.1.3-(2022-11-10)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.1.3 (2022-11-10)</h2>
<h3 id="bug-fixes-135" tabindex="-1">Bug fixes</h3>
<p>Avoid unnecessary calls to computed facet getters when a state is reconfigured but no dependencies of the computed facet change.</p>
<p>Fix an infinite loop in <code>RangeSet.eq</code> when the <code>to</code> parameter isn't given.</p>
<h2 id="%40codemirror%2Fview-6.4.2-(2022-11-10)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.4.2 (2022-11-10)</h2>
<h3 id="bug-fixes-136" tabindex="-1">Bug fixes</h3>
<p>Typing into a read-only editor no longer moves the cursor.</p>
<p>Fix an issue where hover tooltips were closed when the mouse was moved over them if they had a custom parent element.</p>
<p>Fix an issue where the editor could end up displaying incorrect height measurements (typically after initializing).</p>
<h2 id="%40codemirror%2Fview-6.4.1-(2022-11-07)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.4.1 (2022-11-07)</h2>
<h3 id="bug-fixes-137" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where coordinates next to replaced widgets were returned incorrectly, causing the cursor to be drawn in the wrong place.</p>
<p>Update the <code>crosshairCursor</code> state on every mousemove event.</p>
<p>Avoid an issue in the way that the editor enforces cursor associativity that could cause the cursor to get stuck on single-character wrapped lines.</p>
<h2 id="%40codemirror%2Flanguage-6.3.0-(2022-10-24)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.3.0 (2022-10-24)</h2>
<h3 id="new-features-68" tabindex="-1">New features</h3>
<p><code>HighlightStyle</code> objects now have a <code>specs</code> property holding the tag styles that were used to define them.</p>
<p><code>Language</code> objects now have a <code>name</code> field holding the language name.</p>
<h2 id="%40codemirror%2Fview-6.4.0-(2022-10-18)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.4.0 (2022-10-18)</h2>
<h3 id="bug-fixes-138" tabindex="-1">Bug fixes</h3>
<p>Avoid an issue where <code>scrollPastEnd</code> makes a single-line editor have a vertical scrollbar.</p>
<p>Work around a Chrome bug where it inserts a newline when you press space at the start of a wrapped line.</p>
<p>Align <code>rectangularSelection</code>'s behavior with other popular editors by making it create cursors at the end of lines that are too short to touch the rectangle.</p>
<p>Fix an issue where coordinates on mark decoration boundaries were sometimes taken from the wrong side of the position.</p>
<p>Prevent scrolling artifacts caused by attempts to scroll stuff into view when the editor isn't being displayed.</p>
<h3 id="new-features-69" tabindex="-1">New features</h3>
<p><code>TooltipView</code> objects can now provide a <code>destroy</code> method to be called when the tooltip is removed.</p>
<h2 id="%40codemirror%2Fsearch-6.2.2-(2022-10-18)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.2.2 (2022-10-18)</h2>
<h3 id="bug-fixes-139" tabindex="-1">Bug fixes</h3>
<p>When <code>literal</code> is off, \n, \r, and \t escapes are now also supported in replacement text.</p>
<p>Make sure search dialog inputs don't get treated as form fields when the editor is created inside a form.</p>
<p>Fix a bug in <code>RegExpCursor</code> that would cause it to stop matching in the middle of a line when its current match position was equal to the length of the line.</p>
<h2 id="%40codemirror%2Fcommands-6.1.2-(2022-10-13)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.1.2 (2022-10-13)</h2>
<h3 id="bug-fixes-140" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused deletion commands on non-empty ranges to incorrectly return false and do nothing, causing the editor to fall back to native behavior.</p>
<h2 id="%40codemirror%2Fview-6.3.1-(2022-10-10)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.3.1 (2022-10-10)</h2>
<h3 id="bug-fixes-141" tabindex="-1">Bug fixes</h3>
<p>Fix a crash when trying to scroll something into view in an editor that wasn't in the visible DOM.</p>
<p>Fix an issue where <code>coordsAtPos</code> returned the coordinates on the wrong side of a widget decoration wrapped in a mark decoration.</p>
<p>Fix an issue where content on long wrapped lines could fail to properly scroll into view.</p>
<p>Fix an issue where DOM change reading on Chrome Android could get confused when a transaction came in right after a beforeinput event for backspace, enter, or delete.</p>
<h2 id="%40codemirror%2Fview-6.3.0-(2022-09-28)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.3.0 (2022-09-28)</h2>
<h3 id="bug-fixes-142" tabindex="-1">Bug fixes</h3>
<p>Reduce the amount of wrap-point jittering when scrolling through a very long wrapped line.</p>
<p>Fix an issue where scrolling to content that wasn't currently drawn due to being on a very long line would often fail to scroll to the right position.</p>
<p>Suppress double-space-adds-period behavior on Chrome Mac when it behaves weirdly next to widget.</p>
<h3 id="new-features-70" tabindex="-1">New features</h3>
<p>Key binding objects with an <code>any</code> property will now add handlers that are called for any key, within the ordering of the keybindings.</p>
<h2 id="%40codemirror%2Fcommands-6.1.1-(2022-09-28)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.1.1 (2022-09-28)</h2>
<h3 id="bug-fixes-143" tabindex="-1">Bug fixes</h3>
<p>Make sure the selection endpoints are moved out of atomic ranges when applying a deletion command to a non-empty selection.</p>
<h2 id="%40codemirror%2Fsearch-6.2.1-(2022-09-26)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.2.1 (2022-09-26)</h2>
<h3 id="bug-fixes-144" tabindex="-1">Bug fixes</h3>
<p>By-word search queries will now skip any result that had word characters both before and after a match boundary.</p>
<h2 id="%40codemirror%2Fview-6.2.5-(2022-09-24)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.2.5 (2022-09-24)</h2>
<h3 id="bug-fixes-145" tabindex="-1">Bug fixes</h3>
<p>Don't override double/triple tap behavior on touch screen devices, so that the mobile selection menu pops up properly.</p>
<p>Fix an issue where updating the selection could crash on Safari when the editor was hidden.</p>
<h2 id="%40codemirror%2Fautocomplete-6.3.0-(2022-09-22)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.3.0 (2022-09-22)</h2>
<h3 id="new-features-71" tabindex="-1">New features</h3>
<p>Close bracket configuration now supports a <code>stringPrefixes</code> property that can be used to allow autoclosing of prefixed strings.</p>
<h2 id="%40codemirror%2Fstate-6.1.2-(2022-09-21)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.1.2 (2022-09-21)</h2>
<h3 id="bug-fixes-146" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where, when multiple transaction extenders took effect, only the highest-precedence one was actually included in the transaction.</p>
<h2 id="%40codemirror%2Fview-6.2.4-(2022-09-16)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.2.4 (2022-09-16)</h2>
<h3 id="bug-fixes-147" tabindex="-1">Bug fixes</h3>
<p>Highlight the active line even when there is a selection. Prevent the active line background from obscuring the selection backdrop.</p>
<p>Fix an issue where elements with negative margins would confuse the editor's scrolling-into-view logic.</p>
<p>Fix scrolling to a specific position in an editor that has not been in view yet.</p>
<h2 id="%40codemirror%2Fautocomplete-6.2.0-(2022-09-13)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.2.0 (2022-09-13)</h2>
<h3 id="new-features-72" tabindex="-1">New features</h3>
<p>Autocompletion now takes an <code>interactionDelay</code> option that can be used to control the delay between the time where completion opens and the time where commands like <code>acceptCompletion</code> affect it.</p>
<h2 id="%40codemirror%2Fview-6.2.3-(2022-09-08)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.2.3 (2022-09-08)</h2>
<h3 id="bug-fixes-148" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where cursor motion, when starting from a non-empty selection range, could get stuck on atomic ranges in some circumstances.</p>
<p>Avoid triggering Chrome Android's text-duplication issue when a period is typed in the middle of a word.</p>
<h2 id="%40codemirror%2Fautocomplete-6.1.1-(2022-09-08)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.1.1 (2022-09-08)</h2>
<h3 id="bug-fixes-149" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that prevented transactions produced by <code>deleteBracketPair</code> from being marked as deletion user events.</p>
<p>Improve positioning of completion info tooltips so they are less likely to stick out of the screen on small displays.</p>
<h2 id="%40codemirror%2Fview-6.2.2-(2022-08-31)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.2.2 (2022-08-31)</h2>
<h3 id="bug-fixes-150" tabindex="-1">Bug fixes</h3>
<p>Don't reset the selection for selection change events that were suppressed by a node view.</p>
<h2 id="%40codemirror%2Fview-6.2.1-(2022-08-25)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.2.1 (2022-08-25)</h2>
<h3 id="bug-fixes-151" tabindex="-1">Bug fixes</h3>
<p>Don't use the global <code>document</code> variable to track focus, since that doesn't work in another window/frame.</p>
<p>Fix an issue where key handlers that didn't return true were sometimes called twice for the same keypress.</p>
<p>Avoid editing glitches when using deletion keys like ctrl-d on iOS.</p>
<p>Properly treat characters from the 'Arabic Presentation Forms-A' Unicode block as right-to-left.</p>
<p>Work around a Firefox bug that inserts text at the wrong point for specific cross-line selections.</p>
<h2 id="%40codemirror%2Fsearch-6.2.0-(2022-08-25)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.2.0 (2022-08-25)</h2>
<h3 id="new-features-73" tabindex="-1">New features</h3>
<p>A new <code>wholeWord</code> search query flag can be used to limit matches to whole words.</p>
<p><code>SearchCursor</code> and <code>RegExpCursor</code> now support a <code>test</code> parameter that can be used to ignore certain matches.</p>
<h2 id="%40codemirror%2Fcommands-6.1.0-(2022-08-18)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.1.0 (2022-08-18)</h2>
<h3 id="bug-fixes-152" tabindex="-1">Bug fixes</h3>
<p>Prevent native behavior on Ctrl/Cmd-ArrowLeft/ArrowRight bindings, so that browsers with odd bidi behavior won't do the wrong thing at start/end of line.</p>
<p>Cmd-ArrowLeft/Right on macOS now moves the cursor in the direction of the arrow even in right-to-left content.</p>
<h3 id="new-features-74" tabindex="-1">New features</h3>
<p>The new <code>cursorLineBoundaryLeft</code>/<code>Right</code> and <code>selectLineBoundaryLeft</code>/<code>Right</code> commands allow directional motion to line boundaries.</p>
<h2 id="%40codemirror%2Fsearch-6.1.0-(2022-08-16)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.1.0 (2022-08-16)</h2>
<h3 id="bug-fixes-153" tabindex="-1">Bug fixes</h3>
<p>Fix an infinite loop when the match position of a <code>RegExpCursor</code> ended up in the middle of an UTF16 surrogate pair.</p>
<h3 id="new-features-75" tabindex="-1">New features</h3>
<p>The <code>literal</code> search option can now be set to make literal queries the default.</p>
<p>The new <code>searchPanelOpen</code> function can be used to find out whether the search panel is open for a given state.</p>
<h2 id="%40codemirror%2Fview-6.2.0-(2022-08-05)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.2.0 (2022-08-05)</h2>
<h3 id="bug-fixes-154" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where <code>posAtCoords</code> would return the wrong results for positions to the right of wrapped lines.</p>
<h3 id="new-features-76" tabindex="-1">New features</h3>
<p>The new <code>EditorView.setRoot</code> method can be used when an editor view is moved to a new document or shadow root.</p>
<h2 id="%40codemirror%2Fview-6.1.4-(2022-08-04)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.1.4 (2022-08-04)</h2>
<h3 id="bug-fixes-155" tabindex="-1">Bug fixes</h3>
<p>Make selection-restoration on focus more reliable.</p>
<h2 id="%40codemirror%2Fstate-6.1.1-(2022-08-03)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.1.1 (2022-08-03)</h2>
<h3 id="bug-fixes-156" tabindex="-1">Bug fixes</h3>
<p>Fix a bug in range set span iteration that would cause decorations to be inappropriately split in some situations.</p>
<h2 id="%40codemirror%2Fview-6.1.3-(2022-08-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.1.3 (2022-08-03)</h2>
<h3 id="bug-fixes-157" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where a document that contains only non-printing characters would lead to bogus text measurements (and, from those, to crashing).</p>
<p>Make sure differences between estimated and actual block heights don't cause visible scroll glitches.</p>
<h2 id="%40codemirror%2Fview-6.1.2-(2022-07-27)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.1.2 (2022-07-27)</h2>
<h3 id="bug-fixes-158" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where double tapping enter to confirm IME input and insert a newline on iOS would sometimes insert two newlines.</p>
<p>Fix an issue on iOS where a composition could get aborted if the editor scrolled on backspace.</p>
<h2 id="%40codemirror%2Fview-6.1.1-(2022-07-25)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.1.1 (2022-07-25)</h2>
<h3 id="bug-fixes-159" tabindex="-1">Bug fixes</h3>
<p>Make <code>highlightSpecialChars</code> replace directional isolate characters by default.</p>
<p>The editor will now try to suppress browsers' native behavior of resetting the selection in the editable content when the editable element is focused (programmatically, with tab, etc).</p>
<p>Fix a CSS issue that made it possible, when the gutters were wide enough, for them to overlap with the content.</p>
<h2 id="%40codemirror%2Fsearch-6.0.1-(2022-07-22)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.0.1 (2022-07-22)</h2>
<h3 id="bug-fixes-160" tabindex="-1">Bug fixes</h3>
<p><code>findNext</code> and <code>findPrevious</code> will now return to the current result (and scroll it into view) if no other matches are found.</p>
<h2 id="%40codemirror%2Flanguage-6.2.1-(2022-07-21)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.2.1 (2022-07-21)</h2>
<h3 id="bug-fixes-161" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where <code>bracketMatching</code> would incorrectly match nested brackets in syntax trees that put multiple pairs of brackets in the same parent node.</p>
<p>Fix a bug that could cause <code>indentRange</code> to loop infinitely.</p>
<h2 id="%40codemirror%2Fview-6.1.0-(2022-07-19)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.1.0 (2022-07-19)</h2>
<h3 id="new-features-77" tabindex="-1">New features</h3>
<p><code>MatchDecorator</code> now supports a <code>decorate</code> option that can be used to customize the way decorations are added for each match.</p>
<h2 id="%40codemirror%2Fautocomplete-6.1.0-(2022-07-19)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.1.0 (2022-07-19)</h2>
<h3 id="new-features-78" tabindex="-1">New features</h3>
<p>You can now provide a <code>compareCompletions</code> option to autocompletion to influence the way completions with the same match score are sorted.</p>
<p>The <code>selectOnOpen</code> option to autocompletion can be used to require explicitly selecting a completion option before <code>acceptCompletion</code> does anything.</p>
<h2 id="%40codemirror%2Fview-6.0.3-(2022-07-08)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.0.3 (2022-07-08)</h2>
<h3 id="bug-fixes-162" tabindex="-1">Bug fixes</h3>
<p>Fix a problem where <code>posAtCoords</code> could incorrectly return the start of the next line when querying positions between lines.</p>
<p>Fix an issue where registering a high-precedence keymap made keymap handling take precedence over other keydown event handlers.</p>
<p>Ctrl/Cmd-clicking can now remove ranges from a multi-range selection.</p>
<h2 id="%40codemirror%2Fautocomplete-6.0.4-(2022-07-07)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.0.4 (2022-07-07)</h2>
<h3 id="bug-fixes-163" tabindex="-1">Bug fixes</h3>
<p>Remove a leftover <code>console.log</code> in bracket closing code.</p>
<h2 id="%40codemirror%2Fautocomplete-6.0.3-(2022-07-04)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.0.3 (2022-07-04)</h2>
<h3 id="bug-fixes-164" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused <code>closeBrackets</code> to not close quotes when at the end of a syntactic construct that starts with a similar quote.</p>
<h2 id="%40codemirror%2Fstate-6.1.0-(2022-06-30)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.1.0 (2022-06-30)</h2>
<h3 id="bug-fixes-165" tabindex="-1">Bug fixes</h3>
<p>Refine change mapping to preserve insertions made by concurrent changes.</p>
<h3 id="new-features-79" tabindex="-1">New features</h3>
<p>The <code>enables</code> option to <code>Facet.define</code> may now take a function, which will be called with the facet value to create the extensions.</p>
<h2 id="%40codemirror%2Flanguage-6.2.0-(2022-06-30)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.2.0 (2022-06-30)</h2>
<h3 id="bug-fixes-166" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that prevented bracket matching to recognize plain brackets inside a language parsed as an overlay.</p>
<h3 id="new-features-80" tabindex="-1">New features</h3>
<p>The <code>indentRange</code> function provides an easy way to programatically auto-indent a range of the document.</p>
<h2 id="%40codemirror%2Fcommands-6.0.1-(2022-06-30)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.0.1 (2022-06-30)</h2>
<h3 id="bug-fixes-167" tabindex="-1">Bug fixes</h3>
<p>Announce to the screen reader when the selection is deleted.</p>
<p>Also bind Ctrl-Shift-z to redo on Linux.</p>
<h2 id="codemirror-6.0.1-(2022-06-30)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 6.0.1 (2022-06-30)</h2>
<h3 id="bug-fixes-168" tabindex="-1">Bug fixes</h3>
<p>Work around limitations in tree-shaking software that prevented <code>basicSetup</code> from being removed when unused.</p>
<h2 id="%40codemirror%2Fview-6.0.2-(2022-06-23)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.0.2 (2022-06-23)</h2>
<h3 id="bug-fixes-169" tabindex="-1">Bug fixes</h3>
<p>Fix a CSS issue that broke horizontal scroll width stabilization.</p>
<p>Fix a bug where <code>defaultLineHeight</code> could get an incorrect value in very narrow editors.</p>
<h2 id="%40codemirror%2Flanguage-6.1.0-(2022-06-20)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.1.0 (2022-06-20)</h2>
<h3 id="new-features-81" tabindex="-1">New features</h3>
<p>The <code>foldState</code> field is now public, and can be used to serialize and deserialize the fold state.</p>
<h2 id="%40codemirror%2Fstate-6.0.1-(2022-06-17)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.0.1 (2022-06-17)</h2>
<h3 id="bug-fixes-170" tabindex="-1">Bug fixes</h3>
<p>Fix a problem that caused effects' <code>map</code> methods to be called with an incorrect change set when filtering changes.</p>
<h2 id="%40codemirror%2Fview-6.0.1-(2022-06-17)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.0.1 (2022-06-17)</h2>
<h3 id="bug-fixes-171" tabindex="-1">Bug fixes</h3>
<p>Avoid DOM selection corruption when the editor doesn't have focus but has selection and updates its content.</p>
<p>Fall back to dispatching by key code when a key event produces a non-ASCII character (so that Cyrillic and Arabic keyboards can still use bindings specified with Latin characters).</p>
<h2 id="%40codemirror%2Flanguage-data-6.1.0-(2022-06-17)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.1.0 (2022-06-17)</h2>
<h3 id="new-features-82" tabindex="-1">New features</h3>
<p>Add a <code>LanguageDescription</code> for Sass.</p>
<h2 id="%40codemirror%2Fautocomplete-6.0.2-(2022-06-15)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.0.2 (2022-06-15)</h2>
<h3 id="bug-fixes-172" tabindex="-1">Bug fixes</h3>
<p>Declare package dependencies as peer dependencies as an attempt to avoid duplicated package issues.</p>
<h2 id="%40codemirror%2Fautocomplete-6.0.1-(2022-06-09)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.0.1 (2022-06-09)</h2>
<h3 id="bug-fixes-173" tabindex="-1">Bug fixes</h3>
<p>Support escaping <code>${</code> or <code>#{</code> in snippets.</p>
<h2 id="%40codemirror%2Fstate-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 6.0.0 (2022-06-08)</h2>
<h3 id="breaking-changes" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 6.0.0</p>
<h2 id="%40codemirror%2Fview-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 6.0.0 (2022-06-08)</h2>
<h3 id="new-features-83" tabindex="-1">New features</h3>
<p>The new static <code>EditorView.findFromDOM</code> method can be used to retrieve an editor instance from its DOM structure.</p>
<p>Instead of passing a constructed state to the <code>EditorView</code> constructor, it is now also possible to inline the configuration options to the state in the view config object.</p>
<h2 id="%40codemirror%2Flanguage-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 6.0.0 (2022-06-08)</h2>
<h3 id="new-features-84" tabindex="-1">New features</h3>
<p>The <code>foldingChanged</code> option to <code>foldGutter</code> can now be used to trigger a recomputation of the fold markers.</p>
<h2 id="%40codemirror%2Fcommands-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 6.0.0 (2022-06-08)</h2>
<h3 id="bug-fixes-174" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where by-page selection commands sometimes moved one line too far.</p>
<h2 id="%40codemirror%2Fsearch-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 6.0.0 (2022-06-08)</h2>
<h3 id="bug-fixes-175" tabindex="-1">Bug fixes</h3>
<p>Don't crash when a custom search panel doesn't have a field named 'search'.</p>
<p>Make sure replacements are announced to screen readers.</p>
<h2 id="%40codemirror%2Fautocomplete-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 6.0.0 (2022-06-08)</h2>
<h3 id="bug-fixes-176" tabindex="-1">Bug fixes</h3>
<p>Scroll the cursor into view when inserting a snippet.</p>
<h2 id="%40codemirror%2Flint-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 6.0.0 (2022-06-08)</h2>
<h3 id="breaking-changes-1" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 6.0.0</p>
<h2 id="%40codemirror%2Fcollab-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 6.0.0 (2022-06-08)</h2>
<h3 id="breaking-changes-2" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 6.0.0</p>
<h2 id="%40codemirror%2Flanguage-data-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 6.0.0 (2022-06-08)</h2>
<h3 id="breaking-changes-3" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 6.0.0</p>
<h2 id="codemirror-6.0.0-(2022-06-08)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 6.0.0 (2022-06-08)</h2>
<h3 id="breaking-changes-4" tabindex="-1">Breaking changes</h3>
<p>Change the package name from <code>@codemirror/example-setup</code> to just <code>codemirror</code>.</p>
<p>The package no longer exports <code>EditorState</code> (since that is no longer necessary to set up a basic editor).</p>
<h3 id="new-features-85" tabindex="-1">New features</h3>
<p>The new <code>minimalSetup</code> export provides a minimal set of editor extensions.</p>
<h2 id="%40codemirror%2Fstate-0.20.1-(2022-06-02)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.20.1 (2022-06-02)</h2>
<h3 id="new-features-86" tabindex="-1">New features</h3>
<p><code>EditorView.phrase</code> now accepts additional arguments, which it will interpolate into the phrase in the place of <code>$</code> markers.</p>
<h2 id="%40codemirror%2Fview-0.20.7-(2022-05-30)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.20.7 (2022-05-30)</h2>
<h3 id="bug-fixes-177" tabindex="-1">Bug fixes</h3>
<p>Fix an issue on Chrome Android where the DOM could fail to display the actual document after backspace.</p>
<p>Avoid an issue on Chrome Android where DOM changes were sometimes inappropriately replace by a backspace key effect due to spurious beforeinput events.</p>
<p>Fix a problem where the content element's width didn't cover the width of the actual content.</p>
<p>Work around a bug in Chrome 102 which caused wheel scrolling of the editor to be interrupted every few lines.</p>
<h2 id="%40codemirror%2Fautocomplete-0.20.3-(2022-05-30)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.20.3 (2022-05-30)</h2>
<h3 id="bug-fixes-178" tabindex="-1">Bug fixes</h3>
<p>Add an aria-label to the completion listbox.</p>
<p>Fix a regression that caused transactions generated for completion to not have a <code>userEvent</code> annotation.</p>
<h2 id="%40codemirror%2Flint-0.20.3-(2022-05-25)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.20.3 (2022-05-25)</h2>
<h3 id="new-features-87" tabindex="-1">New features</h3>
<p>Diagnostic objects may now have a <code>renderMessage</code> method to render their message to the DOM.</p>
<h2 id="%40codemirror%2Fautocomplete-0.20.2-(2022-05-24)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.20.2 (2022-05-24)</h2>
<h3 id="new-features-88" tabindex="-1">New features</h3>
<p>The package now exports an <code>insertCompletionText</code> helper that implements the default behavior for applying a completion.</p>
<h2 id="%40codemirror%2Fview-0.20.6-(2022-05-20)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.20.6 (2022-05-20)</h2>
<h3 id="bug-fixes-179" tabindex="-1">Bug fixes</h3>
<p>Make sure the editor re-measures itself when its attributes are updated.</p>
<h2 id="%40codemirror%2Flanguage-0.20.2-(2022-05-20)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.20.2 (2022-05-20)</h2>
<h3 id="bug-fixes-180" tabindex="-1">Bug fixes</h3>
<p>List style-mod as a dependency.</p>
<h2 id="%40codemirror%2Fview-0.20.5-(2022-05-18)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.20.5 (2022-05-18)</h2>
<h3 id="bug-fixes-181" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where gutter elements without any markers in them would not get the <code>cm-gutterElement</code> class assigned.</p>
<p>Fix an issue where DOM event handlers registered by plugins were retained indefinitely, even after the editor was reconfigured.</p>
<h2 id="%40codemirror%2Flanguage-0.20.1-(2022-05-18)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.20.1 (2022-05-18)</h2>
<h3 id="bug-fixes-182" tabindex="-1">Bug fixes</h3>
<p>Make sure <code>all</code> styles in the CSS generated for a <code>HighlightStyle</code> have a lower precedence than the other rules defined for the style. Use a shorthand property</p>
<h2 id="%40codemirror%2Fautocomplete-0.20.1-(2022-05-16)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.20.1 (2022-05-16)</h2>
<h3 id="new-features-89" tabindex="-1">New features</h3>
<p>The new <code>closeOnBlur</code> option determines whether the completion tooltip is closed when the editor loses focus.</p>
<p><code>CompletionResult</code> objects with <code>filter: false</code> may now have a <code>getMatch</code> property that determines the matched range in the options.</p>
<h2 id="%40codemirror%2Fview-0.20.4-(2022-05-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.20.4 (2022-05-03)</h2>
<h3 id="bug-fixes-183" tabindex="-1">Bug fixes</h3>
<p>Prevent Mac-style behavior of inserting a period when the user inserts two spaces.</p>
<p>Fix an issue where the editor would sometimes not restore the DOM selection when refocused with a selection identical to the one it held when it lost focus.</p>
<h2 id="%40codemirror%2Flint-0.20.2-(2022-05-02)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.20.2 (2022-05-02)</h2>
<h3 id="new-features-90" tabindex="-1">New features</h3>
<p>The package now exports the <code>LintSource</code> function type.</p>
<p>The new <code>markerFilter</code> and <code>tooltipFilter</code> options to <code>linter</code> and <code>lintGutter</code> allow more control over which diagnostics are visible and which have tooltips.</p>
<h2 id="%40codemirror%2Fview-0.20.3-(2022-04-27)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.20.3 (2022-04-27)</h2>
<h3 id="bug-fixes-184" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where the input handling could crash on repeated (or held) backspace presses on Chrome Android.</p>
<h2 id="%40codemirror%2Fview-0.20.2-(2022-04-22)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.20.2 (2022-04-22)</h2>
<h3 id="new-features-91" tabindex="-1">New features</h3>
<p>The new <code>hideOn</code> option to <code>hoverTooltip</code> allows more fine-grained control over when the tooltip should hide.</p>
<h2 id="%40codemirror%2Fsearch-0.20.1-(2022-04-22)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.20.1 (2022-04-22)</h2>
<h3 id="new-features-92" tabindex="-1">New features</h3>
<p>It is now possible to disable backslash escapes in search queries with the <code>literal</code> option.</p>
<h2 id="%40codemirror%2Flint-0.20.1-(2022-04-22)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.20.1 (2022-04-22)</h2>
<h3 id="bug-fixes-185" tabindex="-1">Bug fixes</h3>
<p>Hide lint tooltips when the document is changed.</p>
<h2 id="%40codemirror%2Fstate-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.20.0 (2022-04-20)</h2>
<h3 id="breaking-changes-5" tabindex="-1">Breaking changes</h3>
<p>The deprecated precedence names <code>fallback</code>, <code>extend</code>, and <code>override</code> were removed from the library.</p>
<h3 id="bug-fixes-186" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where, if an extension value occurs multiple times, its lowest, rather than highest precedence is used.</p>
<p>Fix an issue where facets with computed inputs would unneccesarily have their outputs recreated on state reconfiguration.</p>
<p>Fix a bug in the order in which new values for state fields and facets were computed, which could cause dynamic facets to hold the wrong value in some situations.</p>
<h3 id="new-features-93" tabindex="-1">New features</h3>
<p>The exports from @codemirror/rangeset now live in this package.</p>
<p>The exports from @codemirror/text now live in this package.</p>
<h2 id="%40codemirror%2Fview-0.20.1-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.20.1 (2022-04-20)</h2>
<h3 id="bug-fixes-187" tabindex="-1">Bug fixes</h3>
<p>Remove debug statements that accidentally made it into 0.20.0.</p>
<p>Fix a regression in <code>moveVertically</code>.</p>
<h2 id="%40codemirror%2Fview-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.20.0 (2022-04-20)</h2>
<h3 id="breaking-changes-6" tabindex="-1">Breaking changes</h3>
<p>The deprecated interfaces <code>blockAtHeight</code>, <code>visualLineAtHeight</code>, <code>viewportLines</code>, <code>visualLineAt</code>, <code>scrollPosIntoView</code>, <code>scrollTo</code>, and <code>centerOn</code> were removed from the library.</p>
<p>All decorations are now provided through <code>EditorView.decorations</code>, and are part of a single precedence ordering. Decoration sources that need access to the view are provided as functions.</p>
<p>Atomic ranges are now specified through a facet (<code>EditorView.atomicRanges</code>).</p>
<p>Scroll margins are now specified through a facet (<code>EditorView.scrollMargins</code>).</p>
<p>Plugin fields no longer exist in the library (and are replaced by facets holding function values).</p>
<p>This package no longer re-exports the Range type from @codemirror/state.</p>
<h3 id="bug-fixes-188" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where zero-length block widgets could cause <code>viewportLineBlocks</code> to contain overlapping ranges.</p>
<h3 id="new-features-94" tabindex="-1">New features</h3>
<p>The new <code>perLineTextDirection</code> facet configures whether the editor reads text direction per line, or uses a single direction for the entire editor. <code>EditorView.textDirectionAt</code> returns the direction around a given position.</p>
<p><code>rectangularSelection</code> and <code>crosshairCursor</code> from @codemirror/rectangular-selection were merged into this package.</p>
<p>This package now exports the tooltip functionality that used to live in @codemirror/tooltip.</p>
<p>The exports from the old @codemirror/panel package are now available from this package.</p>
<p>The exports from the old @codemirror/gutter package are now available from this package.</p>
<h2 id="%40codemirror%2Flanguage-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.20.0 (2022-04-20)</h2>
<h3 id="breaking-changes-7" tabindex="-1">Breaking changes</h3>
<p><code>HighlightStyle.get</code> is now called <code>highlightingFor</code>.</p>
<p><code>HighlightStyles</code> no longer function as extensions (to improve tree shaking), and must be wrapped with <code>syntaxHighlighting</code> to add to an editor configuration.</p>
<p><code>Language</code> objects no longer have a <code>topNode</code> property.</p>
<h3 id="new-features-95" tabindex="-1">New features</h3>
<p><code>HighlightStyle</code> and <code>defaultHighlightStyle</code> from the now-removed @codemirror/highlight package now live in this package.</p>
<p>The new <code>forceParsing</code> function can be used to run the parser forward on an editor view.</p>
<p>The exports that used to live in @codemirror/matchbrackets are now exported from this package.</p>
<p>The @codemirror/fold package has been merged into this one.</p>
<p>The exports from the old @codemirror/stream-parser package now live in this package.</p>
<h2 id="%40codemirror%2Fcommands-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.20.0 (2022-04-20)</h2>
<h3 id="breaking-changes-8" tabindex="-1">Breaking changes</h3>
<p>There is no longer a separate <code>commentKeymap</code>. Those bindings are now part of <code>defaultKeymap</code>.</p>
<h3 id="bug-fixes-189" tabindex="-1">Bug fixes</h3>
<p>Make <code>cursorPageUp</code> and <code>cursorPageDown</code> move by window height when the editor is higher than the window.</p>
<p>Make sure the default behavior of Home/End is prevented, since it could produce unexpected results on macOS.</p>
<h3 id="new-features-96" tabindex="-1">New features</h3>
<p>The exports from @codemirror/comment are now available in this package.</p>
<p>The exports from the @codemirror/history package are now available from this package.</p>
<h2 id="%40codemirror%2Fsearch-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.20.0 (2022-04-20)</h2>
<h3 id="bug-fixes-190" tabindex="-1">Bug fixes</h3>
<p>Make the <code>wholeWords</code> option to <code>highlightSelectionMatches</code> default to false, as intended.</p>
<h2 id="%40codemirror%2Fautocomplete-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.20.0 (2022-04-20)</h2>
<h3 id="breaking-changes-9" tabindex="-1">Breaking changes</h3>
<p><code>CompletionResult.span</code> has been renamed to <code>validFor</code>, and may now hold a function as well as a regular expression.</p>
<h3 id="bug-fixes-191" tabindex="-1">Bug fixes</h3>
<p>Remove code that dropped any options beyond the 300th one when matching and sorting option lists.</p>
<p>Completion will now apply to all cursors when there are multiple cursors.</p>
<h3 id="new-features-97" tabindex="-1">New features</h3>
<p><code>CompletionResult.update</code> can now be used to implement quick autocompletion updates in a synchronous way.</p>
<p>The @codemirror/closebrackets package was merged into this one.</p>
<h2 id="%40codemirror%2Flint-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.20.0 (2022-04-20)</h2>
<h3 id="breaking-changes-10" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.20.0</p>
<h2 id="%40codemirror%2Fcollab-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 0.20.0 (2022-04-20)</h2>
<h3 id="breaking-changes-11" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.20.0</p>
<h2 id="%40codemirror%2Flanguage-data-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 0.20.0 (2022-04-20)</h2>
<h3 id="breaking-changes-12" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.20.0</p>
<h2 id="codemirror-0.20.0-(2022-04-20)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 0.20.0 (2022-04-20)</h2>
<h3 id="breaking-changes-13" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.20.0</p>
<h2 id="%40codemirror%2Fsearch-0.19.10-(2022-04-04)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.10 (2022-04-04)</h2>
<h3 id="bug-fixes-192" tabindex="-1">Bug fixes</h3>
<p>Make sure search matches are highlighted when scrolling new content into view.</p>
<h2 id="%40codemirror%2Flanguage-0.19.10-(2022-03-31)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.10 (2022-03-31)</h2>
<h3 id="bug-fixes-193" tabindex="-1">Bug fixes</h3>
<p>Autocompletion may now also trigger automatic indentation on input.</p>
<h2 id="%40codemirror%2Fview-0.19.48-(2022-03-30)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.48 (2022-03-30)</h2>
<h3 id="bug-fixes-194" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where DOM syncing could crash when a DOM node was moved from a parent to a child node (via widgets reusing existing nodes).</p>
<p>To avoid interfering with things like a vim mode too much, the editor will now only activate the tab-to-move-focus escape hatch after an escape press that wasn't handled by an event handler.</p>
<p>Make sure the view measures itself before the page is printed.</p>
<p>Tweak types of view plugin defining functions to avoid TypeScript errors when the plugin value doesn't have any of the interface's properties.</p>
<h2 id="%40codemirror%2Flanguage-0.19.9-(2022-03-30)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.9 (2022-03-30)</h2>
<h3 id="bug-fixes-195" tabindex="-1">Bug fixes</h3>
<p>Make sure nodes that end at the end of a partial parse aren't treated as valid fold targets.</p>
<p>Fix an issue where the parser sometimes wouldn't reuse parsing work done in the background on transactions.</p>
<h2 id="codemirror-0.19.3-(2022-03-30)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 0.19.3 (2022-03-30)</h2>
<h3 id="new-features-98" tabindex="-1">New features</h3>
<p>Add the extension that shows a crosshair cursor when Alt is held down to the basic setup.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.15-(2022-03-23)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.15 (2022-03-23)</h2>
<h3 id="new-features-99" tabindex="-1">New features</h3>
<p>The <code>selectedCompletionIndex</code> function tells you the position of the currently selected completion.</p>
<p>The new <code>setSelectionCompletion</code> function creates a state effect that moves the selected completion to a given index.</p>
<p>A completion's <code>info</code> method may now return null to indicate that no further info is available.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.14-(2022-03-10)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.14 (2022-03-10)</h2>
<h3 id="bug-fixes-196" tabindex="-1">Bug fixes</h3>
<p>Make the ARIA attributes added to the editor during autocompletion spec-compliant.</p>
<h2 id="%40codemirror%2Fview-0.19.47-(2022-03-08)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.47 (2022-03-08)</h2>
<h3 id="bug-fixes-197" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where block widgets at the start of the viewport could break height computations.</p>
<h2 id="%40codemirror%2Flint-0.19.6-(2022-03-04)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.19.6 (2022-03-04)</h2>
<h3 id="bug-fixes-198" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where hovering over the icons in the lint gutter would sometimes fail to show a tooltip or show the tooltip for another line.</p>
<h2 id="%40codemirror%2Fview-0.19.46-(2022-03-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.46 (2022-03-03)</h2>
<h3 id="bug-fixes-199" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where block widgets on the edges of viewports could cause the positioning of content to misalign with the gutter and height computations.</p>
<p>Improve cursor height next to widgets.</p>
<p>Fix a bug where mapping positions to screen coordinates could return incorred coordinates during composition.</p>
<h2 id="%40codemirror%2Flanguage-0.19.8-(2022-03-03)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.8 (2022-03-03)</h2>
<h3 id="bug-fixes-200" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that could cause indentation logic to use the wrong line content when indenting multiple lines at once.</p>
<h2 id="%40codemirror%2Fsearch-0.19.9-(2022-03-03)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.9 (2022-03-03)</h2>
<h3 id="new-features-100" tabindex="-1">New features</h3>
<p>The selection-matching extension now accepts a <code>wholeWords</code> option that makes it only highlight matches that span a whole word. Add SearchQuery.getCursor</p>
<p>The <code>SearchQuery</code> class now has a <code>getCursor</code> method that allows external code to create a cursor for the query.</p>
<h2 id="%40codemirror%2Flint-0.19.5-(2022-02-25)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.19.5 (2022-02-25)</h2>
<h3 id="bug-fixes-201" tabindex="-1">Bug fixes</h3>
<p>Make sure the lint gutter tooltips are positioned under their icon, even when the line is wrapped.</p>
<h2 id="%40codemirror%2Flint-0.19.4-(2022-02-25)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.19.4 (2022-02-25)</h2>
<h3 id="bug-fixes-202" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where an outdated marker could stick around on the lint gutter after all diagnostics were removed.</p>
<h3 id="new-features-101" tabindex="-1">New features</h3>
<p>Add a <code>hoverTime</code> option to the lint gutter. Change default hover time to 300</p>
<h2 id="%40codemirror%2Fview-0.19.45-(2022-02-23)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.45 (2022-02-23)</h2>
<h3 id="bug-fixes-203" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the library failed to call <code>WidgetType.destroy</code> on the old widget when replacing a widget with a different widget of the same type.</p>
<p>Fix an issue where the editor would compute DOM positions inside composition contexts incorrectly in some cases, causing the selection to be put in the wrong place and needlessly interrupting compositions.</p>
<p>Fix leaking of resize event handlers.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.13-(2022-02-18)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.13 (2022-02-18)</h2>
<h3 id="bug-fixes-204" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the completion tooltip stayed open if it was explicitly opened and the user backspaced past its start.</p>
<p>Stop snippet filling when a change happens across one of the snippet fields' boundaries.</p>
<h2 id="%40codemirror%2Fview-0.19.44-(2022-02-17)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.44 (2022-02-17)</h2>
<h3 id="bug-fixes-205" tabindex="-1">Bug fixes</h3>
<p>Fix a crash that occasionally occurred when drag-selecting in a way that scrolled the editor.</p>
<h3 id="new-features-102" tabindex="-1">New features</h3>
<p>The new <code>EditorView.compositionStarted</code> property indicates whether a composition is starting.</p>
<h2 id="%40codemirror%2Fstate-0.19.9-(2022-02-16)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.9 (2022-02-16)</h2>
<h3 id="bug-fixes-206" tabindex="-1">Bug fixes</h3>
<p>Mapping a non-empty selection range now always puts any newly inserted text on the sides of the range outside of the mapped version.</p>
<h2 id="%40codemirror%2Fview-0.19.43-(2022-02-16)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.43 (2022-02-16)</h2>
<h3 id="bug-fixes-207" tabindex="-1">Bug fixes</h3>
<p>Fix several issues where editing or composition went wrong due to our zero-width space kludge characters ending up in unexpected places.</p>
<p>Make sure the editor re-measures its dimensions whenever its theme changes.</p>
<p>Fix an issue where some keys on Android phones could leave the editor DOM unsynced with the actual document.</p>
<h2 id="%40codemirror%2Fstate-0.19.8-(2022-02-15)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.8 (2022-02-15)</h2>
<h3 id="bug-fixes-208" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where facet values with computed inputs could incorrectly retain their old value on reconfiguration.</p>
<h2 id="%40codemirror%2Flanguage-data-0.19.2-(2022-02-15)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 0.19.2 (2022-02-15)</h2>
<h2 id="%40codemirror%2Fsearch-0.19.8-(2022-02-14)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.8 (2022-02-14)</h2>
<h3 id="bug-fixes-209" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused the search panel to start open when configuring a state with the <code>search()</code> extension.</p>
<h2 id="%40codemirror%2Fsearch-0.19.7-(2022-02-14)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.7 (2022-02-14)</h2>
<h3 id="breaking-changes-14" tabindex="-1">Breaking changes</h3>
<p><code>searchConfig</code> is deprecated in favor of <code>search</code> (but will exist until next major release).</p>
<h3 id="new-features-103" tabindex="-1">New features</h3>
<p>The new <code>search</code> function is now used to enable and configure the search extension.</p>
<h2 id="%40codemirror%2Fstate-0.19.7-(2022-02-11)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.7 (2022-02-11)</h2>
<h3 id="bug-fixes-210" tabindex="-1">Bug fixes</h3>
<p>Avoid recomputing facets on state reconfiguration if that facet's inputs stayed precisely the same.</p>
<p>Selection ranges created with <code>EditorSelection.range</code> will now have an assoc pointing at their anchor, when non-empty.</p>
<h2 id="%40codemirror%2Fview-0.19.42-(2022-02-05)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.42 (2022-02-05)</h2>
<h3 id="bug-fixes-211" tabindex="-1">Bug fixes</h3>
<p>Fix a regression in cursor position determination after making an edit next to a widget.</p>
<h2 id="%40codemirror%2Fview-0.19.41-(2022-02-04)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.41 (2022-02-04)</h2>
<h3 id="bug-fixes-212" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the editor's view of its content height could go out of sync with the DOM when a line-wrapping editor had its width changed, causing wrapping to change.</p>
<p>Fix a bug that caused the editor to draw way too much content when scrolling to a position in an editor (much) taller than the window.</p>
<p>Report an error when a replace decoration from a plugin crosses a line break, rather than silently ignoring it.</p>
<p>Fix an issue where reading DOM changes was broken when <code>lineSeparator</code> contained more than one character.</p>
<p>Make ordering of replace and mark decorations with the same extent and inclusivness more predictable by giving replace decorations precedence.</p>
<p>Fix a bug where, on Chrome, replacement across line boundaries and next to widgets could cause bogus zero-width characters to appear in the content.</p>
<h2 id="%40codemirror%2Fsearch-0.19.6-(2022-01-27)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.6 (2022-01-27)</h2>
<h3 id="bug-fixes-213" tabindex="-1">Bug fixes</h3>
<p>Make <code>selectNextOccurrence</code> scroll the newly selected range into view.</p>
<h2 id="%40codemirror%2Fcommands-0.19.8-(2022-01-26)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.19.8 (2022-01-26)</h2>
<h3 id="bug-fixes-214" tabindex="-1">Bug fixes</h3>
<p><code>deleteCharBackward</code> now removes extending characters one at a time, rather than deleting the entire glyph at once.</p>
<p>Alt-v is no longer bound in <code>emacsStyleKeymap</code> and macOS's <code>standardKeymap</code>, because macOS doesn't bind it by default and it conflicts with some keyboard layouts.</p>
<h2 id="%40codemirror%2Fview-0.19.40-(2022-01-19)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.40 (2022-01-19)</h2>
<h3 id="bug-fixes-215" tabindex="-1">Bug fixes</h3>
<p>Make composition input properly appear at secondary cursors (except when those are in the DOM node with the composition, in which case the browser won't allow us to intervene without aborting the composition).</p>
<p>Fix a bug that cause the editor to get confused about which content was visible after scrolling something into view.</p>
<p>Fix a bug where the dummy elements rendered around widgets could end up in a separate set of wrapping marks, and thus become visible.</p>
<p><code>EditorView.moveVertically</code> now preserves the <code>assoc</code> property of the input range.</p>
<p>Get rid of gaps between selection elements drawn by <code>drawSelection</code>.</p>
<p>Fix an issue where replacing text next to a widget might leak bogus zero-width spaces into the document.</p>
<p>Avoid browser selection mishandling when a focused view has <code>setState</code> called by eagerly refocusing it.</p>
<h2 id="%40codemirror%2Fcommands-0.19.7-(2022-01-11)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.19.7 (2022-01-11)</h2>
<h3 id="bug-fixes-216" tabindex="-1">Bug fixes</h3>
<p>Don't bind Alt-&lt; and Alt-&gt; on macOS by default, since those interfere with some keyboard layouts. Make cursorPageUp/Down scroll the view to keep the cursor in place</p>
<p><code>cursorPageUp</code> and <code>cursorPageDown</code> now scroll the view by the amount that the cursor moved.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.12-(2022-01-11)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.12 (2022-01-11)</h2>
<h3 id="bug-fixes-217" tabindex="-1">Bug fixes</h3>
<p>Fix completion navigation with PageUp/Down when the completion tooltip isn't part of the view DOM.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.11-(2022-01-11)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.11 (2022-01-11)</h2>
<h3 id="bug-fixes-218" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused page up/down to only move the selection by two options in the completion tooltip.</p>
<h2 id="%40codemirror%2Fview-0.19.39-(2022-01-06)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.39 (2022-01-06)</h2>
<h3 id="bug-fixes-219" tabindex="-1">Bug fixes</h3>
<p>Make sure the editor signals a <code>geometryChanged</code> update when its width changes.</p>
<h3 id="new-features-104" tabindex="-1">New features</h3>
<p><code>EditorView.darkTheme</code> can now be queried to figure out whether the editor is using a dark theme.</p>
<h2 id="%40codemirror%2Fview-0.19.38-(2022-01-05)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.38 (2022-01-05)</h2>
<h3 id="bug-fixes-220" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused line decorations with a <code>class</code> property to suppress all other line decorations for that line.</p>
<p>Fix a bug that caused scroll effects to be corrupted when further updates came in before they were applied.</p>
<p>Fix an issue where, depending on which way a floating point rounding error fell, <code>posAtCoords</code> (and thus vertical cursor motion) for positions outside of the vertical range of the document might or might not return the start/end of the document.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.10-(2022-01-05)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.10 (2022-01-05)</h2>
<h3 id="bug-fixes-221" tabindex="-1">Bug fixes</h3>
<p>Make sure the info tooltip is hidden when the selected option is scrolled out of view.</p>
<p>Fix a bug in the completion ranking that would sometimes give options that match the input by word start chars higher scores than appropriate.</p>
<p>Options are now sorted (ascending) by length when their match score is otherwise identical.</p>
<h2 id="%40codemirror%2Fview-0.19.37-(2021-12-22)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.37 (2021-12-22)</h2>
<h3 id="bug-fixes-222" tabindex="-1">Bug fixes</h3>
<p>Fix regression where plugin replacing decorations that span to the end of the line are ignored.</p>
<h2 id="%40codemirror%2Fview-0.19.36-(2021-12-22)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.36 (2021-12-22)</h2>
<h3 id="bug-fixes-223" tabindex="-1">Bug fixes</h3>
<p>Fix a crash in <code>posAtCoords</code> when the position lies in a block widget that is rendered but scrolled out of view.</p>
<p>Adding block decorations from a plugin now raises an error. Replacing decorations that cross lines are ignored, when provided by a plugin.</p>
<p>Fix inverted interpretation of the <code>precise</code> argument to <code>posAtCoords</code>.</p>
<h2 id="%40codemirror%2Fview-0.19.35-(2021-12-20)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.35 (2021-12-20)</h2>
<h3 id="bug-fixes-224" tabindex="-1">Bug fixes</h3>
<p>The editor will now handle double-taps as if they are double-clicks, rather than letting the browser's native behavior happen (because the latter often does the wrong thing).</p>
<p>Fix an issue where backspacing out a selection on Chrome Android would sometimes only delete the last character due to event order issues.</p>
<p><code>posAtCoords</code>, without second argument, will no longer return null for positions below or above the document.</p>
<h2 id="%40codemirror%2Fview-0.19.34-(2021-12-17)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.34 (2021-12-17)</h2>
<h3 id="bug-fixes-225" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where content line elements would in some cases lose their <code>cm-line</code> class.</p>
<h2 id="%40codemirror%2Fview-0.19.33-(2021-12-16)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.33 (2021-12-16)</h2>
<h3 id="breaking-changes-15" tabindex="-1">Breaking changes</h3>
<p><code>EditorView.scrollTo</code> and <code>EditorView.centerOn</code> are deprecated in favor of <code>EditorView.scrollIntoView</code>, and will be removed in the next breaking release.</p>
<h3 id="bug-fixes-226" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that could cause the editor to unnecessarily interfere with composition (especially visible on macOS Chrome).</p>
<p>A composition started with multiple lines selected will no longer be interruptd by the editor.</p>
<h3 id="new-features-105" tabindex="-1">New features</h3>
<p>The new <code>EditorView.scrollIntoView</code> function allows you to do more fine-grained scrolling.</p>
<h2 id="%40codemirror%2Fsearch-0.19.5-(2021-12-16)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.5 (2021-12-16)</h2>
<h3 id="breaking-changes-16" tabindex="-1">Breaking changes</h3>
<p>The search option <code>matchCase</code> was renamed to <code>caseSensitive</code> (the old name will continue to work until the next breaking release).</p>
<h3 id="bug-fixes-227" tabindex="-1">Bug fixes</h3>
<p><code>openSearchPanel</code> will now update the search query to the current selection even if the panel was already open.</p>
<h3 id="new-features-106" tabindex="-1">New features</h3>
<p>Client code can now pass a custom search panel creation function in the search configuration.</p>
<p>The <code>getSearchQuery</code> function and <code>setSearchQuery</code> effect can now be used to inspect or change the current search query.</p>
<h2 id="%40codemirror%2Fview-0.19.32-(2021-12-15)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.32 (2021-12-15)</h2>
<h3 id="bug-fixes-228" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where CodeMirror's own event handers would run even after a user-supplied handler called <code>preventDefault</code> on an event.</p>
<p>Properly draw selections when negative text-indent is used for soft wrapping.</p>
<p>Fix an issue where <code>viewportLineBlocks</code> could hold inaccurate height information when the vertical scaling changed.</p>
<p>Fixes drop cursor positioning when the document is scrolled. Force a content measure when the editor comes into view</p>
<p>Fix a bug that could cause the editor to not measure its layout the first time it came into view.</p>
<h2 id="%40codemirror%2Fview-0.19.31-(2021-12-13)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.31 (2021-12-13)</h2>
<h3 id="new-features-107" tabindex="-1">New features</h3>
<p>The package now exports a <code>dropCursor</code> extension that draws a cursor at the current drop position when dragging content over the editor.</p>
<h2 id="%40codemirror%2Fview-0.19.30-(2021-12-13)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.30 (2021-12-13)</h2>
<h3 id="bug-fixes-229" tabindex="-1">Bug fixes</h3>
<p>Refine Android key event handling to work properly in a GBoard corner case where pressing Enter fires a bunch of spurious deleteContentBackward events.</p>
<p>Fix a crash in <code>drawSelection</code> for some kinds of selections.</p>
<p>Prevent a possibility where some content updates causes duplicate text to remain in DOM.</p>
<h3 id="new-features-108" tabindex="-1">New features</h3>
<p>Support a <code>maxLength</code> option to <code>MatchDecorator</code> that allows user code to control how far it scans into hidden parts of viewport lines.</p>
<h2 id="codemirror-0.19.1-(2021-12-13)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 0.19.1 (2021-12-13)</h2>
<h3 id="new-features-109" tabindex="-1">New features</h3>
<p>The basic setup now includes the <code>dropCursor</code> extension.</p>
<h2 id="%40codemirror%2Fcommands-0.19.6-(2021-12-10)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.19.6 (2021-12-10)</h2>
<h3 id="bug-fixes-230" tabindex="-1">Bug fixes</h3>
<p>The standard keymap no longer overrides Shift-Delete, in order to allow the native behavior of that key to happen on platforms that support it.</p>
<h2 id="%40codemirror%2Fview-0.19.29-(2021-12-09)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.29 (2021-12-09)</h2>
<h3 id="bug-fixes-231" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that could cause out-of-view editors to get a nonsensical viewport and fail to scroll into view when asked to.</p>
<p>Fix a bug where  would return 0 when clicking below the content if the last line was replaced with a block widget decoration.</p>
<p>Fix an issue where clicking at the position of the previous cursor in a blurred editor would cause the selection to reset to the start of the document.</p>
<p>Fix an issue where composition could be interrupted if the browser created a new node inside a mark decoration node.</p>
<h2 id="%40codemirror%2Fview-0.19.28-(2021-12-08)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.28 (2021-12-08)</h2>
<h3 id="bug-fixes-232" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where pressing Enter on Chrome Android during composition did not fire key handlers for Enter.</p>
<p>Avoid a Chrome bug where the virtual keyboard closes when pressing backspace after a widget.</p>
<p>Fix an issue where the editor could show a horizontal scroll bar even after all lines that caused it had been deleted or changed.</p>
<h2 id="%40codemirror%2Fview-0.19.27-(2021-12-06)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.27 (2021-12-06)</h2>
<h3 id="bug-fixes-233" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that could cause <code>EditorView.plugin</code> to inappropriately return <code>null</code> during plugin initialization.</p>
<p>Fix a bug where a block widget without <code>estimatedHeight</code> at the end of the document could fail to be drawn</p>
<h2 id="%40codemirror%2Fview-0.19.26-(2021-12-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.26 (2021-12-03)</h2>
<h3 id="new-features-110" tabindex="-1">New features</h3>
<p>Widgets can now define a <code>destroy</code> method that is called when they are removed from the view.</p>
<h2 id="%40codemirror%2Fview-0.19.25-(2021-12-02)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.25 (2021-12-02)</h2>
<h3 id="bug-fixes-234" tabindex="-1">Bug fixes</h3>
<p>Widgets around replaced ranges are now visible when their side does not point towards the replaced range.</p>
<p>A replaced line with a line decoration no longer creates an extra empty line block in the editor.</p>
<p>The <code>scrollPastEnd</code> extension will now over-reserve space at the bottom of the editor on startup, to prevent restored scroll positions from being clipped.</p>
<h3 id="new-features-111" tabindex="-1">New features</h3>
<p><code>EditorView.editorAttributes</code> and <code>contentAttributes</code> may now hold functions that produce the attributes.</p>
<h2 id="%40codemirror%2Flanguage-0.19.7-(2021-12-02)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.7 (2021-12-02)</h2>
<h3 id="bug-fixes-235" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the parse worker could incorrectly stop working when the parse tree has skipped gaps in it.</p>
<h2 id="%40codemirror%2Fsearch-0.19.4-(2021-12-02)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.4 (2021-12-02)</h2>
<h3 id="bug-fixes-236" tabindex="-1">Bug fixes</h3>
<p>The search panel will no longer show the replace interface when the editor is read-only.</p>
<h2 id="%40codemirror%2Fview-0.19.24-(2021-12-01)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.24 (2021-12-01)</h2>
<h3 id="bug-fixes-237" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where <code>lineBlockAt</code>, for queries inside the viewport, would always return the first line in the viewport.</p>
<h2 id="%40codemirror%2Fview-0.19.23-(2021-11-30)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.23 (2021-11-30)</h2>
<h3 id="bug-fixes-238" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where after some kinds of changes, <code>EditorView.viewportLineBlocks</code> held an out-of-date set of blocks.</p>
<h3 id="new-features-112" tabindex="-1">New features</h3>
<p>Export <code>EditorView.documentPadding</code>, with information about the vertical padding of the document.</p>
<h2 id="%40codemirror%2Fview-0.19.22-(2021-11-30)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.22 (2021-11-30)</h2>
<h3 id="bug-fixes-239" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where editors with large vertical padding (for example via <code>scrollPastEnd</code>) could sometimes lose their scroll position on Chrome.</p>
<p>Avoid some unnecessary DOM measuring work by more carefully checking whether it is needed.</p>
<h3 id="new-features-113" tabindex="-1">New features</h3>
<p>The new <code>elementAtHeight</code>, <code>lineBlockAtHeight</code>, and <code>lineBlockAt</code> methods provide a simpler and more efficient replacement for the (now deprecated) <code>blockAtHeight</code>, <code>visualLineAtHeight</code>, and <code>visualLineAt</code> methods.</p>
<p>The editor view now exports a <code>documentTop</code> getter that gives you the vertical position of the top of the document. All height info is queried and reported relative to this top.</p>
<p>The editor view's new <code>viewportLineBlocks</code> property provides an array of in-viewport line blocks, and replaces the (now deprecated) <code>viewportLines</code> method.</p>
<h2 id="%40codemirror%2Fview-0.19.21-(2021-11-26)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.21 (2021-11-26)</h2>
<h3 id="bug-fixes-240" tabindex="-1">Bug fixes</h3>
<p>Fix a problem where the DOM update would unnecessarily trigger browser relayouts.</p>
<h2 id="%40codemirror%2Flanguage-0.19.6-(2021-11-26)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.6 (2021-11-26)</h2>
<h3 id="bug-fixes-241" tabindex="-1">Bug fixes</h3>
<p>Fixes an issue where the background parse work would be scheduled too aggressively, degrading responsiveness on a newly-created editor with a large document.</p>
<p>Improve initial highlight for mixed-language editors and limit the amount of parsing done on state creation for faster startup.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.9-(2021-11-26)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.9 (2021-11-26)</h2>
<h3 id="bug-fixes-242" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where info tooltips would be visible in an inappropriate position when there was no room to place them properly.</p>
<h2 id="%40codemirror%2Fsearch-0.19.3-(2021-11-22)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.3 (2021-11-22)</h2>
<h3 id="bug-fixes-243" tabindex="-1">Bug fixes</h3>
<p>Add <code>userEvent</code> annotations to search and replace transactions.</p>
<p>Make sure the editor handles keys bound to <code>findNext</code>/<code>findPrevious</code> even when there are no matches, to avoid the browser's search interrupting users.</p>
<h3 id="new-features-114" tabindex="-1">New features</h3>
<p>Add a <code>Symbol.iterator</code> property to the cursor types, so that they can be used with <code>for</code>/<code>of</code>.</p>
<h2 id="%40codemirror%2Fstate-0.19.6-(2021-11-19)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.6 (2021-11-19)</h2>
<h3 id="bug-fixes-244" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused facet compare functions to be called with an invalid value in some situations.</p>
<p>Fix a bug that caused dynamic facet values to be incorrectly kept unchanged when reconfiguration changed one of their dependencies.</p>
<h2 id="%40codemirror%2Fview-0.19.20-(2021-11-19)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.20 (2021-11-19)</h2>
<h3 id="bug-fixes-245" tabindex="-1">Bug fixes</h3>
<p>Run a measure cycle when the editor's size spontaneously changes.</p>
<h2 id="%40codemirror%2Fview-0.19.19-(2021-11-17)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.19 (2021-11-17)</h2>
<h3 id="bug-fixes-246" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused the precedence of <code>editorAttributes</code> and <code>contentAttributes</code> to be inverted, making lower-precedence extensions override higher-precedence ones.</p>
<h2 id="%40codemirror%2Flanguage-0.19.5-(2021-11-17)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.5 (2021-11-17)</h2>
<h3 id="new-features-115" tabindex="-1">New features</h3>
<p>The new function <code>syntaxTreeAvailable</code> can be used to check if a fully-parsed syntax tree is available up to a given document position.</p>
<p>The module now exports <code>syntaxParserRunning</code>, which tells you whether the background parser is still planning to do more work for a given editor view.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.8-(2021-11-17)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.8 (2021-11-17)</h2>
<h3 id="bug-fixes-247" tabindex="-1">Bug fixes</h3>
<p>Give the completion tooltip a minimal width, and show ellipsis when completions overflow the tooltip width.</p>
<h3 id="new-features-116" tabindex="-1">New features</h3>
<p><code>autocompletion</code> now accepts an <code>aboveCursor</code> option to make the completion tooltip show up above the cursor.</p>
<h2 id="%40codemirror%2Fview-0.19.18-(2021-11-16)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.18 (2021-11-16)</h2>
<h3 id="bug-fixes-248" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the editor wasn't aware it was line-wrapping with its own <code>lineWrapping</code> extension enabled.</p>
<h2 id="%40codemirror%2Fview-0.19.17-(2021-11-16)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.17 (2021-11-16)</h2>
<h3 id="bug-fixes-249" tabindex="-1">Bug fixes</h3>
<p>Avoid an issue where stretches of whitespace on line wrap points could cause the cursor to be placed outside of the content.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.7-(2021-11-16)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.7 (2021-11-16)</h2>
<h3 id="bug-fixes-250" tabindex="-1">Bug fixes</h3>
<p>Make option deduplication less aggressive, so that options with different <code>type</code> or <code>apply</code> fields don't get merged.</p>
<h2 id="%40codemirror%2Flanguage-0.19.4-(2021-11-13)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.4 (2021-11-13)</h2>
<h3 id="new-features-117" tabindex="-1">New features</h3>
<p><code>LanguageDescription.of</code> now takes an optional already-loaded extension.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.6-(2021-11-12)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.6 (2021-11-12)</h2>
<h3 id="bug-fixes-251" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where parsing a snippet with a field that was labeled only by a number crashed.</p>
<h2 id="%40codemirror%2Fview-0.19.16-(2021-11-11)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.16 (2021-11-11)</h2>
<h3 id="breaking-changes-17" tabindex="-1">Breaking changes</h3>
<p>Block replacement decorations now default to inclusive, because non-inclusive block decorations are rarely what you need.</p>
<h3 id="bug-fixes-252" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that caused block widgets to always have a large side value, making it impossible to show them between to replacement decorations.</p>
<p>Fix a crash that could happen after some types of viewport changes, due to a bug in the block widget view data structure.</p>
<h2 id="%40codemirror%2Fstate-0.19.5-(2021-11-10)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.5 (2021-11-10)</h2>
<h3 id="bug-fixes-253" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that would cause dynamic facet values influenced by a state reconfiguration to not properly recompute.</p>
<h2 id="%40codemirror%2Fview-0.19.15-(2021-11-09)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.15 (2021-11-09)</h2>
<h3 id="bug-fixes-254" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where the editor would think it was invisible when the document body was given screen height and scroll behavior.</p>
<p>Fix selection reading inside a shadow root on iOS.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.5-(2021-11-09)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.5 (2021-11-09)</h2>
<h3 id="bug-fixes-255" tabindex="-1">Bug fixes</h3>
<p>Make sure info tooltips don't stick out of the bottom of the page.</p>
<h3 id="new-features-118" tabindex="-1">New features</h3>
<p>The package exports a new function <code>selectedCompletion</code>, which can be used to find out which completion is currently selected.</p>
<p>Transactions created by picking a completion now have an annotation (<code>pickedCompletion</code>) holding the original completion.</p>
<h2 id="%40codemirror%2Flint-0.19.3-(2021-11-09)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.19.3 (2021-11-09)</h2>
<h3 id="new-features-119" tabindex="-1">New features</h3>
<p>Export a function <code>lintGutter</code> which returns an extension that installs a gutter marking lines with diagnostics.</p>
<p>The package now exports the effect used to update the diagnostics (<code>setDiagnosticsEffect</code>).</p>
<h2 id="%40codemirror%2Fview-0.19.14-(2021-11-07)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.14 (2021-11-07)</h2>
<h3 id="bug-fixes-256" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where typing into a read-only editor would move the selection.</p>
<p>Fix slowness when backspace is held down on iOS.</p>
<h2 id="%40codemirror%2Fview-0.19.13-(2021-11-06)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.13 (2021-11-06)</h2>
<h3 id="bug-fixes-257" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where backspace, enter, and delete would get applied twice on iOS.</p>
<h2 id="%40codemirror%2Fstate-0.19.4-(2021-11-05)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.4 (2021-11-05)</h2>
<h3 id="bug-fixes-258" tabindex="-1">Bug fixes</h3>
<p>When reconfiguring a state, effects from the reconfiguring transaction can now be seen by newly added state fields.</p>
<h2 id="%40codemirror%2Fview-0.19.12-(2021-11-04)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.12 (2021-11-04)</h2>
<h3 id="bug-fixes-259" tabindex="-1">Bug fixes</h3>
<p>Make sure the workaround for the lost virtual keyboard on Chrome Android also works on slower phones. Slight style change in beforeinput handler</p>
<p>Avoid failure cases in viewport-based rendering of very long lines.</p>
<h2 id="%40codemirror%2Fstate-0.19.3-(2021-11-03)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.3 (2021-11-03)</h2>
<h3 id="new-features-120" tabindex="-1">New features</h3>
<p>The precedence levels (under <code>Prec</code>) now have more generic names, because their 'meaningful' names were entirely inappropriate in many situations.</p>
<h2 id="%40codemirror%2Fview-0.19.11-(2021-11-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.11 (2021-11-03)</h2>
<h3 id="breaking-changes-18" tabindex="-1">Breaking changes</h3>
<p><code>EditorView.scrollPosIntoView</code> has been deprecated. Use the <code>EditorView.scrollTo</code> effect instead.</p>
<h3 id="new-features-121" tabindex="-1">New features</h3>
<p>The new <code>EditorView.centerOn</code> effect can be used to scroll a given range to the center of the view.</p>
<h2 id="%40codemirror%2Fview-0.19.10-(2021-11-02)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.10 (2021-11-02)</h2>
<h3 id="bug-fixes-260" tabindex="-1">Bug fixes</h3>
<p>Don't crash when <code>IntersectionObserver</code> fires its callback without any records. Try to handle some backspace issues on Chrome Android</p>
<p>Using backspace near uneditable widgets on Chrome Android should now be more reliable.</p>
<p>Work around a number of browser bugs by always rendering zero-width spaces around in-content widgets, so that browsers will treat the positions near them as valid cursor positions and not try to run composition across widget boundaries.</p>
<p>Work around bogus composition changes created by Chrome Android after handled backspace presses.</p>
<p>Work around an issue where tapping on an uneditable node in the editor would sometimes fail to show the virtual keyboard on Chrome Android.</p>
<p>Prevent translation services from translating the editor content. Show direction override characters as special chars by default</p>
<p><code>specialChars</code> will now, by default, replace direction override chars, to mitigate https://trojansource.codes/ attacks.</p>
<h3 id="new-features-122" tabindex="-1">New features</h3>
<p>The editor view will, if <code>parent</code> is given but <code>root</code> is not, derive the root from the parent element.</p>
<p>Line decorations now accept a <code>class</code> property to directly add DOM classes to the line.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.4-(2021-10-24)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.4 (2021-10-24)</h2>
<h3 id="bug-fixes-261" tabindex="-1">Bug fixes</h3>
<p>Don't rely on the platform's highlight colors for the active completion, since those are inconsistent and may not be appropriate for the theme.</p>
<p>Fix incorrect match underline for some kinds of matched completions.</p>
<h2 id="%40codemirror%2Flanguage-data-0.19.1-(2021-10-19)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 0.19.1 (2021-10-19)</h2>
<h3 id="new-features-123" tabindex="-1">New features</h3>
<p>Support Lezer-based PHP and WAST modes.</p>
<h2 id="%40codemirror%2Fview-0.19.9-(2021-10-01)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.9 (2021-10-01)</h2>
<h3 id="bug-fixes-262" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where some kinds of reflows in the surrounding document could move unrendered parts of the editor into view without the editor noticing and updating its viewport.</p>
<p>Fix an occasional crash in the selection drawing extension.</p>
<h2 id="%40codemirror%2Flint-0.19.2-(2021-09-29)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.19.2 (2021-09-29)</h2>
<h3 id="bug-fixes-263" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where reconfiguring the lint source didn't restart linting.</p>
<h2 id="%40codemirror%2Fview-0.19.8-(2021-09-26)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.8 (2021-09-26)</h2>
<h3 id="bug-fixes-264" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that could, on DOM changes near block widgets, insert superfluous line breaks.</p>
<p>Make interacting with a destroyed editor view do nothing, rather than crash, to avoid tripping people up with pending timeouts and such.</p>
<p>Make sure <code>ViewUpdate.viewportChanged</code> is true whenever <code>visibleRanges</code> changes, so that plugins acting only on visible ranges can use it to check when to update.</p>
<p>Fix line-wise cut on empty lines.</p>
<h2 id="%40codemirror%2Fcommands-0.19.5-(2021-09-21)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.19.5 (2021-09-21)</h2>
<h3 id="new-features-124" tabindex="-1">New features</h3>
<p>Adds an <code>insertBlankLine</code> command which creates an empty line below the selection, and binds it to Mod-Enter in the default keymap.</p>
<h2 id="%40codemirror%2Flint-0.19.1-(2021-09-17)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.19.1 (2021-09-17)</h2>
<h3 id="bug-fixes-265" tabindex="-1">Bug fixes</h3>
<p>Prevent decorations that cover just a line break from being invisible by showing a widget instead of range for them.</p>
<h3 id="new-features-125" tabindex="-1">New features</h3>
<p>The <code>diagnosticCount</code> method can now be used to determine whether there are active diagnostics.</p>
<h2 id="%40codemirror%2Fsearch-0.19.2-(2021-09-16)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.2 (2021-09-16)</h2>
<h3 id="bug-fixes-266" tabindex="-1">Bug fixes</h3>
<p><code>selectNextOccurrence</code> will now only select partial words if the current main selection hold a partial word.</p>
<p>Explicitly set the button's type to prevent the browser from submitting forms wrapped around the editor.</p>
<h2 id="%40codemirror%2Fstate-0.19.2-(2021-09-13)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.2 (2021-09-13)</h2>
<h3 id="new-features-126" tabindex="-1">New features</h3>
<p>The editor state now has a <code>readOnly</code> property with a matching facet to control its value.</p>
<h2 id="%40codemirror%2Fview-0.19.7-(2021-09-13)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.7 (2021-09-13)</h2>
<h3 id="bug-fixes-267" tabindex="-1">Bug fixes</h3>
<p>The view is now aware of the new <code>EditorState.readOnly</code> property, and suppresses events that modify the document when it is true.</p>
<h2 id="%40codemirror%2Flanguage-0.19.3-(2021-09-13)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.3 (2021-09-13)</h2>
<h3 id="bug-fixes-268" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where a parse that skipped content with <code>skipUntilInView</code> would in some cases not be restarted when the range came into view.</p>
<h2 id="%40codemirror%2Fcommands-0.19.4-(2021-09-13)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.19.4 (2021-09-13)</h2>
<h3 id="bug-fixes-269" tabindex="-1">Bug fixes</h3>
<p>Make commands that affect the editor's content check <code>state.readOnly</code> and return false when that is true.</p>
<h2 id="%40codemirror%2Fview-0.19.6-(2021-09-10)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.6 (2021-09-10)</h2>
<h3 id="bug-fixes-270" tabindex="-1">Bug fixes</h3>
<p>Remove a <code>console.log</code> that slipped into the previous release.</p>
<h2 id="%40codemirror%2Fview-0.19.5-(2021-09-09)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.5 (2021-09-09)</h2>
<h3 id="new-features-127" tabindex="-1">New features</h3>
<p>The new <code>EditorView.scrollTo</code> effect can be used to scroll a given range into view.</p>
<h2 id="%40codemirror%2Fcommands-0.19.3-(2021-09-09)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.19.3 (2021-09-09)</h2>
<h3 id="bug-fixes-271" tabindex="-1">Bug fixes</h3>
<p>Make by-line cursor motion commands move the cursor to the start/end of the document when they hit the first/last line.</p>
<p>Fix a bug where <code>deleteCharForward</code>/<code>Backward</code> behaved incorrectly when deleting directly before or after an atomic range.</p>
<h2 id="%40codemirror%2Fsearch-0.19.1-(2021-09-06)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.1 (2021-09-06)</h2>
<h3 id="bug-fixes-272" tabindex="-1">Bug fixes</h3>
<p>Make <code>highlightSelectionMatches</code> not produce overlapping decorations, since those tend to just get unreadable.</p>
<p>Make sure any existing search text is selected when opening the search panel. Add search config option to not match case when search panel is opened (#4)</p>
<h3 id="new-features-128" tabindex="-1">New features</h3>
<p>The <code>searchConfig</code> function now takes a <code>matchCase</code> option that controls whether the search panel starts in case-sensitive mode.</p>
<h2 id="%40codemirror%2Fview-0.19.4-(2021-09-01)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.4 (2021-09-01)</h2>
<h3 id="bug-fixes-273" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where lines containing just a widget decoration wrapped in a mark decoration could be displayed with 0 height.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.3-(2021-08-31)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.3 (2021-08-31)</h2>
<h3 id="bug-fixes-274" tabindex="-1">Bug fixes</h3>
<p>Improve the sorting of completions by using <code>localeCompare</code>.</p>
<p>Fix reading of autocompletions in NVDA screen reader.</p>
<h3 id="new-features-129" tabindex="-1">New features</h3>
<p>The new <code>icons</code> option can be used to turn off icons in the completion list.</p>
<p>The <code>optionClass</code> option can now be used to add CSS classes to the options in the completion list.</p>
<p>It is now possible to inject additional content into rendered completion options with the <code>addToOptions</code> configuration option.</p>
<h2 id="%40codemirror%2Fview-0.19.3-(2021-08-25)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.3 (2021-08-25)</h2>
<h3 id="bug-fixes-275" tabindex="-1">Bug fixes</h3>
<p>Fix a view corruption that could happen in situations involving overlapping mark decorations.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.2-(2021-08-25)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.2 (2021-08-25)</h2>
<h3 id="bug-fixes-276" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where <code>completeAnyWord</code> would return results when there was no query and <code>explicit</code> was false.</p>
<h2 id="%40codemirror%2Fcommands-0.19.2-(2021-08-24)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.19.2 (2021-08-24)</h2>
<h3 id="new-features-130" tabindex="-1">New features</h3>
<p>New commands <code>cursorSubwordForward</code>, <code>cursorSubwordBackward</code>, <code>selectSubwordForward</code>, and <code>selectSubwordBackward</code> which implement motion by camel case subword.</p>
<h2 id="%40codemirror%2Fview-0.19.2-(2021-08-23)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.2 (2021-08-23)</h2>
<h3 id="new-features-131" tabindex="-1">New features</h3>
<p>The package now exports a <code>scrollPastEnd</code> function, which returns an extension that adds space below the document to allow the last line to be scrolled to the top of the editor.</p>
<h2 id="%40codemirror%2Fstate-0.19.1-(2021-08-15)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.1 (2021-08-15)</h2>
<h3 id="bug-fixes-277" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where <code>wordAt</code> never returned a useful result.</p>
<h2 id="%40codemirror%2Fstate-0.19.0-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.19.0 (2021-08-11)</h2>
<h3 id="breaking-changes-19" tabindex="-1">Breaking changes</h3>
<p>User event strings now work differently—the events emitted by the core packages follow a different system, and hierarchical event tags can be created by separating the words with dots.</p>
<h3 id="new-features-132" tabindex="-1">New features</h3>
<p><code>languageDataAt</code> now takes an optional <code>side</code> argument to specificy which side of the position you're interested in.</p>
<p>It is now possible to add a user event annotation with a direct <code>userEvent</code> property on a transaction spec.</p>
<p>Transactions now have an <code>isUserEvent</code> method that can be used to check if it is (a subtype of) some user event type.</p>
<h2 id="%40codemirror%2Fview-0.19.1-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.19.1 (2021-08-11)</h2>
<h3 id="breaking-changes-20" tabindex="-1">Breaking changes</h3>
<p>The view now emits new-style user event annotations for the transactions it generates.</p>
<h3 id="bug-fixes-278" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where <code>coordsAtPos</code> would allow the passed <code>side</code> argument to override widget sides, producing incorrect cursor positions.</p>
<p>Fix a bug that could cause content lines to be misaligned in certain situations involving widgets at the end of lines.</p>
<p>Fix an issue where, if the browser decided to modify DOM attributes in the content in response to some editing action, the view failed to reset those again.</p>
<h2 id="%40codemirror%2Flanguage-0.19.2-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.2 (2021-08-11)</h2>
<h3 id="bug-fixes-279" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused <code>indentOnInput</code> to fire for the wrong kinds of transactions.</p>
<p>Fix a bug that could cause <code>indentOnInput</code> to apply its changes incorrectly.</p>
<h2 id="%40codemirror%2Flanguage-0.19.1-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.1 (2021-08-11)</h2>
<h3 id="bug-fixes-280" tabindex="-1">Bug fixes</h3>
<p>Fix incorrect versions for @lezer dependencies.</p>
<h2 id="%40codemirror%2Flanguage-0.19.0-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.19.0 (2021-08-11)</h2>
<h3 id="breaking-changes-21" tabindex="-1">Breaking changes</h3>
<p>CodeMirror now uses lezer 0.15, which means different package names (scoped with @lezer) and some breaking changes in the library.</p>
<p><code>EditorParseContext</code> is now called <code>ParseContext</code>. It is no longer passed to parsers, but must be retrieved with <code>ParseContext.get</code>.</p>
<p><code>IndentContext.lineIndent</code> now takes a position, not a <code>Line</code> object, as argument.</p>
<p><code>LezerLanguage</code> was renamed to <code>LRLanguage</code> (because all languages must emit Lezer-style trees, the name was misleading).</p>
<p><code>Language.parseString</code> no longer exists. You can just call <code>.parser.parse(...)</code> instead.</p>
<h3 id="new-features-133" tabindex="-1">New features</h3>
<p>New <code>IndentContext.lineAt</code> method to access lines in a way that is aware of simulated line breaks.</p>
<p><code>IndentContext</code> now provides a <code>simulatedBreak</code> property through which client code can query whether the context has a simulated line break.</p>
<h2 id="%40codemirror%2Fcommands-0.19.1-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.19.1 (2021-08-11)</h2>
<h3 id="bug-fixes-281" tabindex="-1">Bug fixes</h3>
<p>Fix incorrect versions for @lezer dependencies.</p>
<h2 id="%40codemirror%2Fcommands-0.19.0-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.19.0 (2021-08-11)</h2>
<h3 id="breaking-changes-22" tabindex="-1">Breaking changes</h3>
<p>Change default binding for backspace to <code>deleteCharBackward</code>, drop <code>deleteCodePointBackward</code>/<code>Forward</code> from the library.</p>
<p><code>defaultTabBinding</code> was removed.</p>
<h3 id="bug-fixes-282" tabindex="-1">Bug fixes</h3>
<p>Drop Alt-d, Alt-f, and Alt-b bindings from <code>emacsStyleKeymap</code> (and thus from the default macOS bindings).</p>
<p><code>deleteCharBackward</code> and <code>deleteCharForward</code> now take atomic ranges into account.</p>
<h3 id="new-features-134" tabindex="-1">New features</h3>
<p>Attach more granular user event strings to transactions.</p>
<p>The module exports a new binding <code>indentWithTab</code> that binds tab and shift-tab to <code>indentMore</code> and <code>indentLess</code>.</p>
<h2 id="%40codemirror%2Fsearch-0.19.0-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.19.0 (2021-08-11)</h2>
<h3 id="bug-fixes-283" tabindex="-1">Bug fixes</h3>
<p>Make sure to prevent the native Mod-d behavior so that the editor doesn't lose focus after selecting past the last occurrence.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.1-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.1 (2021-08-11)</h2>
<h3 id="bug-fixes-284" tabindex="-1">Bug fixes</h3>
<p>Fix incorrect versions for @lezer dependencies.</p>
<h2 id="%40codemirror%2Fautocomplete-0.19.0-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.19.0 (2021-08-11)</h2>
<h3 id="breaking-changes-23" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.19.0</p>
<h2 id="%40codemirror%2Flint-0.19.0-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.19.0 (2021-08-11)</h2>
<h3 id="breaking-changes-24" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.19.0</p>
<h2 id="%40codemirror%2Fcollab-0.19.0-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 0.19.0 (2021-08-11)</h2>
<h3 id="breaking-changes-25" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.19.0</p>
<h2 id="%40codemirror%2Flanguage-data-0.19.0-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 0.19.0 (2021-08-11)</h2>
<h3 id="breaking-changes-26" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.19.0</p>
<h2 id="codemirror-0.19.0-(2021-08-11)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 0.19.0 (2021-08-11)</h2>
<h3 id="breaking-changes-27" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.19.0</p>
<h2 id="%40codemirror%2Flint-0.18.6-(2021-08-08)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.18.6 (2021-08-08)</h2>
<h3 id="bug-fixes-285" tabindex="-1">Bug fixes</h3>
<p>Fix a crash in the key handler of the lint panel when no diagnostics are available.</p>
<h2 id="%40codemirror%2Flint-0.18.5-(2021-08-07)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.18.5 (2021-08-07)</h2>
<h3 id="bug-fixes-286" tabindex="-1">Bug fixes</h3>
<p>Fix an issue that caused <code>openLintPanel</code> to not actually open the panel when ran before the editor had any lint state loaded.</p>
<h3 id="new-features-135" tabindex="-1">New features</h3>
<p>The package now exports a <code>forceLinting</code> function that forces pending lint queries to run immediately.</p>
<h2 id="%40codemirror%2Fview-0.18.19-(2021-07-12)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.19 (2021-07-12)</h2>
<h3 id="bug-fixes-287" tabindex="-1">Bug fixes</h3>
<p>Fix a regression where <code>EditorView.editable.of(false)</code> didn't disable editing on Webkit-based browsers.</p>
<h2 id="%40codemirror%2Fview-0.18.18-(2021-07-06)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.18 (2021-07-06)</h2>
<h3 id="bug-fixes-288" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that caused <code>EditorView.moveVertically</code> to only move by one line, even when given a custom distance, in some cases.</p>
<p>Hide Safari's native bold/italic/underline controls for the content.</p>
<p>Fix a CSS problem that prevented Safari from breaking words longer than the line in line-wrapping mode.</p>
<p>Avoid a problem where composition would be inappropriately abored on Safari.</p>
<p>Fix drag-selection that scrolls the content by dragging past the visible viewport.</p>
<h3 id="new-features-136" tabindex="-1">New features</h3>
<p><code>posAtCoords</code> now has an imprecise mode where it'll return an approximate position even for parts of the document that aren't currently rendered.</p>
<h2 id="%40codemirror%2Fautocomplete-0.18.8-(2021-06-30)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.18.8 (2021-06-30)</h2>
<h3 id="new-features-137" tabindex="-1">New features</h3>
<p>Add an <code>ifIn</code> helper function that constrains a completion source to only fire when in a given syntax node. Add support for unfiltered completions</p>
<p>A completion result can now set a <code>filter: false</code> property to disable filtering and sorting of completions, when it already did so itself.</p>
<h2 id="%40codemirror%2Fview-0.18.17-(2021-06-14)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.17 (2021-06-14)</h2>
<h3 id="bug-fixes-289" tabindex="-1">Bug fixes</h3>
<p>Make <code>drawSelection</code> behave properly when lines are split by block widgets.</p>
<p>Make sure drawn selections that span a single line break don't leave a gap between the lines.</p>
<h2 id="%40codemirror%2Fautocomplete-0.18.7-(2021-06-14)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.18.7 (2021-06-14)</h2>
<h3 id="bug-fixes-290" tabindex="-1">Bug fixes</h3>
<p>Don't treat continued completions when typing after an explicit completion as explicit.</p>
<h2 id="%40codemirror%2Fcommands-0.18.3-(2021-06-11)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.18.3 (2021-06-11)</h2>
<h3 id="bug-fixes-291" tabindex="-1">Bug fixes</h3>
<p><code>moveLineDown</code> will no longer incorrectly grow the selection.</p>
<p>Line-based commands will no longer include lines where a range selection ends right at the start of the line.</p>
<h2 id="%40codemirror%2Flint-0.18.4-(2021-06-07)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.18.4 (2021-06-07)</h2>
<h3 id="bug-fixes-292" tabindex="-1">Bug fixes</h3>
<p>Multiple <code>linter</code> extensions can now be added to an editor without disrupting each other.</p>
<p>Fix poor layout on lint tooltips due to changes in @codemirror/tooltip.</p>
<h2 id="%40codemirror%2Fview-0.18.16-(2021-06-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.16 (2021-06-03)</h2>
<h3 id="bug-fixes-293" tabindex="-1">Bug fixes</h3>
<p>Fix a crash that could occur when the document changed during mouse selection.</p>
<p>Fix a bug where composition inside styled content would sometimes be inappropriately aborted by editor DOM updates.</p>
<h3 id="new-features-138" tabindex="-1">New features</h3>
<p><code>MouseSelectionStyle.update</code> may now return true to indicate it should be queried for a new selection after the update.</p>
<h2 id="%40codemirror%2Fautocomplete-0.18.6-(2021-06-03)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.18.6 (2021-06-03)</h2>
<h3 id="bug-fixes-294" tabindex="-1">Bug fixes</h3>
<p>Adding or reconfiguring completion sources will now cause them to be activated right away if a completion was active.</p>
<h3 id="new-features-139" tabindex="-1">New features</h3>
<p>You can now specify multiple types in <code>Completion.type</code> by separating them by spaces. Small doc comment tweak for Completion.type</p>
<h2 id="%40codemirror%2Fview-0.18.15-(2021-06-01)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.15 (2021-06-01)</h2>
<h3 id="bug-fixes-295" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that would, in very specific circumstances, cause <code>posAtCoords</code> to go into an infinite loop in Safari.</p>
<p>Fix a bug where some types of IME input on Mobile Safari would drop text.</p>
<h2 id="%40codemirror%2Flanguage-0.18.2-(2021-06-01)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.18.2 (2021-06-01)</h2>
<h3 id="bug-fixes-296" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where asynchronous re-parsing (with dynamically loaded languages) sometimes failed to fully happen.</p>
<h2 id="%40codemirror%2Fview-0.18.14-(2021-05-28)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.14 (2021-05-28)</h2>
<h3 id="bug-fixes-297" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the DOM selection was sometimes not properly updated when next to a widget.</p>
<p>Invert the order in which overlapping decorations are drawn so that higher-precedence decorations are nested inside lower-precedence ones (and thus override their styling).</p>
<p>Fix a but in <code>posAtCoords</code> where it would in some situations return -1 instead of <code>null</code>.</p>
<h3 id="new-features-140" tabindex="-1">New features</h3>
<p>A new plugin field, <code>PluginField.atomicRanges</code>, can be used to cause cursor motion to skip past some ranges of the document.</p>
<h2 id="%40codemirror%2Fsearch-0.18.4-(2021-05-27)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.18.4 (2021-05-27)</h2>
<h3 id="new-features-141" tabindex="-1">New features</h3>
<p>Initialize the search query to the current selection, when there is one, when opening the search dialog.</p>
<p>Add a <code>searchConfig</code> function, supporting an option to put the search panel at the top of the editor.</p>
<h2 id="codemirror-0.18.2-(2021-05-25)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 0.18.2 (2021-05-25)</h2>
<h3 id="bug-fixes-298" tabindex="-1">Bug fixes</h3>
<p>Fix too-low dependency on @codemirror/gutter that could cause broken upgrades.</p>
<h2 id="%40codemirror%2Fview-0.18.13-(2021-05-20)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.13 (2021-05-20)</h2>
<h3 id="bug-fixes-299" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that would cause the content DOM update to crash in specific circumstances.</p>
<p>Work around an issue where, after some types of changes, Mobile Safari would ignore Enter presses.</p>
<p>Make iOS enter and backspace handling more robust, so that platform bugs are less likely to break those keys in the editor.</p>
<p>Fix a regression where Esc + Tab no longer allowed the user to exit the editor.</p>
<h3 id="new-features-142" tabindex="-1">New features</h3>
<p>You can now drop text files into the editor.</p>
<h2 id="%40codemirror%2Fsearch-0.18.3-(2021-05-18)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.18.3 (2021-05-18)</h2>
<h3 id="bug-fixes-300" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where the first search command in a new editor wouldn't properly open the panel.</p>
<h3 id="new-features-143" tabindex="-1">New features</h3>
<p>New command <code>selectNextOccurrence</code> that selects the next occurrence of the selected word (bound to Mod-d in the search keymap).</p>
<h2 id="codemirror-0.18.1-(2021-05-15)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 0.18.1 (2021-05-15)</h2>
<h3 id="new-features-144" tabindex="-1">New features</h3>
<p>The basic setup now includes <code>highlightActiveLineGutter</code> from @codemirror/gutter.</p>
<h2 id="%40codemirror%2Fview-0.18.12-(2021-05-10)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.12 (2021-05-10)</h2>
<h3 id="bug-fixes-301" tabindex="-1">Bug fixes</h3>
<p>Work around a Mobile Safari bug where, after backspacing out the last character on a line, Enter didn't work anymore.</p>
<p>Work around a problem in Mobile Safari where you couldn't tap to put the cursor at the end of a line that ended in a widget.</p>
<h2 id="%40codemirror%2Flint-0.18.3-(2021-05-10)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.18.3 (2021-05-10)</h2>
<h3 id="bug-fixes-302" tabindex="-1">Bug fixes</h3>
<p>Fix a regression where using <code>setDiagnostics</code> when linting hadn't been abled yet ignored the first set of diagnostics.</p>
<h2 id="%40codemirror%2Fcommands-0.18.2-(2021-05-06)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.18.2 (2021-05-06)</h2>
<h3 id="bug-fixes-303" tabindex="-1">Bug fixes</h3>
<p>Use Ctrl-l, not Alt-l, to bind <code>selectLine</code> on macOS, to avoid conflicting with special-character-insertion bindings.</p>
<p>Make the macOS Command-ArrowLeft/Right commands behave more like their native versions.</p>
<h2 id="%40codemirror%2Fstate-0.18.7-(2021-05-04)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.18.7 (2021-05-04)</h2>
<h3 id="bug-fixes-304" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where state fields might be initialized with a state that they aren't actually part of during reconfiguration.</p>
<h2 id="%40codemirror%2Fview-0.18.11-(2021-04-30)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.11 (2021-04-30)</h2>
<h3 id="bug-fixes-305" tabindex="-1">Bug fixes</h3>
<p>Add an attribute to prevent the Grammarly browser extension from messing with the editor content.</p>
<p>Fix more issues around selection handling a Shadow DOM in Safari.</p>
<h2 id="%40codemirror%2Fview-0.18.10-(2021-04-27)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.10 (2021-04-27)</h2>
<h3 id="bug-fixes-306" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where some types of updates wouldn't properly cause marks around the changes to be joined in the DOM.</p>
<p>Fix an issue where the content and gutters in a fixed-height editor could be smaller than the editor height.</p>
<p>Fix a crash on Safari when initializing an editor in an unfocused window.</p>
<p>Fix a bug where the editor would incorrectly conclude it was out of view in some types of absolutely positioned parent elements.</p>
<h2 id="%40codemirror%2Fview-0.18.9-(2021-04-23)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.9 (2021-04-23)</h2>
<h3 id="bug-fixes-307" tabindex="-1">Bug fixes</h3>
<p>Fix a crash that occurred when determining DOM coordinates in some specific situations.</p>
<p>Fix a crash when a DOM change that ended at a zero-width view element (widget) removed that element from the DOM.</p>
<p>Disable autocorrect and autocapitalize by default, since in most code-editor contexts they get in the way. You can use <code>EditorView.contentAttributes</code> to override this.</p>
<p>Fix a bug that interfered with native touch selection handling on Android.</p>
<p>Fix an unnecessary DOM update after composition that would disrupt touch selection on Android.</p>
<p>Add a workaround for Safari's broken selection reporting when the editor is in a shadow DOM tree.</p>
<p>Fix select-all from the context menu on Safari.</p>
<h2 id="%40codemirror%2Fautocomplete-0.18.5-(2021-04-23)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.18.5 (2021-04-23)</h2>
<h3 id="bug-fixes-308" tabindex="-1">Bug fixes</h3>
<p>Fix a regression where snippet field selection didn't work with @codemirror/state 0.18.6.</p>
<p>Fix a bug where snippet fields with different position numbers were inappropriately merged.</p>
<h2 id="%40codemirror%2Fautocomplete-0.18.4-(2021-04-20)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.18.4 (2021-04-20)</h2>
<h3 id="bug-fixes-309" tabindex="-1">Bug fixes</h3>
<p>Fix a crash in Safari when moving the selection during composition.</p>
<h2 id="%40codemirror%2Fview-0.18.8-(2021-04-19)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.8 (2021-04-19)</h2>
<h3 id="bug-fixes-310" tabindex="-1">Bug fixes</h3>
<p>Handle selection replacements where the inserted text matches the start/end of the replaced text better.</p>
<p>Fix an issue where the editor would miss scroll events when it was placed in a DOM component slot.</p>
<h2 id="%40codemirror%2Flint-0.18.2-(2021-04-16)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.18.2 (2021-04-16)</h2>
<h3 id="bug-fixes-311" tabindex="-1">Bug fixes</h3>
<p>Newlines in line messages are now shown as line breaks to the user.</p>
<h3 id="new-features-145" tabindex="-1">New features</h3>
<p>You can now pass a delay option to <code>linter</code> to configure how long it waits before calling the linter.</p>
<h2 id="%40codemirror%2Fview-0.18.7-(2021-04-13)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.7 (2021-04-13)</h2>
<h3 id="bug-fixes-312" tabindex="-1">Bug fixes</h3>
<p>Fix a crash when drag-selecting out of the editor with editable turned off.</p>
<p>Backspace and delete now largely work in an editor without a keymap.</p>
<p>Pressing backspace on iOS should now properly update the virtual keyboard's capitalize and autocorrect state.</p>
<p>Prevent random line-wrapping in (non-wrapping) editors on Mobile Safari.</p>
<h2 id="%40codemirror%2Fstate-0.18.6-(2021-04-12)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.18.6 (2021-04-12)</h2>
<h3 id="new-features-146" tabindex="-1">New features</h3>
<p>The new <code>EditorState.wordAt</code> method finds the word at a given position.</p>
<h2 id="%40codemirror%2Fstate-0.18.5-(2021-04-08)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.18.5 (2021-04-08)</h2>
<h3 id="bug-fixes-313" tabindex="-1">Bug fixes</h3>
<p>Fix an issue in the compiled output that would break the code when minified with terser.</p>
<h2 id="%40codemirror%2Fview-0.18.6-(2021-04-08)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.6 (2021-04-08)</h2>
<h3 id="bug-fixes-314" tabindex="-1">Bug fixes</h3>
<p>Fix an issue in the compiled output that would break the code when minified with terser.</p>
<h2 id="%40codemirror%2Fcommands-0.18.1-(2021-04-08)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.18.1 (2021-04-08)</h2>
<h3 id="bug-fixes-315" tabindex="-1">Bug fixes</h3>
<p>Also bind Shift-Backspace and Shift-Delete in the default keymap (to do the same thing as the Shift-less binding).</p>
<h3 id="new-features-147" tabindex="-1">New features</h3>
<p>Adds a <code>deleteToLineStart</code> command.</p>
<p>Adds bindings for Cmd-Delete and Cmd-Backspace on macOS.</p>
<h2 id="%40codemirror%2Fview-0.18.5-(2021-04-07)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.5 (2021-04-07)</h2>
<h3 id="bug-fixes-316" tabindex="-1">Bug fixes</h3>
<p>Improve handling of bidi text with brackets (conforming to Unicode 13's bidi algorithm).</p>
<p>Fix the position where <code>drawSelection</code> displays the cursor on bidi boundaries.</p>
<h2 id="%40codemirror%2Fview-0.18.4-(2021-04-07)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.4 (2021-04-07)</h2>
<h3 id="bug-fixes-317" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the default focus ring gets obscured by the gutters and active line.</p>
<p>Fix an issue where the editor believed Chrome Android didn't support the CSS <code>tab-size</code> style.</p>
<p>Don't style active lines when there are non-empty selection ranges, so that the active line background doesn't obscure the selection.</p>
<p>Make iOS autocapitalize update properly when you press Enter.</p>
<h2 id="%40codemirror%2Fstate-0.18.4-(2021-04-06)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.18.4 (2021-04-06)</h2>
<h3 id="new-features-148" tabindex="-1">New features</h3>
<p>The new <code>Transaction.remote</code> annotation can be used to mark and recognize transactions created by other actors.</p>
<h2 id="%40codemirror%2Fcollab-0.18.2-(2021-04-06)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 0.18.2 (2021-04-06)</h2>
<h3 id="bug-fixes-318" tabindex="-1">Bug fixes</h3>
<p>Add <code>Transaction.remote</code> annotation to transactions that include remote updates.</p>
<h2 id="%40codemirror%2Flanguage-0.18.1-(2021-03-31)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.18.1 (2021-03-31)</h2>
<h3 id="breaking-changes-28" tabindex="-1">Breaking changes</h3>
<p><code>EditorParseContext.getSkippingParser</code> now replaces <code>EditorParseContext.skippingParser</code> and allows you to provide a promise that'll cause parsing to start again. (The old property remains available until the next major release.)</p>
<h3 id="bug-fixes-319" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where nested parsers could see past the end of the nested region.</p>
<h2 id="%40codemirror%2Fstate-0.18.3-(2021-03-23)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.18.3 (2021-03-23)</h2>
<h3 id="new-features-149" tabindex="-1">New features</h3>
<p>The <code>ChangeDesc</code> class now has <code>toJSON</code> and <code>fromJSON</code> methods.</p>
<h2 id="%40codemirror%2Fview-0.18.3-(2021-03-19)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.3 (2021-03-19)</h2>
<h3 id="breaking-changes-29" tabindex="-1">Breaking changes</h3>
<p>The outer DOM element now has class <code>cm-editor</code> instead of <code>cm-wrap</code> (<code>cm-wrap</code> will be present as well until 0.19).</p>
<h3 id="bug-fixes-320" tabindex="-1">Bug fixes</h3>
<p>Improve behavior of <code>posAtCoords</code> when the position is near text but not in any character's actual box.</p>
<h2 id="%40codemirror%2Fview-0.18.2-(2021-03-19)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.2 (2021-03-19)</h2>
<h3 id="bug-fixes-321" tabindex="-1">Bug fixes</h3>
<p>Triple-clicking now selects the line break after the clicked line (if any).</p>
<p>Fix an issue where the <code>drawSelection</code> plugin would fail to draw the top line of the selection when it started in an empty line.</p>
<p>Fix an issue where, at the end of a specific type of composition on iOS, the editor read the DOM before the browser was done updating it.</p>
<h2 id="%40codemirror%2Fsearch-0.18.2-(2021-03-19)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.18.2 (2021-03-19)</h2>
<h3 id="bug-fixes-322" tabindex="-1">Bug fixes</h3>
<p>The search interface and cursor will no longer include overlapping matches (aligning with what all other editors are doing).</p>
<h3 id="new-features-150" tabindex="-1">New features</h3>
<p>The package now exports a <code>RegExpCursor</code> which is a search cursor that matches regular expression patterns.</p>
<p>The search/replace interface now allows the user to use regular expressions.</p>
<p>The <code>SearchCursor</code> class now has a <code>nextOverlapping</code> method that includes matches that start inside the previous match.</p>
<p>Basic backslash escapes (\n, \r, \t, and \) are now accepted in string search patterns in the UI.</p>
<h2 id="%40codemirror%2Fsearch-0.18.1-(2021-03-15)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.18.1 (2021-03-15)</h2>
<h3 id="bug-fixes-323" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where entering an invalid input in the goto-line dialog would submit a form and reload the page.</p>
<h2 id="%40codemirror%2Fautocomplete-0.18.3-(2021-03-15)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.18.3 (2021-03-15)</h2>
<h3 id="bug-fixes-324" tabindex="-1">Bug fixes</h3>
<p>Adjust to updated @codemirror/tooltip interface.</p>
<h2 id="%40codemirror%2Flint-0.18.1-(2021-03-15)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.18.1 (2021-03-15)</h2>
<h3 id="bug-fixes-325" tabindex="-1">Bug fixes</h3>
<p>Adjust to current @codemirror/panel and @codemirror/tooltip interfaces.</p>
<h2 id="%40codemirror%2Fstate-0.18.2-(2021-03-14)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.18.2 (2021-03-14)</h2>
<h3 id="bug-fixes-326" tabindex="-1">Bug fixes</h3>
<p>Fix unintended ES2020 output (the package contains ES6 code again).</p>
<h2 id="%40codemirror%2Fautocomplete-0.18.2-(2021-03-14)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.18.2 (2021-03-14)</h2>
<h3 id="bug-fixes-327" tabindex="-1">Bug fixes</h3>
<p>Fix unintended ES2020 output (the package contains ES6 code again).</p>
<h2 id="%40codemirror%2Fcollab-0.18.1-(2021-03-12)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 0.18.1 (2021-03-12)</h2>
<h3 id="breaking-changes-30" tabindex="-1">Breaking changes</h3>
<p><code>Update</code> objects now have a <code>clientID</code> field, and <code>receiveUpdates</code> no longer takes its <code>ownUpdateCount</code> argument, to simplify the interface.</p>
<h2 id="%40codemirror%2Fautocomplete-0.18.1-(2021-03-11)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.18.1 (2021-03-11)</h2>
<h3 id="bug-fixes-328" tabindex="-1">Bug fixes</h3>
<p>Stop active completion when all sources resolve without producing any matches.</p>
<h3 id="new-features-151" tabindex="-1">New features</h3>
<p><code>Completion.info</code> may now return a promise.</p>
<h2 id="%40codemirror%2Fstate-0.18.1-(2021-03-10)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.18.1 (2021-03-10)</h2>
<h3 id="new-features-152" tabindex="-1">New features</h3>
<p>The new <code>Compartment.get</code> method can be used to get the content of a compartment in a given state.</p>
<h2 id="%40codemirror%2Fview-0.18.1-(2021-03-05)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.1 (2021-03-05)</h2>
<h3 id="bug-fixes-329" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where, on iOS, some types of IME would cause the composed content to be deleted when confirming a composition.</p>
<h2 id="%40codemirror%2Fstate-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.18.0 (2021-03-03)</h2>
<h3 id="breaking-changes-31" tabindex="-1">Breaking changes</h3>
<p><code>tagExtension</code> and the <code>reconfigure</code> transaction spec property have been replaced with the concept of configuration compartments and reconfiguration effects (see <code>Compartment</code>, <code>StateEffect.reconfigure</code>, and <code>StateEffect.appendConfig</code>).</p>
<h2 id="%40codemirror%2Fview-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.18.0 (2021-03-03)</h2>
<h3 id="breaking-changes-32" tabindex="-1">Breaking changes</h3>
<p>The <code>themeClass</code> function and ``-style selectors in themes are no longer supported (prefixing with <code>cm-</code> should be done manually now).</p>
<p>Themes must now use <code>&amp;</code> (instead of an extra <code>$</code>) to target the editor wrapper element.</p>
<p>The editor no longer adds <code>cm-light</code> or <code>cm-dark</code> classes. Targeting light or dark configurations in base themes should now be done by using a <code>&amp;light</code> or <code>&amp;dark</code> top-level selector.</p>
<h2 id="%40codemirror%2Fview-0.17.13-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.13 (2021-03-03)</h2>
<h3 id="bug-fixes-330" tabindex="-1">Bug fixes</h3>
<p>Work around a Firefox bug where it won't draw the cursor when it is between uneditable elements.</p>
<p>Fix a bug that broke built-in mouse event handling.</p>
<h2 id="%40codemirror%2Flanguage-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.18.0 (2021-03-03)</h2>
<h3 id="breaking-changes-33" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.18.</p>
<h3 id="breaking-changes-34" tabindex="-1">Breaking changes</h3>
<p>The <code>Language</code> constructor takes an additional argument that provides the top node type.</p>
<h3 id="new-features-153" tabindex="-1">New features</h3>
<p><code>Language</code> instances now have a <code>topNode</code> property giving their top node type.</p>
<p><code>TreeIndentContext</code> now has a <code>continue</code> method that allows an indenter to defer to the indentation of the parent nodes.</p>
<h2 id="%40codemirror%2Fcommands-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.18.0 (2021-03-03)</h2>
<h3 id="breaking-changes-35" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.18.</p>
<h2 id="%40codemirror%2Fsearch-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.18.0 (2021-03-03)</h2>
<h3 id="breaking-changes-36" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.18.</p>
<h2 id="%40codemirror%2Fautocomplete-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.18.0 (2021-03-03)</h2>
<h3 id="bug-fixes-331" tabindex="-1">Bug fixes</h3>
<p>Only preserve selected option across updates when it isn't the first option.</p>
<h2 id="%40codemirror%2Flint-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.18.0 (2021-03-03)</h2>
<h3 id="bug-fixes-332" tabindex="-1">Bug fixes</h3>
<p>Make sure action access keys are discoverable for screen reader users.</p>
<p>Selection in the lint panel should now be properly visible to screen readers.</p>
<h2 id="%40codemirror%2Fcollab-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 0.18.0 (2021-03-03)</h2>
<h3 id="breaking-changes-37" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.18.</p>
<h2 id="%40codemirror%2Flanguage-data-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 0.18.0 (2021-03-03)</h2>
<h3 id="breaking-changes-38" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.18.</p>
<h2 id="codemirror-0.18.0-(2021-03-03)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 0.18.0 (2021-03-03)</h2>
<h3 id="breaking-changes-39" tabindex="-1">Breaking changes</h3>
<p>Update dependencies to 0.18.</p>
<h2 id="%40codemirror%2Fview-0.17.12-(2021-03-02)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.12 (2021-03-02)</h2>
<h3 id="bug-fixes-333" tabindex="-1">Bug fixes</h3>
<p>Avoid interfering with touch events, to allow native selection behavior.</p>
<p>Fix a bug that broke sub-selectors with multiple <code>&amp;</code> placeholders in themes.</p>
<h2 id="%40codemirror%2Fview-0.17.11-(2021-02-25)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.11 (2021-02-25)</h2>
<h3 id="bug-fixes-334" tabindex="-1">Bug fixes</h3>
<p>Fix vertical cursor motion on Safari with a larger line-height.</p>
<p>Fix incorrect selection drawing (with <code>drawSelection</code>) when the selection spans to just after a soft wrap point.</p>
<p>Fix an issue where compositions on Safari were inappropriately aborted in some circumstances.</p>
<p>The view will now redraw when the <code>EditorView.phrases</code> facet changes, to make sure translated text is properly updated.</p>
<h2 id="%40codemirror%2Fcommands-0.17.5-(2021-02-25)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.17.5 (2021-02-25)</h2>
<h3 id="bug-fixes-335" tabindex="-1">Bug fixes</h3>
<p>Use Alt-l for the default <code>selectLine</code> binding, because Mod-l already has an important meaning in the browser.</p>
<p>Make <code>deleteGroupBackward</code>/<code>deleteGroupForward</code> delete groups of whitespace when bigger than a single space.</p>
<p>Don't change lines that have the end of a range selection directly at their start in <code>indentLess</code>, <code>indentMore</code>, and <code>indentSelection</code>.</p>
<h2 id="%40codemirror%2Fview-0.17.10-(2021-02-22)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.10 (2021-02-22)</h2>
<h3 id="bug-fixes-336" tabindex="-1">Bug fixes</h3>
<p>Long words without spaces, when line-wrapping is enabled, are now properly broken.</p>
<p>Fix the horizontal position of selections drawn by <code>drawSelection</code> in right-to-left editors with a scrollbar.</p>
<h2 id="%40codemirror%2Fstate-0.17.2-(2021-02-19)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.17.2 (2021-02-19)</h2>
<h3 id="new-features-154" tabindex="-1">New features</h3>
<p><code>EditorSelection.map</code> and <code>SelectionRange.map</code> now take an optional second argument to indicate which direction to map to.</p>
<h2 id="%40codemirror%2Flanguage-0.17.5-(2021-02-19)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.17.5 (2021-02-19)</h2>
<h3 id="new-features-155" tabindex="-1">New features</h3>
<p>This package now exports a <code>foldInside</code> helper function, a fold function that should work for most delimited node types.</p>
<h2 id="%40codemirror%2Fview-0.17.9-(2021-02-18)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.9 (2021-02-18)</h2>
<h3 id="bug-fixes-337" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where pasting linewise at the start of a line left the cursor before the inserted content.</p>
<h2 id="%40codemirror%2Fcommands-0.17.4-(2021-02-18)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.17.4 (2021-02-18)</h2>
<h3 id="bug-fixes-338" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where <code>deleteToLineEnd</code> would delete the rest of the document when at the end of a line.</p>
<h2 id="%40codemirror%2Fview-0.17.8-(2021-02-16)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.8 (2021-02-16)</h2>
<h3 id="bug-fixes-339" tabindex="-1">Bug fixes</h3>
<p>Fix a problem where the DOM selection and the editor state could get out of sync in non-editable mode.</p>
<p>Fix a crash when the editor was hidden on Safari, due to <code>getClientRects</code> returning an empty list.</p>
<p>Prevent Firefox from making the scrollable element keyboard-focusable.</p>
<h2 id="%40codemirror%2Fcommands-0.17.3-(2021-02-16)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.17.3 (2021-02-16)</h2>
<h3 id="bug-fixes-340" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where <code>insertNewlineAndIndent</code> behaved strangely with the cursor between brackets that sat on different lines.</p>
<h2 id="%40codemirror%2Fview-0.17.7-(2021-01-25)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.7 (2021-01-25)</h2>
<h3 id="new-features-156" tabindex="-1">New features</h3>
<p>Add an <code>EditorView.announce</code> state effect that can be used to conveniently provide screen reader announcements.</p>
<h2 id="%40codemirror%2Fview-0.17.6-(2021-01-22)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.6 (2021-01-22)</h2>
<h3 id="bug-fixes-341" tabindex="-1">Bug fixes</h3>
<p>Avoid creating very high scroll containers for large documents so that we don't overflow the DOM's fixed-precision numbers.</p>
<h2 id="%40codemirror%2Fcommands-0.17.2-(2021-01-22)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.17.2 (2021-01-22)</h2>
<h3 id="new-features-157" tabindex="-1">New features</h3>
<p>The new <code>insertTab</code> command inserts a tab when nothing is selected, and defers to <code>indentMore</code> otherwise.</p>
<p>The package now exports a <code>defaultTabBinding</code> object that provides a recommended binding for tab (if you must bind tab).</p>
<h2 id="%40codemirror%2Fautocomplete-0.17.4-(2021-01-18)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.17.4 (2021-01-18)</h2>
<h3 id="bug-fixes-342" tabindex="-1">Bug fixes</h3>
<p>Fix a styling issue where the selection had become invisible inside snippet fields (when using <code>drawSelection</code>).</p>
<h3 id="new-features-158" tabindex="-1">New features</h3>
<p>Snippet fields can now be selected with the pointing device (so that they are usable on touch devices).</p>
<h2 id="%40codemirror%2Fautocomplete-0.17.3-(2021-01-18)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.17.3 (2021-01-18)</h2>
<h3 id="bug-fixes-343" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where uppercase completions would be incorrectly matched against the typed input.</p>
<h2 id="%40codemirror%2Fview-0.17.5-(2021-01-15)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.5 (2021-01-15)</h2>
<h3 id="bug-fixes-344" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that would create space-filling placeholders with incorrect height when document is very large.</p>
<h2 id="%40codemirror%2Flanguage-0.17.4-(2021-01-15)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.17.4 (2021-01-15)</h2>
<h2 id="%40codemirror%2Flanguage-0.17.3-(2021-01-15)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.17.3 (2021-01-15)</h2>
<h3 id="bug-fixes-345" tabindex="-1">Bug fixes</h3>
<p>Parse scheduling has been improved to reduce the likelyhood of the user looking at unparsed code in big documents.</p>
<p>Prevent parser from running too far past the current viewport in huge documents.</p>
<h2 id="%40codemirror%2Fview-0.17.4-(2021-01-14)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.4 (2021-01-14)</h2>
<h3 id="bug-fixes-346" tabindex="-1">Bug fixes</h3>
<p>The <code>drawSelection</code> extension will now reuse cursor DOM nodes when the number of cursors stays the same, allowing some degree of cursor transition animation.</p>
<p>Makes highlighted special characters styleable (``) and fix their default look in dark themes to have appropriate contrast.</p>
<h3 id="new-features-159" tabindex="-1">New features</h3>
<p>Adds a new <code>MatchDecorator</code> helper class which can be used to easily maintain decorations on content that matches a regular expression.</p>
<h2 id="%40codemirror%2Fautocomplete-0.17.2-(2021-01-12)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.17.2 (2021-01-12)</h2>
<h3 id="bug-fixes-347" tabindex="-1">Bug fixes</h3>
<p>Don't bind Cmd-Space on macOS, since that already has a system default binding. Use Ctrl-Space for autocompletion.</p>
<h2 id="%40codemirror%2Flanguage-data-0.17.2-(2021-01-07)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 0.17.2 (2021-01-07)</h2>
<h3 id="bug-fixes-348" tabindex="-1">Bug fixes</h3>
<p>Properly mark dependencies on the packages that are dynamically imported in package.json.</p>
<h2 id="%40codemirror%2Fstate-0.17.1-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.17.1 (2021-01-06)</h2>
<h3 id="new-features-160" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="%40codemirror%2Fview-0.17.3-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.3 (2021-01-06)</h2>
<h3 id="new-features-161" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="%40codemirror%2Flanguage-0.17.2-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.17.2 (2021-01-06)</h2>
<h3 id="new-features-162" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="%40codemirror%2Fcommands-0.17.1-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.17.1 (2021-01-06)</h2>
<h3 id="new-features-163" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="%40codemirror%2Fsearch-0.17.1-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.17.1 (2021-01-06)</h2>
<h3 id="new-features-164" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="%40codemirror%2Fautocomplete-0.17.1-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.17.1 (2021-01-06)</h2>
<h3 id="new-features-165" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="%40codemirror%2Flint-0.17.1-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.17.1 (2021-01-06)</h2>
<h3 id="new-features-166" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="%40codemirror%2Fcollab-0.17.1-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 0.17.1 (2021-01-06)</h2>
<h3 id="new-features-167" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="%40codemirror%2Flanguage-data-0.17.1-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 0.17.1 (2021-01-06)</h2>
<h3 id="new-features-168" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="codemirror-0.17.1-(2021-01-06)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 0.17.1 (2021-01-06)</h2>
<h3 id="bug-fixes-349" tabindex="-1">Bug fixes</h3>
<p>Putting a theme after the basic setup no longer causes the default highlighter to be used with the theme's editor styling.</p>
<h3 id="new-features-169" tabindex="-1">New features</h3>
<p>The package now also exports a CommonJS module.</p>
<h2 id="%40codemirror%2Fview-0.17.2-(2021-01-04)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.2 (2021-01-04)</h2>
<h3 id="bug-fixes-350" tabindex="-1">Bug fixes</h3>
<p>Work around Chrome problem where the native shift-enter behavior inserts two line breaks.</p>
<p>Make bracket closing and bracket pair removing more reliable on Android.</p>
<p>Fix bad cursor position and superfluous change transactions after pressing enter when in a composition on Android.</p>
<p>Fix issue where the wrong character was deleted when backspacing out a character before an identical copy of that character on Android.</p>
<h2 id="%40codemirror%2Fview-0.17.1-(2020-12-30)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.1 (2020-12-30)</h2>
<h3 id="bug-fixes-351" tabindex="-1">Bug fixes</h3>
<p>Fix a bug that prevented <code>ViewUpdate.focusChanged</code> from ever being true.</p>
<h2 id="%40codemirror%2Flanguage-0.17.1-(2020-12-30)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.17.1 (2020-12-30)</h2>
<h3 id="bug-fixes-352" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where changing the editor configuration wouldn't update the language parser used.</p>
<h2 id="%40codemirror%2Fstate-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#state">@codemirror/state</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-40" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="%40codemirror%2Fview-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#view">@codemirror/view</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-41" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="%40codemirror%2Flanguage-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#language">@codemirror/language</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-42" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="%40codemirror%2Fcommands-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#commands">@codemirror/commands</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-43" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="%40codemirror%2Fsearch-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#search">@codemirror/search</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-44" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="%40codemirror%2Fautocomplete-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#autocomplete">@codemirror/autocomplete</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-45" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="%40codemirror%2Flint-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#lint">@codemirror/lint</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-46" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="%40codemirror%2Fcollab-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#collab">@codemirror/collab</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-47" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="%40codemirror%2Flanguage-data-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#language-data">@codemirror/language-data</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-48" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="codemirror-0.17.0-(2020-12-29)" tabindex="-1"><a href="../ref/index.html#codemirror">codemirror</a> 0.17.0 (2020-12-29)</h2>
<h3 id="breaking-changes-49" tabindex="-1">Breaking changes</h3>
<p>First numbered release.</p>
<h2 id="%40codemirror%2Fnext-0.16.0-(2020-12-28)" tabindex="-1">@codemirror/next 0.16.0 (2020-12-28)</h2>
<h3 id="breaking-changes-50" tabindex="-1">Breaking changes</h3>
<p><code>hoverTooltip</code>'s callback function now takes a position and a side, rather than a predicate function, to determine whether a tooltip should be shown.</p>
<p>The <code>highlightStyle</code> function, which defines a highlight style, is now called <code>HighlightStyle.define</code>.</p>
<p><code>completeSnippets</code> no longer exists. Use <code>completeFromList</code> in combination with <code>snippetCompletion</code>.</p>
<p>The <code>...Support</code> functions that some language packages exported are gone, since it is now possible to get the support extensions directly from the package's main function.</p>
<p>The <code>language</code> facet now returns an optional single language, not an array anymore.</p>
<p>Languages no longer have <code>getTree</code> and <code>ensureTree</code> methods.</p>
<p><code>keymap</code> is now a facet, rather than a function, which means you have to use it with <code>keymap.of(...)</code>.</p>
<p>The <code>markers</code> option to gutters now takes a view, rather than a state, as argument.</p>
<p>The <code>completionKeymap</code> array now contains more default bindings.</p>
<p>Removes support for <code>Text.iterLines</code>.</p>
<p><code>Line</code> objects no longer have <code>slice</code> and <code>findClusterBreak</code> methods (use <code>text</code> and the top-level <code>findClusterBreak</code> function instead).</p>
<p><code>EditorSelection.primary</code> is now called <code>EditorSelection.main</code>.</p>
<p><code>rectangularSelection</code> now takes its configuration as an object.</p>
<p>A state field's <code>provide</code> option works differently. It now takes a function from the field to an extension. <code>Facet.from</code> has been changed to make it easy to use with this option.</p>
<p>To set an extension's precedence, use the properties of the <code>Prec</code> object instead of the old <code>precedence</code> function.</p>
<p><code>ViewUpdate.prevState</code> has been renamed to <code>startState</code>.</p>
<p>The <code>gotoLine</code> command is now part of the search package.</p>
<p><code>highlightActiveLine</code> is now exported from the view package instead of the highlight-selection package.</p>
<p>The <code>highlightSelectionMatches</code> extension is now part of the search package.</p>
<h3 id="bug-fixes-353" tabindex="-1">Bug fixes</h3>
<p>Fix issue where <code>hoverTooltip</code> would falsely believe the mouse was outside of the editor when initialized with the pointer already on the editor.</p>
<p>Drop duplicate completions.</p>
<h3 id="new-features-170" tabindex="-1">New features</h3>
<p>Highlight styles are now instances of an exported <code>HighlightStyle</code> class, which allows you to get at its style module and match it against tags.</p>
<p>The highlight package exports a new function, <code>highlightTree</code>, which runs the tree highlighter over a Lezer tree and tells you which styling should be applied where.</p>
<p><code>Language</code> objects now have a <code>parseString</code> method that can be used to synchronously parse a string of code in that language.</p>
<p>When configuring an XML schema, it is now possible to provide text to complete into a given element.</p>
<p><code>Language</code> objects now have a <code>findRegions</code> method that tells you where in the document the language occurs.</p>
<p><code>Language</code> objects have a new <code>isActiveAt</code> method that tells you whether the language is active at a given point.</p>
<p>The Markdown package now exports two new commands, <code>insertNewlineContinueMarkup</code> and <code>deleteMarkupBackward</code>, to help with editing Markdown.</p>
<p>The new language-data package lists a large number of modes, with some metadata to help locate the one you're interested in.</p>
<p>The language package now exports a <code>LanguageDescription</code> type that can be used to provide metadata about language packages.</p>
<p>The CSS language package now exports a basic CSS completion source.</p>
<p>Language packages' main interface function now returns an instance of <code>LanguageSupport</code> which provides access both to support extensions and the main language.</p>
<p>The new top-level <code>ensureSyntaxTree</code> function in the language package replaces <code>Language.ensureTree</code>.</p>
<p>Facets can now come with extensions that should be enabled when they are present in a state.</p>
<p>The keys used for snippet field navigation are now configurable through the <code>snippetKeymap</code> facet.</p>
<p>The autocomplete package now exports a <code>completeAnyWord</code> function that will gather completions from any words found in the document.</p>
<p>You can now pass <code>defaultKeymap: false</code> to <code>autocompletion</code> to prevent it from adding its default completion keymap.</p>
<p><code>StateField.init</code> can now be used to provide a custom initial value for a field.</p>
<p><code>EditorState.toJSON</code> and <code>fromJSON</code> now allow you to opt in to serializing state fields.</p>
<p><code>Line</code> objects now have a <code>text</code> property holding their entire content.</p>
<p>The new <code>toggleComment</code> command will automatically create a line or block comment depending on what syntax the language supports.</p>
<p>The <code>gotoLine</code> command now allows relative offsets (with <code>+</code> and <code>-</code>), percentages (with a <code>%</code> at the end) and column positions (using <code>:</code> before the column number)</p>
<h2 id="%40codemirror%2Fnext-0.15.0-(2020-12-04)" tabindex="-1">@codemirror/next 0.15.0 (2020-12-04)</h2>
<h3 id="breaking-changes-51" tabindex="-1">Breaking changes</h3>
<p>The highlighting system no longer has the concept of a tag system—rather, all tags now exist in the same space.</p>
<p>Highlighting tags are now represented by objects (with the default tag system under <code>tags</code> in the highlight package) rather than strings.</p>
<p>Highlighting styles are now registered separately from the actual highlighter plugin. Syntax addons take care of registering the highlighter. Styles are defined with the <code>highlightStyle</code> function.</p>
<p>The <code>syntax</code> package no longer exists. Its responsibilities have been taken over by the <code>language</code> package.</p>
<p>Language and syntax-related functionality that used to live in the <code>state</code> package (the syntax provider type, props like <code>indentation</code> and <code>foldable</code>) has been moved to the <code>language</code> package.</p>
<p>The <code>stream-syntax</code> package has been renamed to <code>stream-parser</code>, and its interface has been changed to make use of the abstractions provided by the <code>language</code> package.</p>
<p>Providing language data now works differently (the <code>globalLanguageData</code> facet is gone, replaced by a more general <code>languageData</code> facet).</p>
<p><code>EditorState.tree</code> has been replaced by the <code>syntaxTree</code> function from the <code>language</code> package (since the state package no longer knows about Lezer types).</p>
<p>The <code>...Syntax</code> exports from language packages have all been renamed to <code>...Language</code> for consistency with the library's terminology.</p>
<h3 id="bug-fixes-354" tabindex="-1">Bug fixes</h3>
<p><code>closeBrackets</code> will no longer type-over brackets that it did not itself insert.</p>
<p>Selection drawing in wrapped lines is no longer entirely broken.</p>
<p>Fix an issue where autocompletion wouldn't trigger when an IME composition moved the selection before ending.</p>
<p>Fix a bug where the facet dependency tracking got confused when a dynamic facet depended on another facet that didn't exist in the state.</p>
<p>Querying the coordinates (and thus drawing the cursor) before a block widget no longer crashes.</p>
<p>Fix double-height cursor on line wrap points in Safari.</p>
<p>Actually call <code>ignoreEvent</code> methods on block widgets.</p>
<p>Prevent <code>drawSelection</code> from also hiding the native selection in block widgets.</p>
<p>A text cursor created with <code>Text.iterLines</code> now actually respects the skip parameter.</p>
<h3 id="new-features-171" tabindex="-1">New Features</h3>
<p>The <code>language</code> package now provides most language and parsing related infrastructure. Unlike the old <code>syntax</code> package, it is parse-technique-agnostic. Some of the interfaces that used to live in <code>state</code>, such as the facets and types involved in indentation and folding, have also moved there.</p>
<p>The function passed to <code>changeByRange</code> may now also return effects for each range.</p>
<p>The new <code>State.transactionExtender</code> facet allows you to register functions that add annotations, effects, or reconfiguration to transactions even when they have disabled regular transaction filters.</p>
<p>The new <code>lang-markdown</code> package provides Markdown highlighting.</p>
<p>The <code>foldable</code> function exported from the language package provides an easy way to check whether a given line is foldable.</p>
<p>The <code>getIndentation</code> utility from the language package should now be used to compute automatic indentation for a line. It returns null, as opposed to -1, to indicate that it has no indentation for a given line.</p>
<h2 id="%40codemirror%2Fnext-0.14.0-(2020-10-23)" tabindex="-1">@codemirror/next 0.14.0 (2020-10-23)</h2>
<h3 id="breaking-changes-52" tabindex="-1">Breaking changes</h3>
<p>Lezer and lezer-tree have been upgraded to 0.12, which introduces a few breaking changes.</p>
<p><code>ChangeDesc.mapPos</code> now returns null instead of -1 when reporting a deletion.</p>
<p><code>EditorView.posAtCoords</code> now returns null, rather than -1, when it fails to find a position.</p>
<h3 id="bug-fixes-355" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where Chrome's shift-enter shortcut confused the editor.</p>
<p>Clicking on the completion list scrollbar no longer selects the first completion.</p>
<h3 id="new-features-172" tabindex="-1">New features</h3>
<p>The lang-json package now exports a <code>jsonParseLinter</code> function that produces a linter based on <code>JSON.parse</code>.</p>
<h2 id="%40codemirror%2Fnext-0.13.1-(2020-10-14)" tabindex="-1">@codemirror/next 0.13.1 (2020-10-14)</h2>
<h3 id="bug-fixes-356" tabindex="-1">Bug fixes</h3>
<p>Fix an occasional crash on vertical cursor motion through a scrollable editor.</p>
<p>Fix a bug that caused <code>Change.fromJSON</code> to return invalid change objects in some cases.</p>
<p>Fix a bug where the selection and cursor were drawn in the wrong place in a scrolled editor.</p>
<h2 id="%40codemirror%2Fnext-0.13.0-(2020-10-01)" tabindex="-1">@codemirror/next 0.13.0 (2020-10-01)</h2>
<h3 id="breaking-changes-53" tabindex="-1">Breaking changes</h3>
<p>Themes are now specified differently, using plain CSS selectors extended with <code>$</code> syntax for targeting theme classes. This should make them more flexible.</p>
<p>The style-mod dependency has been upgraded to 3.0, which is a backward-incompatible upgrade.</p>
<p>The <code>multipleSelections</code> extension is no longer supported. You probably want to use <code>drawSelection</code> combined with <code>EditorState.allowMultipleSelections.of(true)</code>.</p>
<p><code>WidgetType</code> no longer takes a type parameter. Implementations are now themselves responsible for creating instance variables and implementing an appropriate <code>eq</code> method.</p>
<p>Drops support for <code>PluginValue.measure</code> (which was very broken already in the previous release).</p>
<h3 id="bug-fixes-357" tabindex="-1">Bug fixes</h3>
<p>The editor no longer loses focus when picking a completion with the mouse.</p>
<p>Fix a bug that caused completion info tooltips to be positioned off-screen.</p>
<h3 id="new-features-173" tabindex="-1">New features</h3>
<p>There is now an SQL language module.</p>
<p>The autocomplete package now exports an <code>ifNotIn</code> helper that can turn off completion sources when the cursor is in a given token type.</p>
<p>There is now a <code>lang-xml</code> package with basic XML support.</p>
<p><code>ViewUpdate</code> objects now have a <code>geometryChanged</code> getter that tells you whether the geometry of the content changed.</p>
<p>The view module now exports a <code>drawSelection</code> function that creates an extension that overrides the native selection drawing.</p>
<p>Scroll handlers registered view <code>EditorView.domEventHandlers</code> or view plugins will now be called any time the view or an ancestor of the view is scrolled.</p>
<p>DOM event handlers may now return void, for convenience.</p>
<p>There is now a <code>lang-rust</code> package.</p>
<p>The view package now exports a <code>placeholder</code> function that can be used to create a placeholder shown when the editor is empty.</p>
<p>The editor view now has a <code>composing</code> property indicating whether IME is active.</p>
<p>The autocomplete package now exports <code>acceptCompletion</code> and <code>moveCompletionSelection</code> commands.</p>
<h2 id="%40codemirror%2Fnext-0.12.0-(2020-09-11)" tabindex="-1">@codemirror/next 0.12.0 (2020-09-11)</h2>
<h3 id="breaking-changes-54" tabindex="-1">Breaking changes</h3>
<p>The way overlapping mark decorations are handled has changed. The editor will now create a separate element for each decoration, and nested them in order of the predecence of the sources that created them (higher precedence wrapping lower precedence, decorations from the state facet wrapping decorations from view plugins).</p>
<p>Registering decorations, event handlers, or other plugin values for a view plugin is now done differently (with an argument to <code>ViewPlugin.define</code> or <code>ViewPlugin.fromClass</code>, rather than method calls on the returned value).</p>
<h3 id="bug-fixes-358" tabindex="-1">Bug fixes</h3>
<p>Vertical cursor motion when the selection isn't empty will now properly collapse it to the appropriate side, rather than moving from the selection head.</p>
<p>Fix the <code>activateOnTyping</code> option to the autocomplete system.</p>
<p>The default backspace binding now deletes by code point, not character.</p>
<p>Tooltips are no longer cut off by scrollable parent elements.</p>
<h3 id="new-features-174" tabindex="-1">New features</h3>
<p><code>StreamParser</code> now allows an optional <code>tagSystem</code> property to use a custom tag system.</p>
<p>Elements created for mark decorations can now span multiple child elements (raw text, or elements created for lower-precedence marks or widgets).</p>
<p>There is now a lang-java package with a Java syntax.</p>
<p>There is now a dedicated syntax tag for boolean literals (&quot;bool&quot;).</p>
<p>Add a C++ syntax.</p>
<p>New commands <code>deleteCodePointForward</code>/<code>Backward</code>.</p>
<p>The editor view now has an <code>inView</code> getter that tells you if the editor is in view at all.</p>
<p>View plugins can now provide a <code>measure</code> method that gets called when the view measures itself.</p>
<h2 id="%40codemirror%2Fnext-0.11.0-(2020-09-03)" tabindex="-1">@codemirror/next 0.11.0 (2020-09-03)</h2>
<h3 id="breaking-changes-55" tabindex="-1">Breaking changes</h3>
<p>Autocompletion contexts no longer have a <code>filter</code> method. Completion sources shouldn't filter anymore, but leave that to the plugin.</p>
<p>The <code>filterDownOn</code> property on completion results is now called <code>span</code>.</p>
<p><code>AutocompleteContext.tokenBefore</code> now takes a list of token type names, and only returns tokens of those types. (In its previous form, it was too error-prone.)</p>
<p>Snippet specs no longer support a <code>name</code> property (use <code>detail</code> instead).</p>
<p>A number of exports from the autocomplete plugin were renamed: <code>autocomplete</code> to <code>autocompletion</code>, <code>AutocompleteContext</code> to <code>CompletionContext</code>, <code>Autocompleter</code> to <code>CompletionSource</code>.</p>
<p><code>SnippetSpec</code> objects are now a subclass of <code>Completion</code> (which mostly means that their <code>keyword</code> property was renamed to <code>label</code>).</p>
<h3 id="bug-fixes-359" tabindex="-1">Bug fixes</h3>
<p>Fix issue that could cause crashes or incorrectly mapped selections in the history when making changes with <code>addToHistory</code> set to false.</p>
<p>Fuzzy completion matching got a lot more clever, and presents results ordered by match quality.</p>
<h3 id="new-features-175" tabindex="-1">New features</h3>
<p>Text copied linewise will now be inserted as lines above the selection when pasted into an empty selection.</p>
<p>The completion list now shows the matched parts of the strings.</p>
<p>The autocomplete package now exports two new functions, <code>completionStatus</code> and <code>currentCompletions</code>, that let external code query its state.</p>
<p>A new method <code>matchBefore</code> on the autocompletion context can now be used to easily find the text matching a given regexp before the cursor.</p>
<p>Completion contexts now have <code>aborted</code> and <code>addEventListener(abort, ...)</code> properties to allow asynchronous completion queries to stop doing work when cancelled.</p>
<p>Completions now support a <code>detail</code> property to add some extra text after their label.</p>
<p>Completions can now have a <code>boost</code> property to influence the way they are sorted compared to other completions that match the input equally well.</p>
<p>Completions can now have an <code>info</code> property that provides extra information to be shown next to the completion when it is selected.</p>
<p><code>ChangeSet</code> now has a <code>toJSON</code> method and a static <code>fromJSON</code> method to serialize to and deserialize from JSON.</p>
<h2 id="%40codemirror%2Fnext-0.10.0-(2020-08-11)" tabindex="-1">@codemirror/next 0.10.0 (2020-08-11)</h2>
<h3 id="breaking-changes-56" tabindex="-1">Breaking changes</h3>
<p><code>LezerSyntax</code> instances are now created with <code>LezerSyntax.define</code> instead of <code>new LezerSyntax</code>.</p>
<p>Transaction and change filters are now passed a full transaction as argument.</p>
<p>The <code>ResolvedTransactionSpec</code> type is no longer part of the interface.</p>
<p>The <code>reconfigured</code> property on transactions has been renamed to <code>reconfigure</code>. Similarly, the <code>scrolledIntoView</code> property is now called <code>scrollIntoView</code>.</p>
<p>Editor state objects no longer have an <code>indentWithTabs</code> property.</p>
<h3 id="bug-fixes-360" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where language data at the end of an unfinished nested grammar at the end of the document would use the outer language instead of the inner.</p>
<h3 id="new-features-176" tabindex="-1">New features</h3>
<p>A <code>LezerSyntax</code> instance can now specify a dialect to parse.</p>
<p>Transactions now have a <code>newDoc</code> property that allows you to access the updated document before the new state has been created.</p>
<p>The <code>indentString</code> property on editor states can be used to compute an indentation string of a given column width.</p>
<p>The view package now exports an <code>indentOnInput</code> extension that enables automatic reindentation when certain patterns are typed at the start of a line. The basic setup enables this.</p>
<p>When the cursor is between matching brackets, <code>insertNewlineAndIndent</code> will insert an additional newline after the cursor.</p>
<p>Transaction specs now support a <code>sequential</code> property, which causes them to be interpreted in the document space as produced by earlier specs.</p>
<h2 id="%40codemirror%2Fnext-0.9.0-(2020-07-30)" tabindex="-1">@codemirror/next 0.9.0 (2020-07-30)</h2>
<h3 id="breaking-changes-57" tabindex="-1">Breaking changes</h3>
<p>The backspace behavior in the <code>closebrackets</code> package is no longer implicitly included in the extension returned by <code>closeBrackets()</code>.</p>
<h3 id="bug-fixes-361" tabindex="-1">Bug fixes</h3>
<p>Fix a crash when running <code>deleteCharBackward</code> when the cursor is at the start of the document.</p>
<p>Fix a bug in <code>Line.slice</code> that would cause it to loop infinitely on long lines.</p>
<p>Make sure the DOM is reset when <code>dispatch</code> fails to update the view.</p>
<p>Fix an issue where double-clicking on a selection in Chrome would leave you with just a cursor, not a selected word.</p>
<h3 id="new-features-177" tabindex="-1">New features</h3>
<p>Highlighting information for a syntax (as in <code>styleTags</code>) can now prefix tag names with <code>!</code> to make them override the styling of any child nodes for that syntax node.</p>
<p>It is now possible, when specifying syntax highlighting information, to write rules for a node that apply only when its parent nodes are of a given type. This uses <code>/</code> syntax, as in <code>&quot;Declaration/Identifier&quot;: &quot;className&quot;</code>.</p>
<p>Completion items can now specify a <code>type</code> property that determines the icon shown next to them.</p>
<p><code>EditorView.inputHandler</code> can now be used to override the way text input (via the DOM) is handled.</p>
<p>The <code>closebrackets</code> package now exports its backspace behavior as a command (<code>deleteBracketPair</code>) and a set of bindings that bind it to backspace as <code>closeBracketsKeymap</code>.</p>
<h2 id="%40codemirror%2Fnext-0.8.0-(2020-06-29)" tabindex="-1">@codemirror/next 0.8.0 (2020-06-29)</h2>
<h3 id="breaking-changes-58" tabindex="-1">Breaking changes</h3>
<p><code>closeBrackets</code> is now a function, rather than an extension value.</p>
<p>The keymap, special-chars, and multiple-selections packages have been merged into the view package.</p>
<p>The way tooltips are declared changed somewhat to fix an issue with tooltips that stay active across document changes.</p>
<p>Assigning precedences to extension is now done using a plain <code>precedence</code> function, rather than a class.</p>
<p>The new state is no longer passed to state field <code>update</code> functions (it is part of the transaction anyway now).</p>
<p>The <code>start</code> and <code>end</code> properties of <code>Line</code> have been renamed to <code>from</code> and <code>to</code> for consistency.</p>
<p><code>EditorView.lineAt</code> is now called <code>visualLineAt</code>. Its second argument now defaults to 0.</p>
<p><code>EditorView.lineAtHeight</code> is now called <code>visualLineAtHeight</code>.</p>
<p>The <code>fillConfig</code> utility is no longer part of the library (the library depends on <code>Object.assign</code> now, which provides a standard way to do the same thing).</p>
<p>Completion sources now get all their arguments as properties of the context object.</p>
<p>Language-specific data is now stored in a facet attached to the syntax object, rather than directly in a node prop.</p>
<p>Reconfiguring transactions are now specified in a slightly different way.</p>
<h3 id="bug-fixes-362" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where the selection was unnecessarily moved to the start of the document when clicking on an unfocused editor.</p>
<p>Work around an issue where sometimes the selection would end in the wrong place on Chrome (because the browser reports a different selection from the one it displays.</p>
<p>Fix an issue where disabling the gutter extension would leave its DOM element in the editor.</p>
<h3 id="new-features-178" tabindex="-1">New features</h3>
<p>The <code>EditorView.updateListener</code> facet can be used to have an external function listening for view updates.</p>
<p>The goto-line package now exports a <code>gotoLineKeymap</code> extension.</p>
<p>The new basic-setup package pulls together all the core extensions into a single configuration value.</p>
<p>You can now move through completions with PageUp and PageDown</p>
<p>The editor view now has a <a href="../ref/index.html#view.EditorView.setState"><code>setState</code></a> method to reset its state (again).</p>
<p>The autocomplete package now exports functionality for completing to 'snippets' (longer pieces of text with fields that can be filled in one at a time).</p>
<p><code>LezerSyntax</code> instances can now directly specify inherent language data (such as comment syntax).</p>
<p>Language packages now export their supporting extensions (if any) as a separate 'support' value.</p>
<p>Autocompletion can now be configured to ask for case-sensitivity.</p>
<p>Completion results can now specify a <code>filterDownOn</code> property to allow the list to be cheaply updated as the user continues typing.</p>
<p>The autocomplete package now exports a <code>completeFromList</code> helper to easily construct a completer from a list of options.</p>
<p><code>EditorView.dispatch</code> can now be directly called with transaction specs (rather than always calling <code>view.state.update</code> to create its argument).</p>
<p>It is now possible to append extensions from transactions.</p>
<p>Transaction filters can now request the full transaction for the (current) transaction spec if they need it.</p>
<h2 id="%40codemirror%2Fnext-0.7.1-(2020-06-12)" tabindex="-1">@codemirror/next 0.7.1 (2020-06-12)</h2>
<h3 id="bug-fixes-363" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where using Enter during composition would insert a newline.</p>
<p>Fix a problem where the library ignored platform-specific key bindings when building a keymap.</p>
<h2 id="%40codemirror%2Fnext-0.7.0-(2020-06-11)" tabindex="-1">@codemirror/next 0.7.0 (2020-06-11)</h2>
<h3 id="breaking-changes-59" tabindex="-1">Breaking changes</h3>
<p><code>EditorView.startMouseSelection</code> has been replaced with the <code>EditorView.mouseSelectionStyle</code> facet, which works somewhat differently.</p>
<p>The <code>indentUnit</code> facet now takes a string, rather than a number, and allows a string of tabs to be specified.</p>
<p>The text package no longer exports <code>isExtendingChar</code>. Use the new cluster break functions instead.</p>
<p>Text direction is now represented as an enum (<code>Direction</code> from the view package) rather than a string.</p>
<p>Selection ranges should be created with <code>EditorSelection.range</code> and <code>EditorSelection.cursor</code> now, rather than directly calling the constructor.</p>
<p>The by-group selection motion commands like <code>moveWordLeft</code> have been renamed to contain 'group' rather than 'word' (<code>moveGroupLeft</code>).</p>
<p><code>EditorView.movePos</code> has been removed. Use the new cursor motion methods instead.</p>
<p>The <code>keyboard</code> and <code>pointer</code> values for <code>Transaction.userEvent</code> have been renamed <code>keyboardselection</code> and <code>pointerselection</code>.</p>
<p>Commands that move the selection are now prefixed with cursor (<code>cursorCharLeft</code>), and those that extend the selection are prefixed with select (<code>selectGroupForward</code>).</p>
<p>Key bindings are no longer specified as objects, but as arrays of <code>KeyBinding</code> specs, one per binding.</p>
<p>Matching delimiters in syntax trees are now registered with <code>NodeProp.openedBy</code>/<code>closedBy</code> instead of custom props exported from the syntax module.</p>
<p>The lint package's interface was simplified to automatically enable the required extensions when necessary, rather than requiring them to be enabled when configuring the editor.</p>
<h3 id="bug-fixes-364" tabindex="-1">Bug fixes</h3>
<p>Indentation-related commands will now use tabs to indent when appropriate.</p>
<p>The default key bindings on macOS are now a lot closer to how native editor interfaces behave.</p>
<h3 id="new-features-179" tabindex="-1">New features</h3>
<p>The editor view now has a <code>scrollPosIntoView</code> method to scroll a given document position into view.</p>
<p>Add a new package <code>rectangular-selection</code>, which implements rectangle selection on alt-drag.</p>
<p>New <code>indentWithTabs</code> getter on the editor state, which indicates whether indentation should use tabs.</p>
<p>The commands package now exports <code>indentMore</code> and <code>indentLess</code> commands, which unconditionally add/remove indentation on selected lines.</p>
<p>The editor view now has a <code>bidiSpans</code> method to retrieve the text order for a given line.</p>
<p>The text package now exports <code>nextClusterBreak</code> and <code>prevClusterBreak</code>, which can be used to find grapheme cluster breaks in a string.</p>
<p>The new <code>EditorView</code> methods <code>moveByChar</code>, <code>moveByGroup</code>, and <code>moveToLineBoundary</code> can be used to compute cursor motion (in a bidi-aware way).</p>
<p>The view method <code>moveVertically</code> can now be used to compute vertical cursor motion.</p>
<p><code>Line</code> objects now have a <code>findClusterBreak</code> method for more convenient by-cluster motion.</p>
<p>New commands <code>movePageUp/Down</code>, <code>extendPageUp/Down</code>, <code>deleteGroupForward/Backward</code>.</p>
<p>The view class now has a <code>lineWrapping</code> property that indicates whether line wrapping is enabled for the editor.</p>
<p><code>EditorView.lineWrapping</code> now holds an extension that enables line wrapping.</p>
<p>Add forward/backward variants of many commands that only support left/right before.</p>
<p>New commands <code>transposeChars</code>, <code>splitLine</code>, and <code>deleteToLineEnd</code> to support macOS's Emacs-style default bindings. New export <code>emacsStyleBaseKeymap</code> that contains these and other Emacs-style bindings.</p>
<p>New commands <code>moveLineBoundaryForward</code>, <code>moveLineBoundaryBackward</code>, <code>extendLineBoundaryForward</code>, and <code>extendLineBoundaryBackward</code>.</p>
<p>New commands <code>extendDocStart</code> and <code>extendDocEnd</code>.</p>
<p>When copying or cutting without a selection, the editor will copy or cut by line.</p>
<p>When pasting N lines while the selection has N active ranges, the editor will now paste one line into each range.</p>
<p>The new <code>EditorState.lineBreak</code> property gives you the proper line break string for a state.</p>
<p>New commands <code>moveLineUp/Down</code> and <code>copyLineUp/Down</code>, bound to Alt-ArrowUp/Down and Shift-Alt-ArrowUp/Down by default.</p>
<p>New command <code>deleteLine</code>, bound to Shift-Mod-k by default.</p>
<p>New commands <code>cursorMatchingBracket</code> and <code>selectMatchingBracket</code>.</p>
<p>It is now possible to customize the DOM element that editor panels are placed into.</p>
<p>The <code>panel</code> extension now has a <code>getPanel</code> accessor to retrieve the panel created by a given constructor function.</p>
<p>New command <code>nextLintDiagnostic</code> to jump to the next linter message.</p>
<p>The new <code>selectParentSyntax</code> command selects the syntax node around the selection.</p>
<p>New commands <code>cursor</code>/<code>selectSyntaxLeft</code>/<code>Right</code> to jump over tokens or bracketed syntactic constructs.</p>
<p>New commands <code>foldAll</code> and <code>unfoldAll</code>.</p>
<p>The fold package now exports a default keymap <code>foldKeymap</code></p>
<p>The comment package now exports a <code>commentKeymap</code> binding.</p>
<p>New command <code>selectLine</code>.</p>
<p>The new <code>highlightActiveLine</code> extension can be used to style lines with a cursor on them.</p>
<p>New extension <code>highlightSelectionMatches</code>, which enables highlighting of text that matches the current selection.</p>
<p>When defining a highlighter, it is now possible to assign a style to multiple tags by separating them by commas in the property name.</p>
<p>New theme package: theme-one-dark.</p>
<p>Key bindings may now involve multiple key strokes (specified as a space-separated string of key names).</p>
<p>Key bindings that include a <code>preventDefault</code> property will now cause the key event to be stopped even when the bound command(s) return false.</p>
<p>New command: <code>deleteTrailingWhitespace</code>.</p>
<p>New command <code>selectSelectionMatches</code> that selects all instances of the currently selected string.</p>
<p>You can now pass a <code>parent</code> option to a view to append it to the DOM right away.</p>
<h2 id="%40codemirror%2Fnext-0.6.0-(2020-05-13)" tabindex="-1">@codemirror/next 0.6.0 (2020-05-13)</h2>
<h3 id="new-features-180" tabindex="-1">New features</h3>
<p>There is now a <code>comment</code> package with commenting/uncommenting commands.</p>
<p>The new <code>collab</code> package implements a framework for collaborative editing.</p>
<p>When creating or updating a state, the selection may now be specified as an <code>{anchor, head?}</code> object literal.</p>
<p>There are new methods <code>toText</code> and <code>sliceDoc</code> on the editor state for working with strings.</p>
<p>Some methods that used to be part of <code>Transaction</code> now have an equivalent on the state object. <code>replaceSelection</code> moved there. <code>changeByRange</code> replaces <code>Transaction.forEachRange</code>. And <code>changes</code> can be used to build up a changeset.</p>
<h3 id="breaking-changes-60" tabindex="-1">Breaking changes</h3>
<p>The <code>Text</code> class interface changed to make better use of its own abstraction. <code>replace</code> takes a <code>Text</code> instance instead of an array of strings, <code>slice</code> now returns a <code>Text</code>, and there's a new <code>append</code> method.</p>
<p>The representation of changes and change sets has been redone. Instead of storing a sequence of change objects, change sets are now a flat map of the locations in the document that changed.</p>
<p>The way transactions work has changed. They are now immutable objects created with <code>EditorState.update</code>.</p>
<p>Transaction filtering works differently now. See the <code>changeFilter</code> and <code>transactionFilter</code> facets.</p>
<p>What used to be extension groups is now called tagged extensions (using the <code>tagExtension</code> function).</p>
<p><code>mapPos</code> now returns -1 to indicate deletion (when the map mode asks for this).</p>
<h2 id="%40codemirror%2Fnext-0.5.2-(2020-04-09)" tabindex="-1">@codemirror/next 0.5.2 (2020-04-09)</h2>
<h3 id="bug-fixes-365" tabindex="-1">Bug fixes</h3>
<p>Fix an issue where external TypeScript builds would try to recompile the library code.</p>
<h2 id="%40codemirror%2Fnext-0.5.1-(2020-04-08)" tabindex="-1">@codemirror/next 0.5.1 (2020-04-08)</h2>
<h3 id="bug-fixes-366" tabindex="-1">Bug fixes</h3>
<p>Include the TypeScript declaration files in the npm package.</p>
<h2 id="%40codemirror%2Fnext-0.5.0-(2020-04-01)" tabindex="-1">@codemirror/next 0.5.0 (2020-04-01)</h2>
<h3 id="breaking-changes-61" tabindex="-1">Breaking changes</h3>
<p><code>EditorView.domEventHandlers</code> is now a function, and the handlers receive their arguments in a different order.</p>
<p>Syntax objects no longer have a <code>languageDataAt</code> method (this was moved to <code>EditorState</code>, and changed somewhat).</p>
<p>Completion functions now return a plain list of results, rather than an object.</p>
<p>The interface to <code>EditorState.indentation</code> changed, taking an <code>IndentContext</code> object.</p>
<p>Facets provided by a state field are now declared in an option to <code>StateField.define</code>, instead of in method calls on the field object.</p>
<p>Isolating transactions so that they become their own undo history item is now done with the <code>isolateHistory</code> annotation.</p>
<p>The packages are no longer available as CommonJS files. To run the code on node.js, you'll need node 13 or pass <code>--experimental-modules</code> to node 12.</p>
<h3 id="new-features-181" tabindex="-1">New features</h3>
<p>View plugins now have an <code>eventHandlers</code> method to attach plugin-specific DOM event handlers.</p>
<p>The editor state now has a <code>languageDataAt</code> that collects values stored under a given property name in the main language data and in object attached for a given document type with the <code>addLanguageData</code> facet.</p>
<p>It is now possible to provide indentation functions with information about already-reindented lines through an <code>IndentContext</code> object, making it possible to reindent a region in one go without re-parsing.</p>
<p>Lint sources can now be asynchronous.</p>
<p>The <code>EditorView.editable</code> facet can now be used to control whether the content is editable.</p>
<p>The <a href="../ref/index.html#state.EditorState%5EselectionFilter"><code>selectionFilter</code></a> facet can now be used to control selection updates.</p>
<p>The new <a href="../ref/index.html#state.EditorState%5EchangeFilter"><code>changeFilter</code></a> facet can be used to stop or modify document changes.</p>
<p><a href="../ref/index.html#state.Transaction.change"><code>Transaction.change</code></a> now also accepts an array of changes to apply in one go.</p>
<p>The history module now exports a facet that allows you to create inverted effects from a transaction, which will be stored in the history. (This allows making non-document state un/redoable.)</p>
<p>Transactions can now contains <a href="../ref/index.html#state.StateEffect">state effects</a>, which can describe state changes for extensions, and be <a href="../ref/index.html#history.invertedEffects">integrated</a> with the undo history.</p>
<p>Transactions now have a <code>mapRef</code> method to easily create a position mapping from a given intermediate document to the current document.</p>
<h2 id="%40codemirror%2Fnext-0.4.0-(2020-02-21)" tabindex="-1">@codemirror/next 0.4.0 (2020-02-21)</h2>
<h3 id="breaking-changes-62" tabindex="-1">Breaking Changes</h3>
<p>Behavior was renamed to <a href="../ref/index.html#state.Facet"><code>Facet</code></a>, and works somewhat differently.</p>
<p>The <code>extension</code> package no longer exists. Extension-related concepts are now part of the <code>state</code> package.</p>
<p>The view no longer has its own extension system. It is entirely configured by state extensions.</p>
<p><a href="../ref/index.html#view.ViewPlugin">View plugins</a> are specified through a state facet now, and have a simpler interface.</p>
<p>View plugins may no longer create decorations that significantly impact the height of content, to avoid the cyclic dependency between plugin decorations and the viewport.</p>
<p><a href="../ref/index.html#view.EditorView%5Etheme">Themes</a> work differently now, using <a href="../ref/index.html#view.themeClass">static CSS classes</a> on DOM elements so that plugins don't have to update their DOM when the editor theme changes.</p>
<p>Highlighting token types now support a numeric suffix, which replaces the old <code>typeN</code> modifiers.</p>
<p>The interface to <a href="../ref/index.html#state.Syntax">syntax extensions</a> and <a href="../ref/index.html#state.EditorState.tree">parse trees</a> changed.</p>
<p>The way transaction <a href="../ref/index.html#state.Annotation">annotations</a> work was simplified a bit.</p>
<p><a href="../ref/index.html#rangeset">Range sets</a> were rewritten and support a somewhat different interface now.</p>
<p>The way <a href="../ref/index.html#view.Decoration">decorations</a> are created now separates the creation of the decoration value from the creation of the range to which it should apply.</p>
<h3 id="new-features-182" tabindex="-1">New features</h3>
<p>State facets can provide <a href="../ref/index.html#view.EditorView%5Edecorations">decorations</a> now.</p>
<p>Reading DOM layout information and similar things is now done with the <a href="../ref/index.html#view.EditorView.requestMeasure"><code>requestMeasure</code></a> method.</p>
<p>Facets now explicitly track which fields and other facets they depend on, so that they are recomputed only when necessary.</p>
<p>Any object that has an <code>extension</code> property that holds an extension value may now be used as an extension.</p>
<p>Overlong lines that are inside the viewport will now be partially hidden to speed up rendering and interaction.</p>
<p>The editor view now has a <a href="../ref/index.html#view.EditorView.textDirection"><code>textDirection</code></a> property telling you whether the main writing direction is left-to-right or right-to-left.</p>
<p>There's now a <a href="../ref/index.html#view.EditorView.visibleRanges"><code>visibleRanges</code></a> property that tells you which part of the viewport is actually going to be drawn, speeding up things like highlighting when there's large amounts of collapsed code in the viewport.</p>
<h3 id="bug-fixes-367" tabindex="-1">Bug fixes</h3>
<p>Fix issue where mouse dragging would create selections with the the anchor and head reversed.</p>
<p>Make code folding behave better when the folded node doesn't start on the same line as the actual fold.</p>
<p>Fix a number of issues that would make parsing big files slow (or even lock up entirely).</p>
<h2 id="%40codemirror%2Fnext-0.3.0-(2019-11-29)" tabindex="-1">@codemirror/next 0.3.0 (2019-11-29)</h2>
<h3 id="breaking-changes-63" tabindex="-1">Breaking changes</h3>
<p>Language-wide configuration is no longer stored in per-extension node props, but in a single <code>languageData</code> object held in a prop defined in the state package. The <code>Syntax</code> method <code>languageDataAt</code> is used to read it.</p>
<p>Unique extensions no longer exist. Instead, extensions are deduplicated by identity. Merging configurations for an extension should now be done in a behavior.</p>
<h3 id="bug-fixes-368" tabindex="-1">Bug fixes</h3>
<p>Fix issue where starting with an empty editor would break height estimates.</p>
<p>Fix an issue where widgets at the end of a line could stay around after being deleted in some cases.</p>
<p>Fix rendering of lines that are empty except for a widget.</p>
<h3 id="new-features-183" tabindex="-1">New features</h3>
<p>A plugin's <code>drawMeasured</code> method may now return true to request another measure/draw cycle.</p>
<p>The editor view now has a <code>requireMeasure</code> method to schedule a layout check that'll allow plugins to measure and update the DOM.</p>
<p>The state package now re-exports the <code>Text</code> type.</p>
<p>Add an adaptor for connecting ESLint output to the CodeMirror linter package to the lang-javascript package.</p>
<p>The <a href="../ref/index.html#tooltip"><code>tooltip</code></a> package provides a way to show tooltip over the editor.</p>
<p>The new <a href="../ref/index.html#autocomplete"><code>autocomplete</code></a> package implements an autocompletion interface.</p>
<p>The new <a href="../ref/index.html#lint"><code>lint</code></a> package integrates linting with the editor by underlining issues and providing a list of problems that you can scroll through.</p>
<p>The <code>lang-javascript</code> package now exports an <a href="../ref/index.html#lang-javascript.esLint"><code>esLint</code></a> function that can be used to wire up <a href="https://eslint.org/">ESLint</a> to the CodeMirror lint integration.</p>
<h2 id="%40codemirror%2Fnext-0.2.0-(2019-10-28)" tabindex="-1">@codemirror/next 0.2.0 (2019-10-28)</h2>
<h3 id="breaking-changes-64" tabindex="-1">Breaking changes</h3>
<p><code>syntaxIndentation</code> no longer has to be registered separately as an extension. It is now implied when registering a tree syntax.</p>
<p>The configuration passed to <code>gutter</code> no longer takes direct class names, but a <code>style</code> option that determines the theme fields used for the gutter.</p>
<p><code>ViewPlugin</code> instances are now created with a static <code>create</code> method, instead of the constructor.</p>
<p>Declaring custom gutters is now done with a <code>Gutter</code> constructor.</p>
<p>Configuring whether the gutters are fixed is now done with the <code>gutters</code> extension, rather than per individual gutter.</p>
<p>There is now an additional wrapper element around the editor (<code>EditorView.scrollDOM</code>), which is the element that should be targeted with <code>overflow</code> style properties.</p>
<p><code>EditorView.cssClass</code> no longer accepts space-separated lists of classes.</p>
<p><code>Slot</code> from the extension package has been replaced with <code>Annotation</code> in the state package. Transaction metadata is now called annotations, and the method names have been updated accordingly.</p>
<p><code>Command</code> from state was renamed to <code>StateCommand</code>, <code>ViewCommand</code> from view is now called <code>Command</code>.</p>
<h3 id="bug-fixes-369" tabindex="-1">Bug fixes</h3>
<p>Fix a bug where a behavior's <code>combine</code> method wasn't called when the behavior was entirely static.</p>
<p>Fix issue that caused nested replaced decorations to be drawn incorrectly.</p>
<p><code>ViewUpdate.themeChanged</code> no longer returns the inverse of what it should be returning.</p>
<p>Avoid crash on Firefox when focusing the editor if another form field has focus.</p>
<p>Fixes a bug where changes near replacing decorations would corrupt the editor's view of its height layout.</p>
<h3 id="new-features-184" tabindex="-1">New features</h3>
<p>The new <code>EditorState.foldable</code> behavior provides a way to register code folding services.</p>
<p>Lezer syntax can now register code folding metadata on tree nodes via <code>foldNodeProp</code>.</p>
<p>There is now a fold package with code folding commands (which need the <code>codeFolding</code> extension to be active to work).</p>
<p><code>EditorView.posFromDOM</code> can now be used to find the document position of a given DOM position.</p>
<p>Gutters can now be themed.</p>
<p><code>ViewPlugin</code> instances can be extended with dynamic behavior using their <code>behavior</code> and <code>decorations</code> methods.</p>
<p>Gutters can now be passed a <code>handleDOMEvents</code> option that allows client code to register event handlers on them.</p>
<p>You can now iterate over a <code>RangeSet</code> more cheaply with an (internal) iterator using the <code>between</code> method.</p>
<p>Syntax services now have a <code>docTypeAt</code> method that gives you the grammar node around the given point (which may be part of a nesting grammar).</p>
<p>The text package now has replacements for <code>codePointAt</code> and <code>fromCodePoint</code>.</p>
<p>Added a bracket-closing extension in the <code>closebrackets</code> package.</p>
<p>Adds a panel package that contains functionality for showing UI panels at the top or bottom of the editor.</p>
<p>The new search package provides search/replace-related functionality.</p>
<p>Themes and <code>EditorView.cssClass</code> can now target dot-separated more specific versions of a name.</p>
<p>The <code>phrase</code> method on the editor view can now be used to access translation provided with the <code>EditorView.phrases</code> behavior.</p>
<p>Widget <code>toDOM</code> methods are now passed the editor view.</p>
<p>Add <code>EditorView.scrollMargins</code> behavior, which can be used to make the view scroll past regions at the side of the editor when scrolling something into view.</p>
<p>The keymap package now exports a <code>NormalizedKeymap</code> class that can be used to build key handlers on other elements.</p>
<h2 id="%40codemirror%2Fnext-0.1.0-(2019-10-10)" tabindex="-1">@codemirror/next 0.1.0 (2019-10-10)</h2>
<h3 id="breaking-changes-65" tabindex="-1">Breaking Changes</h3>
<p>First numbered release.</p>
</article><footer>
  <nav>
    <div class=navlinks>
      <a href="http://contributor-covenant.org/version/1/1/0/">Code of Conduct</a>
      <a href="https://github.com/codemirror/dev/issues">Report an Issue</a>
    </div>
  </nav>
</footer>


<!-- Mirrored from codemirror.net/docs/changelog/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 01 Jul 2024 17:27:20 GMT -->
</html>